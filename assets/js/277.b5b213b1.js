(window.webpackJsonp=window.webpackJsonp||[]).push([[277],{757:function(s,a,e){"use strict";e.r(a);var t=e(19),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"cka测试1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cka测试1"}},[s._v("#")]),s._v(" CKA测试1")]),s._v(" "),e("h3",{attrs:{id:"【题目1】pod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目1】pod"}},[s._v("#")]),s._v(" 【题目1】Pod")]),s._v(" "),e("p",[s._v("使用 nginx:alpine 映像部署一个名为 nginx-pod 的 pod。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl run nginx-pod --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:alpine\npod/nginx-pod created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目2】label"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目2】label"}},[s._v("#")]),s._v(" 【题目2】Label")]),s._v(" "),e("p",[s._v("使用标签设置为 tier=msg 的 redis:alpine 映像部署消息传递 pod。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl run messaging --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("redis:alpine --labels "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tier")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("msg\npod/messaging created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目3】namespace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目3】namespace"}},[s._v("#")]),s._v(" 【题目3】Namespace")]),s._v(" "),e("p",[s._v("创建名为 apx-x9984574 的命名空间。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl create ns apx-x9984574\nnamespace/apx-x9984574 created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目4】kubectl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目4】kubectl"}},[s._v("#")]),s._v(" 【题目4】kubectl")]),s._v(" "),e("p",[s._v("获取 JSON 格式的节点列表并将其存储在位于 /opt/outputs/nodes-z3444kd9.json 的文件中。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl get "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" -o json "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /opt/outputs/nodes-z3444kd9.json\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"【题目5】service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目5】service"}},[s._v("#")]),s._v(" 【题目5】Service")]),s._v(" "),e("p",[s._v("创建一个服务消息服务以在端口 6379 上公开集群内的消息应用程序。 使用命令式命令。")]),s._v(" "),e("ul",[e("li",[s._v("Service: messaging-service")]),s._v(" "),e("li",[s._v("Port: 6379")]),s._v(" "),e("li",[s._v("Type: ClusterIp")]),s._v(" "),e("li",[s._v("Use the right labels")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl expose pod messaging --name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("messaging-service --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ClusterIP --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\nservice/messaging-service exposed\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目6】deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目6】deployment"}},[s._v("#")]),s._v(" 【题目6】Deployment")]),s._v(" "),e("p",[s._v("使用图像 kodekloud/webapp-color 和 2 个副本创建名为 hr-web-app 的部署。")]),s._v(" "),e("ul",[e("li",[s._v("Name: hr-web-app")]),s._v(" "),e("li",[s._v("Image: kodekloud/webapp-color")]),s._v(" "),e("li",[s._v("Replicas: 2")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@controlplane:~$ kubectl create deployment hr-web-app --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kodekloud/webapp-color --replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" \ndeployment.apps/hr-web-app created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目7】pod-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目7】pod-command"}},[s._v("#")]),s._v(" 【题目7】Pod-command")]),s._v(" "),e("p",[s._v("在使用 busybox 映像和命令 sleep 1000 的 controlplane 节点上创建一个名为 static-busybox 的静态 pod。")]),s._v(" "),e("ul",[e("li",[s._v("Name: static-busybox")]),s._v(" "),e("li",[s._v("Image: busybox")])]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[s._v("root@controlplane"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token null important"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/kubernetes/manifests/static-busybox.yaml ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Pod\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[s._v("null")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" static"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("busybox\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" static"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("busybox\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" busybox\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" static"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("busybox\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sleep"')]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1000"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h3",{attrs:{id:"【题目8】pod-ns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目8】pod-ns"}},[s._v("#")]),s._v(" 【题目8】Pod-ns")]),s._v(" "),e("p",[s._v("在名为 temp-bus 的金融命名空间中使用图像 redis:alpine 创建一个 POD。")]),s._v(" "),e("ul",[e("li",[s._v("Name: temp-bus")]),s._v(" "),e("li",[s._v("Image Name: redis:alpine")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl run temp-bus --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("redis:alpine --namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("finance --restart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Never\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"【题目9】edit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目9】edit"}},[s._v("#")]),s._v(" 【题目9】Edit")]),s._v(" "),e("p",[s._v("部署了一个新的应用程序橙色。它有问题。识别并修复问题")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sh\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("c\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sleeeep 2;  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" sleep 2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"【题目10】service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目10】service"}},[s._v("#")]),s._v(" 【题目10】Service")]),s._v(" "),e("p",[s._v("在集群节点上的端口 30082 上将 hr-web-app 作为服务 hr-web-app-service 应用程序公开。 Web 应用程序侦听端口 8080。")]),s._v(" "),e("ul",[e("li",[s._v("Name: hr-web-app-service")]),s._v(" "),e("li",[s._v("Type: NodePort")]),s._v(" "),e("li",[s._v("Endpoints: 2")]),s._v(" "),e("li",[s._v("Port: 8080")]),s._v(" "),e("li",[s._v("NodePort: 30082")])]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[s._v("root@controlplane"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token null important"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat hr-web-app-service.yaml ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[s._v("null")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodePort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30082")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NodePort\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("loadBalancer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h3",{attrs:{id:"【题目11】json-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目11】json-path"}},[s._v("#")]),s._v(" 【题目11】Json PATH")]),s._v(" "),e("p",[s._v("使用 JSON PATH 查询检索所有节点的 osImages 并将其存储在文件 /opt/outputs/nodes_os_x43kj56.txt 中。 osImages 位于每个节点状态下的 nodeInfo 部分下。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl get nodes -o "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{.items[*].status.nodeInfo.osImage}'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /opt/outputs/nodes_os_x43kj56.txt\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"【题目12】pv-hostpath"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目12】pv-hostpath"}},[s._v("#")]),s._v(" 【题目12】PV-hostpath")]),s._v(" "),e("p",[s._v("创建具有给定规范的持久卷。")]),s._v(" "),e("ul",[e("li",[s._v("Volume Name: pv-analytics")]),s._v(" "),e("li",[s._v("Storage: 100Mi")]),s._v(" "),e("li",[s._v("Access modes: ReadWriteMany")]),s._v(" "),e("li",[s._v("Host Path: /pv/data-analytics")])]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" PersistentVolume\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("analytics\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("capacity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("storage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100Mi\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumeMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Filesystem\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("accessModes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ReadWriteMany\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hostPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /pv/data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("analytics\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h3",{attrs:{id:"【题目13】rbac"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目13】rbac"}},[s._v("#")]),s._v(" 【题目13】RBAC")]),s._v(" "),e("p",[s._v("创建开发用户在默认命名空间中创建、列出和删除 Pod 所需的必要角色和角色绑定。 使用给定的规范：")]),s._v(" "),e("ul",[e("li",[s._v("Role: developer")]),s._v(" "),e("li",[s._v("Role Resources: pods")]),s._v(" "),e("li",[s._v("Role Actions: list")]),s._v(" "),e("li",[s._v("Role Actions: create")]),s._v(" "),e("li",[s._v("Role Actions: delete")]),s._v(" "),e("li",[s._v("RoleBinding: dev-user-binding")]),s._v(" "),e("li",[s._v("RoleBinding: Bound to dev-user")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl create role developer --namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("default --verb"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("list,create,delete --resource"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("pods\n$ kubectl create rolebinding dev-user-binding --namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("default --role"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("developer --user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dev-user\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"【题目14】clusterrole"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目14】clusterrole"}},[s._v("#")]),s._v(" 【题目14】ClusterRole")]),s._v(" "),e("p",[s._v("新用户 Michelle 加入了团队。她将专注于集群中的节点。创建所需的 ClusterRoles 和 ClusterRoleBindings，以便她访问节点。")]),s._v(" "),e("ul",[e("li",[s._v("ClusterRole: node-admin")]),s._v(" "),e("li",[s._v("ClusterRoleBinding: michelle-binding")]),s._v(" "),e("li",[s._v("User: michelle")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v(" controlplane ~ ➜ $ kubectl create clusterrole node-admin  --verb"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("get,list,watch,create,delete --resource"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nodes \nclusterrole.rbac.authorization.k8s.io/node-admin created\ncontrolplane ~ ➜ $ kubectl create clusterrolebinding michelle-binding --clusterrole"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node-admin --user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("michelle \nclusterrolebinding.rbac.authorization.k8s.io/michelle-binding created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"【题目15】clusterrolebinding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【题目15】clusterrolebinding"}},[s._v("#")]),s._v(" 【题目15】ClusterRoleBinding")]),s._v(" "),e("p",[s._v("职责越来越大，现在她也将负责存储。创建所需的 ClusterRoles 和 ClusterRoleBindings 以允许她访问 Storage。")]),s._v(" "),e("ul",[e("li",[s._v("ClusterRole: storage-admin")]),s._v(" "),e("li",[s._v("Resource: persistentvolumes")]),s._v(" "),e("li",[s._v("Resource: storageclasses")]),s._v(" "),e("li",[s._v("ClusterRoleBinding: michelle-storage-admin")]),s._v(" "),e("li",[s._v("ClusterRoleBinding Subject: michelle")]),s._v(" "),e("li",[s._v("ClusterRoleBinding Role: storage-admin")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("controlplane ~ ➜ $ kubectl create clusterrole --verb"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("list,watch,get,create,delete --resource"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("persistentvolumes,storageclasses \nerror: exactly one NAME is required, got "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nSee "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kubectl create clusterrole -h'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" and examples\n\ncontrolplane ~ ➜ $ kubectl create clusterrolebinding michelle-storage-admin --clusterrole"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storage-admin --user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("michelle\nclusterrolebinding.rbac.authorization.k8s.io/michelle-storage-admin created\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);