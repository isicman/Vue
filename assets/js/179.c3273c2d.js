(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{661:function(s,t,a){"use strict";a.r(t);var n=a(19),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux三剑客实例详解「grep、sed-、awk」"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux三剑客实例详解「grep、sed-、awk」"}},[s._v("#")]),s._v(" Linux三剑客实例详解「grep、sed 、awk」")]),s._v(" "),a("h2",{attrs:{id:"三剑客的前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三剑客的前言"}},[s._v("#")]),s._v(" 三剑客的前言")]),s._v(" "),a("h3",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("blockquote",[a("p",[a("strong",[a("code",[s._v("Linux 操作文本的三大利器分别是grep、sed 、awk，简称三剑客。")])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("大师兄 awk：最擅长取列；二师兄 sed：最擅长取行；三师兄 grep：最擅长过滤。")])])])]),s._v(" "),a("h3",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),a("p",[s._v("三者的功能都是处理文本，但侧重点各不相同，其中属 "),a("code",[s._v("awk")]),s._v(" 功能最强大，但也最复杂。"),a("code",[s._v("grep")]),s._v(" 更适合单纯的查找或匹配文本，"),a("code",[s._v("sed")]),s._v(" 更适合编辑匹配到的文本，"),a("code",[s._v("awk")]),s._v(" 更适合格式化文本，对文本进行较复杂格式处理。")]),s._v(" "),a("p",[a("strong",[s._v("简单概括：")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("grep：数据查找定位")])]),s._v(" "),a("li",[a("code",[s._v("awk：数据切片")])]),s._v(" "),a("li",[a("code",[s._v("sed：数据修改")])])]),s._v(" "),a("h2",{attrs:{id:"正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式"}},[s._v("#")]),s._v(" 正则表达式")]),s._v(" "),a("p",[s._v("正则表达式：REGular EXPression, REGEXP。我们通过特定的字符串匹配模板，来获取到所需的内容。熟练掌握好正则表达式是使用"),a("code",[s._v("Linux三剑客")]),s._v("的前提啊。")]),s._v(" "),a("h3",{attrs:{id:"元字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元字符"}},[s._v("#")]),s._v(" 元字符")]),s._v(" "),a("p",[a("code",[s._v(".")]),s._v("  : 匹配任意单个字符；\n"),a("code",[s._v("[]")]),s._v(" : 匹配指定范围内的任意单个字符；\n"),a("code",[s._v("[^]")]),s._v("：匹配指定范围外的任意单个字符；")]),s._v(" "),a("h3",{attrs:{id:"字符集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符集合"}},[s._v("#")]),s._v(" 字符集合")]),s._v(" "),a("p",[a("code",[s._v("[[:digit:]]")]),s._v("：匹配单个数字；\n"),a("code",[s._v("[[:lower:]]")]),s._v("：匹配单个小写字母；\n"),a("code",[s._v("[[:upper:]]")]),s._v("：匹配单个大写字母；\n"),a("code",[s._v("[[:punct:]]")]),s._v("：匹配单个标点字符；\n"),a("code",[s._v("[[:space:]]")]),s._v("：匹配单个空白字符；\n"),a("code",[s._v("[[:alpha:]]")]),s._v("：匹配单个字母；\n"),a("code",[s._v("[[:alnum:]]")]),s._v("：匹配单个字母或数字；")]),s._v(" "),a("h3",{attrs:{id:"匹配次数-贪婪模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#匹配次数-贪婪模式"}},[s._v("#")]),s._v(" 匹配次数（贪婪模式）")]),s._v(" "),a("p",[a("code",[s._v("*")]),s._v("：匹配其前面的字符任意次\n"),a("code",[s._v("?")]),s._v("：匹配其前面的字符0次或者1次\n"),a("code",[s._v("+")]),s._v("：匹配其前面的字符至少1次\n"),a("code",[s._v(".*")]),s._v("：任意长度的任意字符")]),s._v(" "),a("h3",{attrs:{id:"位置锚定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置锚定"}},[s._v("#")]),s._v(" 位置锚定")]),s._v(" "),a("p",[a("code",[s._v("^")]),s._v(": 锚定行首，此字符后面的任意内容必须出现在行首\n"),a("code",[s._v("$")]),s._v(": 锚定行尾，此字符前面的任意内容必须出现在行尾\n"),a("code",[s._v("^$")]),s._v(": 空白行")]),s._v(" "),a("h3",{attrs:{id:"linux实际使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux实际使用"}},[s._v("#")]),s._v(" Linux实际使用")]),s._v(" "),a("p",[s._v("由于linux系统shell解释器的特殊处理，某些元字符在linux下具有展开式等特殊含义，在实际的使用过程中我们需要添加"),a("code",[s._v("\\")]),s._v("进行转义。\n"),a("code",[s._v("\\?")]),s._v("：匹配其前面的字符1次或0次；\n"),a("code",[s._v("\\+")]),s._v("：匹配至少一次；\n"),a("code",[s._v("\\{m,n\\}")]),s._v("：匹配其前面的字符至少m次，至多n次；\n"),a("code",[s._v("\\{1,\\}")]),s._v("：匹配前面的字符至少1次；\n"),a("code",[s._v("\\{0,3\\}")]),s._v("：匹配前面的字符0次至3次均可；")]),s._v(" "),a("blockquote",[a("p",[s._v("备注：至少0次，必须要显示的写出来；")])]),s._v(" "),a("p",[a("code",[s._v("\\<或\\b")]),s._v("：锚定词首，其后面的任意字符必须作为单词首部出现\n"),a("code",[s._v("\\>或\\b")]),s._v("：锚定词尾，其前面的任意字符必须作为单词的尾部出现")]),s._v(" "),a("h3",{attrs:{id:"分组与后向引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分组与后向引用"}},[s._v("#")]),s._v(" 分组与后向引用")]),s._v(" "),a("p",[a("code",[s._v("\\(\\)")]),s._v(" "),a("code",[s._v("\\(ab\\)*")]),s._v(" "),a("code",[s._v("\\1")]),s._v("：引用第1个左括号以及与之对应的括号所包括的所有内容；\n"),a("code",[s._v("\\2")]),s._v("：引用第2个左括号以及与之对应的括号所包括的所有内容，以此类推；")]),s._v(" "),a("h2",{attrs:{id:"拓展正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拓展正则表达式"}},[s._v("#")]),s._v(" 拓展正则表达式")]),s._v(" "),a("p",[s._v("可以看到标准正则表达的使用过程中，许多符号都需要转义，这在工作中带来了一定的不便，因此扩展的正则表达式便出现了。 "),a("code",[s._v('"用egrep"')])]),s._v(" "),a("h3",{attrs:{id:"字符匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符匹配"}},[s._v("#")]),s._v(" 字符匹配：")]),s._v(" "),a("p",[a("code",[s._v(".")]),s._v("：匹配单个字符；\n"),a("code",[s._v("[abc]")]),s._v("：包含abc任意一个字符\n"),a("code",[s._v("[^abc]")]),s._v("：不包含abc任意一个字符")]),s._v(" "),a("h3",{attrs:{id:"次数匹配-不用再转义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#次数匹配-不用再转义"}},[s._v("#")]),s._v(" 次数匹配（不用再转义）：")]),s._v(" "),a("p",[a("code",[s._v("*")]),s._v("：匹配前一个字符任意次；\n"),a("code",[s._v("?")]),s._v("：匹配其前面的字符1次或0次；\n"),a("code",[s._v("+")]),s._v("：匹配其前面的字符至少1次；\n"),a("code",[s._v("{m,n}")]),s._v("：匹配其前面的字符至少m次，至多n次；")]),s._v(" "),a("h3",{attrs:{id:"位置锚定-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置锚定-2"}},[s._v("#")]),s._v(" 位置锚定：")]),s._v(" "),a("p",[s._v("对比使用方式："),a("code",[s._v("^")]),s._v(" 和 "),a("code",[s._v("$")]),s._v("\n这里要注意的是对于词首定位和词尾定位，分别是"),a("code",[s._v("\\<")]),s._v(" 和 "),a("code",[s._v("\\>")]),s._v("，依然需要加上反斜杠；")]),s._v(" "),a("h3",{attrs:{id:"分组-不用再转义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分组-不用再转义"}},[s._v("#")]),s._v(" 分组（不用再转义）：")]),s._v(" "),a("p",[a("code",[s._v("()")]),s._v("：分组\n"),a("code",[s._v("\\1")]),s._v(", "),a("code",[s._v("\\2")]),s._v(", "),a("code",[s._v("\\3")]),s._v("：分别对应第n个括号所匹配的内容；")]),s._v(" "),a("h3",{attrs:{id:"或运算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#或运算"}},[s._v("#")]),s._v(" 或运算")]),s._v(" "),a("p",[a("code",[s._v("|")]),s._v("： 可以同时取并集；")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：C|cat表示的是C或cat（表示的是整个部分）")])]),s._v(" "),a("p",[s._v("可以看到，使用扩展的正则表达式可以省略很多的转义符号，这尤其在写sed语句时极大的提高了代码的可读性。建议优先使用扩展的正则表达式。")]),s._v(" "),a("h2",{attrs:{id:"grep命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep命令"}},[s._v("#")]),s._v(" grep命令")]),s._v(" "),a("h3",{attrs:{id:"grep相关命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep相关命令"}},[s._v("#")]),s._v(" grep相关命令")]),s._v(" "),a("p",[s._v("grep命令家族由grep, egrep, fgrep 三个子命令组成，适用于不同的场景。具体如下：")]),s._v(" "),a("h4",{attrs:{id:"命令描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令描述"}},[s._v("#")]),s._v(" 命令描述")]),s._v(" "),a("p",[s._v("grep 原生的grep命令，使用“标准正则表达式”作为匹配标准。\negrep 扩展的grep命令，相当于"),a("code",[s._v("$(grep -E)")]),s._v("，使用“扩展正则表达式”作为匹配标准。\nfgrep 简化版的grep命令，不支持正则表达式，但搜索速度快，系统资源使用率低。")]),s._v(" "),a("h4",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),a("p",[a("strong",[s._v("语法")]),s._v(" "),a("code",[s._v("grep [options] PATTERN [FILE...]")])]),s._v(" "),a("p",[a("strong",[s._v("options部分")])]),s._v(" "),a("p",[a("code",[s._v("-n")]),s._v(" ：显示行号")]),s._v(" "),a("p",[a("code",[s._v("-w")]),s._v(" ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker")]),s._v(" "),a("p",[a("code",[s._v("-c")]),s._v(" ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。")]),s._v(" "),a("p",[a("code",[s._v("-A")]),s._v("  n：显示匹配到的字符串所在的行及其后n行，after")]),s._v(" "),a("p",[a("code",[s._v("-B")]),s._v("  n：显示匹配到的字符串所在的行及其前n行，before")]),s._v(" "),a("p",[a("code",[s._v("-C")]),s._v("  n：显示匹配到的字符串所在的行及其前后各n行，context"),a("code",[s._v("-i")]),s._v("：忽略大小写\n"),a("code",[s._v("--color")]),s._v("：高亮匹配上的字符串\n"),a("code",[s._v("-v")]),s._v(": 显示没有被模式匹配到的行\n"),a("code",[s._v("-o")]),s._v("：只显示被模式匹配到的字符串\n"),a("code",[s._v("-E")]),s._v("：使用扩展的正则表达式，"),a("code",[s._v("egrep=grep -E")])]),s._v(" "),a("p",[a("strong",[s._v("PATTERN部分")]),s._v("\n以字符串的方式给定匹配模板，可以使用普通字符串以及正则表达式(标准&扩展)。")]),s._v(" "),a("p",[a("strong",[s._v("FILE部分")]),s._v("\n需要查找内容的文件。")]),s._v(" "),a("h4",{attrs:{id:"示例数据文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例数据文件"}},[s._v("#")]),s._v(" "),a("strong",[s._v("示例数据文件")])]),s._v(" "),a("p",[a("strong",[s._v("请将以下数据剪切粘贴到一个名为 “sampler.log” 的文件中:")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". boot\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". book\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". booze\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". machine\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". boots\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(". bungie\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(". bark\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(". aardvark\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(". broken"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$tuff")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(". robots\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("blockquote",[a("h4",{attrs:{id:"grep最简单的例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep最简单的例子"}},[s._v("#")]),s._v(" grep最简单的例子")])]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("在本例中，grep 将遍历文件 “sampler.log” 的每一行，并打印出其中的每一行 包含单词“boo”:")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" sampler.log\n\n boot\n book\n booze\n boots\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[s._v("但是如果你操作的是大型文件，就会出现这种情况：如果这些行标识了文件中的"),a("code",[s._v("哪一行")]),s._v("，它们是什么，可能对你更有用，如果需要在编辑器中打开文件，那么可以更容易地跟踪特定字符串做一些改变。 这时候可以"),a("code",[s._v("通过添加-n参数来实现")]),s._v(":")])])]),s._v(" "),a("p",[s._v("​\t"),a("strong",[s._v("这产生了一个更有用的结果，解释了哪些行与搜索字符串匹配:")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" sampler.log\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":boot\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":book\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":booze\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":boots\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("strong",[s._v("另一个有趣的"),a("code",[s._v("参数是 -v")]),s._v("，它会"),a("code",[s._v("打印出相反的结果")]),s._v("。换句话说，grep 将打印"),a("code",[s._v("所有与搜索字符串不匹配的行")]),s._v("，而不是打印与之匹配的行。")])])]),s._v(" "),a("p",[s._v("​\t"),a("strong",[s._v("在下列情况下，grep 将打印不包含字符串 “boo” 的每一行，并显示行号，如上一个例子所示")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -vn "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" sampler.log\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":machine\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":bungie\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":bark\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":aardvark\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":broken"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$tuff")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":robots\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[a("strong",[a("code",[s._v("c 选项")]),s._v("告诉grep"),a("code",[s._v("抑制匹配行的打印")]),s._v("，"),a("code",[s._v("只显示匹配行的数量")]),s._v("，匹配查询的行。 例如,下面将打印数字4，因为有4个在 "),a("code",[s._v("sampler.log")]),s._v(" 中出现 “boo”。")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" sampler.log\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[a("strong",[a("code",[s._v("l 选项")]),s._v("只打印查询中具有与"),a("code",[s._v("搜索匹配行的文件的文件名字符串")]),s._v("。 如果你想在多个文件中搜索相同的字符串，这将非常有用。像这样:")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -l "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" *\n\nsampler.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[a("strong",[s._v("对于搜索非代码文件，一个更"),a("code",[s._v("有用的选项是-i")]),s._v("，"),a("code",[s._v("忽略大小写")]),s._v("。这个选项将处理在匹配搜索字符串时，大小写相等。 在下面的例子中，即使搜索字符串是大写的，包含“boo”的行也会被打印出来。")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BOO"')]),s._v(" sampler.log\n\nboot\nbook\nbooze\nboots\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"7"}},[a("li",[a("strong",[a("code",[s._v("x 选项")]),s._v("只精确匹配。换句话说，以下命令搜索没有结果，"),a("code",[s._v('因为没有一行只包含"boo"')])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -x "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boo"')]),s._v(" sampler.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"8"}},[a("li",[a("strong",[s._v("最后，"),a("code",[s._v("-A 允许你指定额外的上下文件行")]),s._v("，这样就得到了搜索字符串额外行，例如")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -A2 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mach"')]),s._v(" sampler.log\n\nmachine\nboots\nbungie\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"grep使用正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep使用正则表达式"}},[s._v("#")]),s._v(" grep使用正则表达式")]),s._v(" "),a("h4",{attrs:{id:"基本匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本匹配"}},[s._v("#")]),s._v(" 基本匹配：")]),s._v(" "),a("p",[a("strong",[s._v("正则表达式其实就是在执行搜索时的格式，它由一些字母和数字组合而成。 例如：一个正则表达式 "),a("code",[s._v("the")]),s._v("，它表示一个规则：由字母"),a("code",[s._v("t")]),s._v("开始，接着是"),a("code",[s._v("h")]),s._v("，再接着是"),a("code",[s._v("e")]),s._v("。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"the"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" The fat "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" sat on the mat.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"元字符-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元字符-2"}},[s._v("#")]),s._v(" 元字符")]),s._v(" "),a("p",[a("strong",[s._v("正则表达式主要依赖于元字符。 元字符不代表他们本身的字面意思，他们都有特殊的含义。一些元字符写在方括号中的时候有一些特殊的意思。以下是一些元字符的介绍：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("元字符")]),s._v(" "),a("th",[s._v("描述")]),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v(".")]),s._v(" "),a("td",[s._v("句号匹配任意单个字符除了换行符。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[ ]")]),s._v(" "),a("td",[s._v("字符种类。匹配方括号内的任意字符。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("[^ ]")]),s._v(" "),a("td",[s._v("否定的字符种类。匹配除了方括号里的任意字符")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("*")]),s._v(" "),a("td",[s._v("匹配>=0个重复的在*号之前的字符。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("+")]),s._v(" "),a("td",[s._v("匹配>=1个重复的+号前的字符。")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("?")]),s._v(" "),a("td",[s._v("标记?之前的字符为可选.")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("{n,m}")]),s._v(" "),a("td",[s._v("匹配num个大括号之前的字符或字符集 (n <= num <= m).")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("(xyz)")]),s._v(" "),a("td",[s._v("字符集，匹配与 xyz 完全相等的字符串.")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("|")]),s._v(" "),a("td",[s._v("或运算符，匹配符号前或后的字符.")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("\\")]),s._v(" "),a("td",[s._v("转义字符,用于匹配一些保留的字符 "),a("code",[s._v("[ ] ( ) { } . * + ? ^ $ \\ |")])]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("^")]),s._v(" "),a("td",[s._v("从开始行开始匹配.")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("$")]),s._v(" "),a("td",[s._v("从末端开始匹配.")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v(".*")]),s._v(" "),a("td",[s._v("所有内容")]),s._v(" "),a("td",[s._v("搭配.*")])]),s._v(" "),a("tr",[a("td",[s._v("^$")]),s._v(" "),a("td",[s._v("空行")]),s._v(" "),a("td",[s._v("搭配^$")])])])]),s._v(" "),a("blockquote",[a("h4",{attrs:{id:"将例子使用如下文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将例子使用如下文件"}},[s._v("#")]),s._v(" 将例子使用如下文件：")]),s._v(" "),a("p",[a("strong",[s._v("[root@shell-centos-1 ~]# cat a.txt")]),s._v(" "),a("strong",[a("code",[s._v("The car parked in the garage.")])])]),s._v(" "),a("p",[a("strong",[s._v("[root@shell-centos-1 ~]# cat b.txt")]),s._v(" "),a("strong",[a("code",[s._v("A garage is a good place to park a car.")])])]),s._v(" "),a("p",[a("strong",[s._v("[root@shell-centos-1 ~]# cat c.txt")]),s._v(" "),a("strong",[a("code",[s._v("The fat cat sat on the concatenation.")])])]),s._v(" "),a("p",[a("strong",[s._v("[root@shell-centos-1 ~]# cat d.txt")]),s._v(" "),a("strong",[a("code",[s._v("The fat cat sat on the mat.")])])]),s._v(" "),a("p",[a("strong",[s._v("[root@shell-centos-1 ~]# cat  e.txt")]),s._v(" "),a("strong",[a("code",[s._v("The number was 9.9997 but we rounded it off to 10.0.")])])])]),s._v(" "),a("h4",{attrs:{id:"点运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#点运算符"}},[s._v("#")]),s._v(" 点运算符 "),a("code",[s._v(".")])]),s._v(" "),a("p",[a("code",[s._v(".")]),s._v("是元字符中最简单的例子。 "),a("code",[s._v(".")]),s._v("匹配任意单个字符，但不匹配换行符。 例如，表达式"),a("code",[s._v(".ar")]),s._v("匹配一个任意字符后面跟着是"),a("code",[s._v("a")]),s._v("和"),a("code",[s._v("r")]),s._v("的字符串。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep .ar a.txt")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The "),a("code",[s._v("car par")]),s._v("ked in the "),a("code",[s._v("gar")]),s._v("age.")])]),s._v(" "),a("h4",{attrs:{id:"字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符集"}},[s._v("#")]),s._v(" 字符集 []")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep [Th] a.txt")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("Th")]),s._v("e car parked in t"),a("code",[s._v("h")]),s._v("e garage.")])]),s._v(" "),a("p",[s._v("方括号的句号就表示句号。 表达式 "),a("code",[s._v("ar[.]")]),s._v(" 匹配 "),a("code",[s._v("ar.")]),s._v("字符串")]),s._v(" "),a("blockquote",[a("p",[s._v("[root@shell-centos-1 ~]# echo  A garage is a good place to park a car. > b.txt  #使用该测试文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep  ar[.] b.txt")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("A garage is a good place to park a c"),a("code",[s._v("ar.")])])]),s._v(" "),a("h4",{attrs:{id:"否定字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#否定字符集"}},[s._v("#")]),s._v(" 否定字符集")]),s._v(" "),a("p",[s._v("一般来说 "),a("code",[s._v("^")]),s._v(" 表示一个字符串的开头，但它用在一个方括号的开头的时候，它表示这个字符集是否定的。 例如，表达式"),a("code",[s._v("[^c]ar")]),s._v(" 匹配一个后面跟着"),a("code",[s._v("ar")]),s._v("的除了"),a("code",[s._v("c")]),s._v("的任意字符。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep [^c]ar a.txt")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The car "),a("code",[s._v("par")]),s._v("ked in the "),a("code",[s._v("gar")]),s._v("age.")])]),s._v(" "),a("h4",{attrs:{id:"重复次数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重复次数"}},[s._v("#")]),s._v(" 重复次数")]),s._v(" "),a("p",[s._v("后面跟着元字符 "),a("code",[s._v("+")]),s._v("，"),a("code",[s._v("*")]),s._v(" or "),a("code",[s._v("?")]),s._v(" 的，用来指定匹配子模式的次数。 这些元字符在不同的情况下有着不同的意思。")]),s._v(" "),a("h4",{attrs:{id:"号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号"}},[s._v("#")]),s._v(" "),a("code",[s._v("*")]),s._v(" 号")]),s._v(" "),a("p",[a("code",[s._v("*")]),s._v("号匹配 在"),a("code",[s._v("*")]),s._v("之前的字符出现"),a("code",[s._v("大于等于0")]),s._v("次。 例如，表达式 "),a("code",[s._v("a*")]),s._v(" 匹配0或更多个以a开头的字符。表达式"),a("code",[s._v("[a-z]*")]),s._v(" 匹配一个行中所有以小写字母开头的字符串。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "[a-z]*" a.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("T"),a("code",[s._v("he car parked in the garage")]),s._v(".")])]),s._v(" "),a("p",[a("code",[s._v("*")]),s._v("字符和"),a("code",[s._v(".")]),s._v("字符搭配可以匹配所有的字符"),a("code",[s._v(".*")]),s._v("。 "),a("code",[s._v("*")]),s._v("和表示匹配空格的符号"),a("code",[s._v("\\s")]),s._v("连起来用，如表达式"),a("code",[s._v("\\s*cat\\s*")]),s._v("匹配0或更多个空格开头和0或更多个空格结尾的cat字符串。")]),s._v(" "),a("blockquote",[a("p",[s._v("[root@shell-centos-1 ~]# echo The fat cat sat on the concatenation. > c.txt  #这里使用该测试文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "\\s*cat\\s*" c.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The fat "),a("code",[s._v("cat")]),s._v(" sat on the con"),a("code",[s._v("cat")]),s._v("enation.")])]),s._v(" "),a("h4",{attrs:{id:"号-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号-2"}},[s._v("#")]),s._v(" "),a("code",[s._v("+")]),s._v(" 号")]),s._v(" "),a("p",[a("code",[s._v("+")]),s._v("号匹配"),a("code",[s._v("+")]),s._v("号之前的字符出现 >=1 次。 例如表达式"),a("code",[s._v("c.+t")]),s._v(" 匹配以首字母"),a("code",[s._v("c")]),s._v("开头以"),a("code",[s._v("t")]),s._v("结尾，中间跟着至少一个字符的字符串。")]),s._v(" "),a("blockquote",[a("p",[s._v("[root@shell-centos-1 ~]#  echo The fat cat sat on the mat. > d.txt     #这里使用该测试文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "c.+t" d.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The fat "),a("code",[s._v("cat sat on the mat")]),s._v(".")])]),s._v(" "),a("h4",{attrs:{id:"号-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号-3"}},[s._v("#")]),s._v(" "),a("code",[s._v("?")]),s._v(" 号")]),s._v(" "),a("p",[s._v("在正则表达式中元字符 "),a("code",[s._v("?")]),s._v(" 标记在符号前面的字符为可选，即出现 0 或 1 次。 例如，表达式 "),a("code",[s._v("[T]?he")]),s._v(" 匹配字符串 "),a("code",[s._v("he")]),s._v(" 和 "),a("code",[s._v("The")]),s._v("。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "[T]\\?he" a.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("The")]),s._v(" car parked in "),a("code",[s._v("the")]),s._v(" garage.")])]),s._v(" "),a("h4",{attrs:{id:"号-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号-4"}},[s._v("#")]),s._v(" "),a("code",[s._v("{}")]),s._v(" 号")]),s._v(" "),a("p",[s._v("在正则表达式中 "),a("code",[s._v("{}")]),s._v(" 是一个量词，常用来限定一个或一组字符可以重复出现的次数。 例如， 表达式 "),a("code",[s._v("[0-9]{2,3}")]),s._v(" 匹配最少 2 位最多 3 位 0~9 的数字。")]),s._v(" "),a("blockquote",[a("p",[s._v("[root@shell-centos-1 ~]# echo The number was 9.9997 but we rounded it off to 10.0. > e.txt  #使用该测试文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "[0-9]{2,3}" e.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The number was 9."),a("code",[s._v("999")]),s._v("7 but we rounded it off to "),a("code",[s._v("10")]),s._v(".0.")])]),s._v(" "),a("p",[s._v("我们可以省略第二个参数。 例如，"),a("code",[s._v("[0-9]{2,}")]),s._v(" 匹配至少两位 0~9 的数字。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "[0-9]{2,}" e.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The number was 9."),a("code",[s._v("9997")]),s._v(" but we rounded it off to "),a("code",[s._v("10")]),s._v(".0.")])]),s._v(" "),a("p",[s._v("如果逗号也省略掉则表示重复固定的次数。 例如，"),a("code",[s._v("[0-9]{3}")]),s._v(" 匹配3位数字")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "[0-9]{3}" e.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The number was 9."),a("code",[s._v("999")]),s._v("7 but we rounded it off to 10.0.")])]),s._v(" "),a("h4",{attrs:{id:"特征标群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特征标群"}},[s._v("#")]),s._v(" "),a("code",[s._v("(...)")]),s._v(" 特征标群")]),s._v(" "),a("p",[s._v("特征标群是一组写在 "),a("code",[s._v("(...)")]),s._v(" 中的子模式。"),a("code",[s._v("(...)")]),s._v(" 中包含的内容将会被看成一个整体，和数学中小括号（ ）的作用相同。例如, 表达式 "),a("code",[s._v("(ab)*")]),s._v(" 匹配连续出现 0 或更多个 "),a("code",[s._v("ab")]),s._v("。如果没有使用 "),a("code",[s._v("(...)")]),s._v(" ，那么表达式 "),a("code",[s._v("ab*")]),s._v(" 将匹配连续出现 0 或更多个 "),a("code",[s._v("b")]),s._v(" 。再比如之前说的 "),a("code",[s._v("{}")]),s._v(" 是用来表示前面一个字符出现指定次数。但如果在 "),a("code",[s._v("{}")]),s._v(" 前加上特征标群 "),a("code",[s._v("(...)")]),s._v(" 则表示整个标群内的字符重复 N 次。")]),s._v(" "),a("p",[s._v("我们还可以在 "),a("code",[s._v("()")]),s._v(" 中用或字符 "),a("code",[s._v("|")]),s._v(" 表示或。例如，"),a("code",[s._v("(c|g|p)ar")]),s._v(" 匹配 "),a("code",[s._v("car")]),s._v(" 或 "),a("code",[s._v("gar")]),s._v(" 或 "),a("code",[s._v("par")]),s._v(".")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "(c|g|p)ar" a.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The "),a("code",[s._v("car par")]),s._v("ked in the "),a("code",[s._v("gar")]),s._v("age.")])]),s._v(" "),a("h4",{attrs:{id:"或运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#或运算符"}},[s._v("#")]),s._v(" "),a("code",[s._v("|")]),s._v(" 或运算符")]),s._v(" "),a("p",[s._v("或运算符就表示或，用作判断条件。")]),s._v(" "),a("p",[s._v("例如 "),a("code",[s._v("(T|t)he|car")]),s._v(" 匹配 "),a("code",[s._v("(T|t)he")]),s._v(" 或 "),a("code",[s._v("car")]),s._v("。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "(T|t)he|car" a.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("The car")]),s._v(" parked in "),a("code",[s._v("the")]),s._v(" garage.")])]),s._v(" "),a("h4",{attrs:{id:"转码特殊字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转码特殊字符"}},[s._v("#")]),s._v(" 转码特殊字符")]),s._v(" "),a("p",[s._v("反斜线 "),a("code",[s._v("\\")]),s._v(" 在表达式中用于转码紧跟其后的字符。用于指定 "),a("code",[s._v("{ } [ ] / \\ + * . $ ^ | ?")]),s._v(" 这些特殊字符。如果想要匹配这些特殊字符则要在其前面加上反斜线 "),a("code",[s._v("\\")]),s._v("。")]),s._v(" "),a("p",[s._v("例如 "),a("code",[s._v(".")]),s._v(" 是用来匹配除换行符外的所有字符的。如果想要匹配句子中的 "),a("code",[s._v(".")]),s._v(" 则要写成 "),a("code",[s._v("\\.")]),s._v(" 以下这个例子 "),a("code",[s._v("\\.?")]),s._v("是选择性匹配"),a("code",[s._v(".")])]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "(f|c|m)at\\.?" d.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The "),a("code",[s._v("fat cat")]),s._v(" sat on the "),a("code",[s._v("mat")]),s._v(".")])]),s._v(" "),a("h4",{attrs:{id:"锚点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#锚点"}},[s._v("#")]),s._v(" 锚点")]),s._v(" "),a("p",[s._v("在正则表达式中，想要匹配指定开头或结尾的字符串就要使用到锚点。"),a("code",[s._v("^")]),s._v(" 指定开头，"),a("code",[s._v("$")]),s._v(" 指定结尾。")]),s._v(" "),a("h4",{attrs:{id:"号-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号-5"}},[s._v("#")]),s._v(" "),a("code",[s._v("^")]),s._v(" 号")]),s._v(" "),a("p",[a("code",[s._v("^")]),s._v(" 用来检查匹配的字符串是否在所匹配字符串的开头。")]),s._v(" "),a("p",[s._v("例如，在 "),a("code",[s._v("abc")]),s._v(" 中使用表达式 "),a("code",[s._v("^a")]),s._v(" 会得到结果 "),a("code",[s._v("a")]),s._v("。但如果使用 "),a("code",[s._v("^b")]),s._v(" 将匹配不到任何结果。因为在字符串 "),a("code",[s._v("abc")]),s._v(" 中并不是以 "),a("code",[s._v("b")]),s._v(" 开头。")]),s._v(" "),a("p",[s._v("例如，"),a("code",[s._v("^(T|t)he")]),s._v(" 匹配以 "),a("code",[s._v("The")]),s._v(" 或 "),a("code",[s._v("the")]),s._v(" 开头的字符串。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "^(T|t)he" a.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The car parked in the garage.")])]),s._v(" "),a("h4",{attrs:{id:"号-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#号-6"}},[s._v("#")]),s._v(" "),a("code",[s._v("$")]),s._v(" 号")]),s._v(" "),a("p",[s._v("同理于 "),a("code",[s._v("^")]),s._v(" 号，"),a("code",[s._v("$")]),s._v(" 号用来匹配字符是否是最后一个。")]),s._v(" "),a("p",[s._v("例如，"),a("code",[s._v("(at\\.)$")]),s._v(" 匹配以 "),a("code",[s._v("at.")]),s._v(" 结尾的字符串。")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "(at\\.)" d.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The fat cat sat on the m"),a("code",[s._v("at")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# egrep "(at\\.)$" d.txt')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("The fat cat sat on the m"),a("code",[s._v("at")]),s._v(".")])]),s._v(" "),a("h4",{attrs:{id:"简写字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简写字符集"}},[s._v("#")]),s._v(" 简写字符集")]),s._v(" "),a("p",[s._v("则表达式提供一些常用的字符集简写。如下:")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("简写")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v(".")]),s._v(" "),a("td",[s._v("除换行符外的所有字符")])]),s._v(" "),a("tr",[a("td",[s._v("\\w")]),s._v(" "),a("td",[s._v("匹配所有字母数字，等同于 "),a("code",[s._v("[a-zA-Z0-9_]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\W")]),s._v(" "),a("td",[s._v("匹配所有非字母数字，即符号，等同于： "),a("code",[s._v("[^\\w]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\d")]),s._v(" "),a("td",[s._v("匹配数字： "),a("code",[s._v("[0-9]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\D")]),s._v(" "),a("td",[s._v("匹配非数字： "),a("code",[s._v("[^\\d]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\s")]),s._v(" "),a("td",[s._v("匹配所有空格字符，等同于： "),a("code",[s._v("[\\t\\n\\f\\r\\p{Z}]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\S")]),s._v(" "),a("td",[s._v("匹配所有非空格字符： "),a("code",[s._v("[^\\s]")])])]),s._v(" "),a("tr",[a("td",[s._v("\\f")]),s._v(" "),a("td",[s._v("匹配一个换页符")])]),s._v(" "),a("tr",[a("td",[s._v("\\n")]),s._v(" "),a("td",[s._v("匹配一个换行符")])]),s._v(" "),a("tr",[a("td",[s._v("\\r")]),s._v(" "),a("td",[s._v("匹配一个回车符")])]),s._v(" "),a("tr",[a("td",[s._v("\\t")]),s._v(" "),a("td",[s._v("匹配一个制表符")])]),s._v(" "),a("tr",[a("td",[s._v("\\v")]),s._v(" "),a("td",[s._v("匹配一个垂直制表符")])]),s._v(" "),a("tr",[a("td",[s._v("\\p")]),s._v(" "),a("td",[s._v("匹配 CR/LF（等同于 "),a("code",[s._v("\\r\\n")]),s._v("），用来匹配 DOS 行终止符")])])])]),s._v(" "),a("h2",{attrs:{id:"sed命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed命令"}},[s._v("#")]),s._v(" sed命令")]),s._v(" "),a("h3",{attrs:{id:"简介-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介-2"}},[s._v("#")]),s._v(" "),a("strong",[s._v("简介")])]),s._v(" "),a("p",[a("strong",[s._v("sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，"),a("code",[s._v("称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容")]),s._v("，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。"),a("code",[s._v("Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。")])])]),s._v(" "),a("h3",{attrs:{id:"sed的命令参数详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed的命令参数详解"}},[s._v("#")]),s._v(" Sed的命令参数详解")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@www ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed [-nefr] [动作]")]),s._v("\n\n选项与参数：\n-n ：使用安静"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("silent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("模式。在一般 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("或者动作"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("才会被列出来。\n-e ：直接在命令列模式上进行 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" 的动作编辑；\n-f ：直接将 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" 的动作写在一个文件内， -f filename 则可以运行 filename 内的 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" 动作；\n-r ：sed 的动作支持的是延伸型正规表示法的语法。"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("默认是基础正规表示法语法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n-i ：直接修改读取的文件内容，而不是输出到终端。\n\n动作说明： "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(",n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("function\nn1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作是需要在 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 到 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" 行之间进行的，则『 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10,20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("动作行为"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 』\n\nfunction：\na ：新增， a 的后面可以接字串，而这些字串会在新的一行出现"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("目前的下一行"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("～\nc ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！\nd ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；\ni ：插入， i 的后面可以接字串，而这些字串会在新的一行出现"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("目前的上一行"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("；\np ：列印，亦即将某个选择的数据印出。通常 p 会与参数 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n 一起运行～\ns ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",20s/old/new/g \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"sed的命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed的命令格式"}},[s._v("#")]),s._v(" Sed的命令格式")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("命令")]),s._v(" "),a("th",[s._v("选项")]),s._v(" "),a("th",[s._v("（s）sed命令功能（g）修饰符")]),s._v(" "),a("th",[s._v("参数（文件）")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("sed")]),s._v(" "),a("td",[s._v("-r")]),s._v(" "),a("td",[s._v("'s#oldboy#oldgirl#g'")]),s._v(" "),a("td",[s._v("oldboy.txt")])])])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("备注：前一步中执行的结果，并没有写回到a.txt中，如果想写回，则需要这样（添加-i参数）")])])]),s._v(" "),a("h3",{attrs:{id:"sed核心应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed核心应用"}},[s._v("#")]),s._v(" Sed核心应用")]),s._v(" "),a("h4",{attrs:{id:"sed-查找"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-查找"}},[s._v("#")]),s._v(" Sed-查找")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("查找格式")]),s._v(" "),a("th"),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("'1p'")]),s._v(" "),a("td",[s._v("指定行号进行查找")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'1,5p'")]),s._v(" "),a("td",[s._v("指定行号范围进行查找")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'/lidao/p'")]),s._v(" "),a("td",[s._v("类似于grep过滤，//里面可以写正则")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'/10:00/,/11:00/p'")]),s._v(" "),a("td",[s._v("表示范围的过滤")]),s._v(" "),a("td")])])]),s._v(" "),a("h4",{attrs:{id:"示例的文件使用如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例的文件使用如下"}},[s._v("#")]),s._v(" 示例的文件使用如下")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"指定行号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定行号"}},[s._v("#")]),s._v(" 指定行号")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n  '3p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"默认输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认输出"}},[s._v("#")]),s._v(" 默认输出")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed  '' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"指定行号范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定行号范围"}},[s._v("#")]),s._v(" 指定行号范围")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看1-3行的范围")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n '1,3p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看3-6行的范围")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n '3,6p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看4-最后一行的范围 这里使用$p")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed  -n '4,$p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h4",{attrs:{id:"过滤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#过滤"}},[s._v("#")]),s._v(" 过滤")]),s._v(" "),a("p",[a("strong",[s._v("过滤的方式又别分为正则表达式过滤和范围过滤两种")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("正则过滤的方式\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n '/oldboy/p' oldboy.txt   #就过滤oldboy")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n '/996/p' oldboy.txt   #过滤996")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed  -n '/[45]/p' oldboy.txt  #过滤使用正则4 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -nr '/[0-9]{3}/p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n范围过滤的方式\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -n '/102/,/105/p' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("表示范围过滤的时候，如果一直没有给到末尾的范围，就会一直显示到末尾。")])])]),s._v(" "),a("h4",{attrs:{id:"sed-删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-删除"}},[s._v("#")]),s._v(" Sed-删除")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("删除格式")]),s._v(" "),a("th"),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("'2p'")]),s._v(" "),a("td",[s._v("指定行号进行查找")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'1,5d'")]),s._v(" "),a("td",[s._v("指定行号范围进行查找")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'/lidao/d'")]),s._v(" "),a("td",[s._v("类似于grep过滤，//里面可以写正则")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("'/10:00/,/11:00/d'")]),s._v(" "),a("td",[s._v("表示范围的过滤")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("1，/oldboy/d")]),s._v(" "),a("td",[s._v("混合（了解）")]),s._v(" "),a("td")])])]),s._v(" "),a("h4",{attrs:{id:"最常规的删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最常规的删除"}},[s._v("#")]),s._v(" 最常规的删除")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '3d' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '2d' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '2,3d' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '/lidao/d' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("删除文件中的空行和包含#号的行数")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# egrep -v '^$|#' /etc/ssh/sshd_config")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -r '/^$|#/d' /etc/ssh/sshd_config")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -nr '/^$|#/!p' /etc/ssh/sshd_config")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"sed-增加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-增加"}},[s._v("#")]),s._v(" Sed-增加")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("增加格式")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("c")]),s._v(" "),a("td",[s._v("replace替代这行的内容")])]),s._v(" "),a("tr",[a("td",[s._v("a")]),s._v(" "),a("td",[s._v("append追加，向指定的行或者每一行追加内容（行的后面）")])]),s._v(" "),a("tr",[a("td",[s._v("i")]),s._v(" "),a("td",[s._v("insert插入，向指定的行或者每一行插入内容")])])])]),s._v(" "),a("h4",{attrs:{id:"最常规的增加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最常规的增加"}},[s._v("#")]),s._v(" 最常规的增加")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat oldboy.txt   #这是最初始的文件内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '3a 996,lidao996.UFO' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v(",lidao996.UFO\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在地三行的后面添加内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '3i 996,lidao996.UFO' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v(",lidao996.UFO\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在第三行的前面添加内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed '3c 996,lidao996.UFO' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("996")]),s._v(",lidao996.UFO\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#替换第三行然后更改为需要替换的内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("p",[s._v("向文件中追加多行内容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("比如向sshd_config里面追加多行内容\nUseDNS no\nGSSAPIAUTCATION no\nPermitRootLogin no\n\n方法1： \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" EOF\n\n方法2： \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$a UseDNS no\\nGSSAPIAUTCATION no\\nPermitRootLogin no'")]),s._v(" config\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h4",{attrs:{id:"sed-替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-替换"}},[s._v("#")]),s._v(" Sed-替换")]),s._v(" "),a("p",[s._v("s--\x3e sub substitute替换")]),s._v(" "),a("p",[s._v("g--\x3e global 全局替换，sed替换每行所有匹配的内容，sed默认只是替换每行第一个匹配的内容")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("替换格式")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("s###g")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("s///g")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("s@@@g")])])])]),s._v(" "),a("h4",{attrs:{id:"最常规的替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最常规的替换"}},[s._v("#")]),s._v(" 最常规的替换")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed  's#[0-9]##g' oldboy.txt")]),s._v("\n,oldboy,CEO\n,zhangyao,CTO\n,李导,C\n,李导,C\n,yy,CFO\n,feixue,CIO\n,lidao,COCO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's#[0-9]##' oldboy.txt")]),s._v("\n01,oldboy,CEO\n02,zhangyao,CTO\n03,李导996,C00\n03,李导996,C00\n04,yy,CFO\n05,feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(",lidao,COCO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("blockquote",[a("h4",{attrs:{id:"sed小总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed小总结"}},[s._v("#")]),s._v(" Sed小总结：")])]),s._v(" "),a("p",[a("strong",[s._v("删除：d命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2d'")]),s._v(" example\t\t\t-----删除example文件的第二行。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,$d'")]),s._v(" example\t\t-----删除example文件的第二行到末尾所有行。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$d'")]),s._v(" example\t\t\t-----删除example文件的最后一行。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/'")]),s._v("d example\t\t-----删除example文件所有包含test的行。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("替换：s命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/test/mytest/g'")]),s._v(" example\t\t\t\t-----在整行范围内把test替换为mytest。如果没有g标记，则只有每行第一个匹配的test被替换成mytest。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^test/mytest/p'")]),s._v(" example\t\t\t-----"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("选项和p标志一起使用表示只打印那些发生替换的行。也就是说，如果某一行开头的test被替换成mytest，就打印它。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^192.168.0.1/&localhost/'")]),s._v(" example\t-----"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("符号表示替换换字符串中被找到的部份。所有以192.168.0.1开头的行都会被替换成它自已加 localhost，变成192.168.0.1localhost。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/\\(love\\)able/\\1rs/p'")]),s._v(" example\t-----love被标记为1，所有loveable会被替换成lovers，而且替换的行会被打印出来。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s#10#100#g'")]),s._v(" example\t\t\t\t\t-----不论什么字符，紧跟着s命令的都被认为是新的分隔符，所以，“"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#”在这里是分隔符，代替了默认的“/”分隔符。表示把所有10替换成100。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("选定行的范围：逗号")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/,/check/p'")]),s._v(" example\t\t\t-----所有在模板test和check所确定的范围内的行都被打印。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5,/^test/p'")]),s._v(" example\t\t\t\t-----打印从第五行开始到第一个包含以test开始的行之间的所有行。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/,/check/s/$/sed test/'")]),s._v(" example\t-----对于模板test和west之间的行，每行的末尾用字符串sed test替换。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("strong",[s._v("多点编辑：e命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1,5d'")]),s._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/test/check/'")]),s._v(" example-----"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("选项允许在同一行里执行多条命令。如例子所示，第一条命令删除1至5行，第二条命令用check替换test。命令的执 行顺序对结果有影响。如果两个命令都是替换命令，那么第一个替换命令将影响第二个替换命令的结果。\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" --expression"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/test/check/'")]),s._v(" --expression"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/love/d'")]),s._v(" example-----一个比-e更好的命令是--expression。它能给sed表达式赋值。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("从文件读入：r命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/r file'")]),s._v(" example-----file里的内容被读进来，显示在与test匹配的行后面，如果匹配多行，则file的内容将显示在所有匹配行的下面。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("写入文件：w命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/w file'")]),s._v(" example-----在example中所有包含test的行都被写入file里。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("追加命令：a命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^test/a\\---\x3ethis is a example'")]),s._v(" example"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("-----"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'this is a example'")]),s._v("被追加到以test开头的行后面，sed要求命令a后面有一个反斜杠。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("插入：i命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/test/i\\new line-------------------------'")]),s._v(" example如果test被匹配，则把反斜杠后面的文本插入到匹配行的前面。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"使用sed修改配置文件示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用sed修改配置文件示例"}},[s._v("#")]),s._v(" 使用Sed修改配置文件示例")]),s._v(" "),a("p",[a("strong",[s._v("使用如下测试文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\ncentos\nnginx\nmysql\nhttpd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"替换文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换文件内容"}},[s._v("#")]),s._v(" 替换文件内容")]),s._v(" "),a("ol",[a("li",[s._v("替换文件内容，"),a("code",[s._v("替换centos为redhat")]),s._v("，然后再"),a("code",[s._v("redhat的后面添加centos和在centos前面添加ubnutu")]),s._v("。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's/centos/redhat/g' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\nredhat\nnginx\nmysql\nhttpd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i '/redhat/a\\centos' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\nredhat\ncentos\nnginx\nmysql\nhttpd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i '/centos/i\\ubnutu' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\nredhat\nubnutu\ncentos\nnginx\nmysql\nhttpd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("增加文件的内容，"),a("code",[s._v("在末尾添加三行abc")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i '$a\\abc\\nabc\\nabc' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\nredhat\nubnutu\ncentos\nnginx\nmysql\nhttpd\nabc\nabc\nabc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("将内容以"),a("code",[s._v("abc开头的修改成myjob")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@shell-centos-3 ~]# sed -i 's/^abc/myjob/g' sh\n[root@shell-centos-3 ~]# cat sh\nredhat\nubnutu\ncentos\nnginx\nmysql\nhttpd\nmyjob\nmyjob\nmyjob\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("用grep"),a("code",[s._v("输出文件内容的行数")]),s._v("，然后在"),a("code",[s._v('第7行的下面添加refine="0.1.0.12"，dailysign="0.1.0.4"，stonehenge="0.1.0.2"')]),s._v("，首行需要加两个空格。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -n '.' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":redhat\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":ubnutu\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":centos\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":nginx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":mysql\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":httpd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":myjob\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":myjob\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":myjob\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed -i "7a  \\  refine=\\"0.1.0.12\\"\\n  dailysign=\\"0.1.0.4\\" \\n  stonehenge=\\"0.1.0.2\\"" sh')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat  sh")]),s._v("\nredhat\nubnutu\ncentos\nnginx\nmysql\nhttpd\nmyjob\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("refine")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.12"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dailysign")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.4"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stonehenge")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.2"')]),s._v("\nmyjob\nmyjob\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("删除所有的"),a("code",[s._v("myjob")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i '/myjob/d' sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@shell-centos-3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sh")]),s._v("\nredhat\nubnutu\ncentos\nnginx\nmysql\nhttpd\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("refine")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.12"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dailysign")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.4"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stonehenge")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0.2"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"awk命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk命令"}},[s._v("#")]),s._v(" AWK命令")]),s._v(" "),a("h3",{attrs:{id:"awk是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk是什么"}},[s._v("#")]),s._v(" Awk是什么")]),s._v(" "),a("p",[s._v('Awk、sed与grep，俗称Linux下的三剑客，它们之间有很多相似点，但是同样也各有各的特色，相似的地方是它们都可以匹配文本，其中sed和awk还可以用于文本编辑，而grep则不具备这个功用。sed是一种非交互式且面向字符流的编辑器（a "non-interactive" stream-oriented editor），而'),a("code",[s._v("awk则是一门模式匹配的编程语言")]),s._v("，因为它的主要功能是"),a("code",[s._v("用于匹配文本并处理")]),s._v("，同时它有一些编程语言才有的语法，例如函数、分支循环语句、变量等等，当然比起我们常见的编程语言，Awk相对比较简单。")]),s._v(" "),a("p",[s._v("使用Awk，我们可以做以下事情：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("将文本文件视为由字段和记录组成的文本数据库；")])]),s._v(" "),a("li",[a("code",[s._v("在操作文本数据库的过程中能够使用变量；")])]),s._v(" "),a("li",[a("code",[s._v("能够使用数学运算和字符串操作")])]),s._v(" "),a("li",[a("code",[s._v("能够使用常见的编程结构，例如条件分支与循环；")])]),s._v(" "),a("li",[a("code",[s._v("能够格式化输出；")])]),s._v(" "),a("li",[a("code",[s._v("能够自定义函数；")])]),s._v(" "),a("li",[a("code",[s._v("能够在awk脚本中执行UNIX命令；")])]),s._v(" "),a("li",[a("code",[s._v("能够处理UNIX命令的输出结果；")])])]),s._v(" "),a("h3",{attrs:{id:"语法问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法问题"}},[s._v("#")]),s._v(" 语法问题")]),s._v(" "),a("p",[s._v("Awk是一门编程语言，所以将awk的脚本视为一段代码。而awk的脚本同样可以写到一个文件中，并通过-f参数指定，这一点和sed是一样的。program一般多个pattern和action序列组成，"),a("code",[s._v("当读入的记录匹配pattern时")]),s._v("，"),a("code",[s._v("才会执行相应的action命令")]),s._v("。这里有一点要注意，在第一种形式中，除去命令行选项外，"),a("code",[s._v("program参数一定要位于第一个位置")]),s._v("。")]),s._v(" "),a("p",[a("code",[s._v("Awk的输入被解析成多个记录（Record）")]),s._v("，默认情况下，记录的分隔符是\\n，因此可以认为一行就是一个记录，记录的分隔符可以通过内置变量"),a("code",[s._v("RS")]),s._v("更改。当记录匹配某个pattern时，才会执行后续的action命令。")]),s._v(" "),a("p",[s._v("而每个记录由进一步地被分隔成多个字段（Field），默认情况下字段的分隔符是空白符，例如空格、制表符等等，也可以通过"),a("code",[s._v("-F ERE")]),s._v("选项或者内置变量"),a("code",[s._v("FS")]),s._v("更改。在awk中，可以通过$1，$2...来访问对应位置的字段，同时$0存放整个记录，这一点有点类似shell下的命令行位置参数。关于这些内容，我们会在下面详细介绍，这里你只要知道有这些东西就好。")]),s._v(" "),a("p",[s._v("标准的awk命令行参数主要由以下三个：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-F ERE")]),s._v("：定义字段分隔符，该选项的值可以是扩展的正则表达式（ERE）；")]),s._v(" "),a("li",[a("code",[s._v("-f progfile")]),s._v("：指定awk脚本，可以同时指定多个脚本，它们会按照在命令行中出现的顺序连接在一起；")]),s._v(" "),a("li",[a("code",[s._v("-v assignment")]),s._v("：定义awk变量，形式同awk中的变量赋值，即name=value，赋值发生在awk处理文本之前；")])]),s._v(" "),a("h3",{attrs:{id:"特点和应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特点和应用场景"}},[s._v("#")]),s._v(" 特点和应用场景")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("类似于一门语言，C语言")])]),s._v(" "),a("li",[a("strong",[s._v("过滤，统计，计算")])]),s._v(" "),a("li",[a("strong",[s._v("过滤，统计日志")])]),s._v(" "),a("li",[a("strong",[s._v("BEGIN开始和END结尾")])])]),s._v(" "),a("h3",{attrs:{id:"执行过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行过程"}},[s._v("#")]),s._v(" 执行过程")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk -F,\'BEGIN{print "name"}{print $2}END{print "end of file"}\' test.txt')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk -F, \'BEGIN{print "name"}{print $2}END{print "end of file"}\' oldboy.txt')]),s._v("\nname\noldboy\nzhangyao\n李导996\n李导996\nyy\nfeixue\nlidao\nend of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'这里使用BEGIN和END分别在开始和末尾打印，然后在取第三行的第二列的文本内容'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(",lidao,COCO\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk -F, \'BEGIN{print "name"}NR==3{print $2}END{print "end of file"}\' oldboy.txt')]),s._v("\nname\n李导996\nend of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("p",[s._v("举几个简单的例子。通过-F参数设置冒号:为分隔符，并打印各个字段：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kodango@devops ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1:2:3"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{print $1 " and " $2 " and " $3}\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("在awk的脚本中访问通过-v选项设置的变量：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kodango@devops ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -v "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN {print a}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("通过-v选项设置的变量在"),a("code",[s._v("BEGIN")]),s._v("的位置就可以访问了。"),a("code",[s._v("BEGIN")]),s._v("是一个特殊的pattern，它在awk处理输入之前就会执行，可以认为是一个初始化语句，与此对应的还有"),a("code",[s._v("END")]),s._v("。")]),s._v(" "),a("p",[s._v("假设有两个文件：a和b，它们的内容分别如下所示：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" a\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat b")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" b\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("为了说明赋值操作发生的时机，我们在BEGIN，正常处理，END三个地方都打印变量的值。")]),s._v(" "),a("p",[a("code",[s._v("第一种情况： 变量赋值位于所有文件名参数之前：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk \'BEGIN {print "BEGIN: " var} {print "PROCESS: " var} \\')]),s._v("\nEND "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("print "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"END: "')]),s._v(" var "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("' "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" a\nBEGIN:\nPROCESS: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nEND: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("结果：赋值操作发生在正常处理之前，"),a("code",[s._v("BEGIN")]),s._v("动作之后。")]),s._v(" "),a("p",[a("code",[s._v("第二种情况：变量赋值位于所有文件名之后：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kodango@devops awk_temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN {print "BEGIN: " var} {print "PROCESS: " var} \\\nEND {print "END: " var }\'')]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  \nBEGIN: \nPROCESS: \nEND: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("结果：赋值操作发生在正常处理之后，"),a("code",[s._v("END")]),s._v("动作之前。")]),s._v(" "),a("p",[a("code",[s._v("第三种情况：变量赋值位于文件名之间：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kodango@devops awk_temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN {print "BEGIN: " var} {print "PROCESS: " var} \\\nEND {print "END: " var }\'')]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" b\nBEGIN: \nPROCESS: \nPROCESS: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nEND: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"awk的行与列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk的行与列"}},[s._v("#")]),s._v(" Awk的行与列")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("名词")]),s._v(" "),a("th",[s._v("awk中的叫法")]),s._v(" "),a("th",[s._v("一些说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("行")]),s._v(" "),a("td",[s._v("记录record")]),s._v(" "),a("td",[s._v("每一行是默认回车分割的.")])]),s._v(" "),a("tr",[a("td",[s._v("列")]),s._v(" "),a("td",[s._v("字段，域field")]),s._v(" "),a("td",[s._v("每一列默认是通过空格分割的.")])]),s._v(" "),a("tr",[a("td",[s._v("awk中行和列结束标语都是可以修改")]),s._v(" "),a("td"),s._v(" "),a("td")])])]),s._v(" "),a("h3",{attrs:{id:"awk中取行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk中取行"}},[s._v("#")]),s._v(" Awk中取行")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("常用的AWK条件")]),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("NR==1")]),s._v(" "),a("td",[s._v("取出某一行")])]),s._v(" "),a("tr",[a("td",[s._v("NR>=1&&NR<=5")]),s._v(" "),a("td",[s._v("取出1到5行范围")])]),s._v(" "),a("tr",[a("td",[s._v("符号")]),s._v(" "),a("td",[s._v("> < >= <= !=")])]),s._v(" "),a("tr",[a("td",[s._v("/oldboy/")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("/101/,/105/")]),s._v(" "),a("td")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'NR==1' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'NR>=1 && NR<=5' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '/oldboy/' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '/101/,/105/' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(",oldboy,CEO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(",zhangyao,CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(",李导996,C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(",yy,CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(",feixue,CIO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"awk中取列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk中取列"}},[s._v("#")]),s._v(" Awk中取列")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("-F")]),s._v(" 指定分隔符 指定每一列结果结束标记（默认是空格，连续的空格，tab健）")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("$数字")]),s._v("： 表示取出某一列，在awk中$加上内容 就一个意思，表示取出某一列")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("$0")]),s._v(" 整行的内容")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("$NF")]),s._v(" 最后一列")])]),s._v(" "),a("li",[a("p",[s._v("{print xxx}")])])]),s._v(" "),a("p",[a("strong",[s._v("默认取出第五列和第九列")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos yum.repos.d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l | awk '{print$5,$9}' | column -t")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1664")]),s._v("  CentOS-Base.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1309")]),s._v("  CentOS-CR.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("649")]),s._v("   CentOS-Debuginfo.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("314")]),s._v("   CentOS-fasttrack.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("630")]),s._v("   CentOS-Media.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1331")]),s._v("  CentOS-Sources.repo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4768")]),s._v("  CentOS-Vault.repo\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'取出第一列和最后一列'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos yum.repos.d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l | awk '{print $1,$NF}' | column -t")]),s._v("\ntotal        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n-rw-r--r--.  CentOS-Base.repo\n-rw-r--r--.  CentOS-CR.repo\n-rw-r--r--.  CentOS-Debuginfo.repo\n-rw-r--r--.  CentOS-fasttrack.repo\n-rw-r--r--.  CentOS-Media.repo\n-rw-r--r--.  CentOS-Sources.repo\n-rw-r--r--.  CentOS-Vault.repo\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'在中间添加点东西'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos yum.repos.d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l | awk '{print $1,\"aaaaaa \"$NF}' | column -t")]),s._v("\ntotal        aaaaaa  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n-rw-r--r--.  aaaaaa  CentOS-Base.repo\n-rw-r--r--.  aaaaaa  CentOS-CR.repo\n-rw-r--r--.  aaaaaa  CentOS-Debuginfo.repo\n-rw-r--r--.  aaaaaa  CentOS-fasttrack.repo\n-rw-r--r--.  aaaaaa  CentOS-Media.repo\n-rw-r--r--.  aaaaaa  CentOS-Sources.repo\n-rw-r--r--.  aaaaaa  CentOS-Vault.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"C:\\Users\\zyh\\AppData\\Roaming\\Typora\\typora-user-images\\image-20211201105701345.png",alt:"image-20211201105701345"}}),s._v(" "),a("p",[a("strong",[s._v("使用awk互相调换第一列和最后一列的位置")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '{print $NF,$2,$3,$4,$5,$6,$1}' passwd")]),s._v("\n/bin/bash x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" root /root root\n/sbin/nologin x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" bin /bin bin\n/sbin/nologin x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" daemon /sbin daemon\n/sbin/nologin x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" adm /var/adm adm\n/sbin/nologin x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" lp /var/spool/lpd lp\n/bin/sync x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" /sbin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v("\n/sbin/shutdown x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" /sbin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'这样的内容是没有冒号的，文件内容中的：号变成了空格，所以需要替换为：'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: -vOFS=: '{print $NF,$2,$3,$4,$5,$6,$1}' passwd")]),s._v("\n/bin/bash:x:0:0:root:/root:root\n/sbin/nologin:x:1:1:bin:/bin:bin\n/sbin/nologin:x:2:2:daemon:/sbin:daemon\n/sbin/nologin:x:3:4:adm:/var/adm:adm\n/sbin/nologin:x:4:7:lp:/var/spool/lpd:lp\n/bin/sync:x:5:0:sync:/sbin:sync\n/sbin/shutdown:x:6:0:shutdown:/sbin:shutdown\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("行与列 名称")])]),s._v(" "),a("li",[a("strong",[s._v("awk取行与取列，指哪打哪")])]),s._v(" "),a("li",[a("strong",[a("code",[s._v("取出网卡的ip地址")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip a s")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": lo: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("\n       valid_lft forever preferred_lft forever\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": eth0: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc pfifo_fast state UP group default qlen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/ether fa:16:3e:c4:a5:85 brd ff:ff:ff:ff:ff:ff\n    inet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.25")]),s._v(".253.7/24 brd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.25")]),s._v(".253.255 scope global dynamic eth0\n       valid_lft 52721sec preferred_lft 52721sec\n    inet6 fe80::f816:3eff:fec4:a585/64 scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n       valid_lft forever preferred_lft forever\n       \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip a  | grep inet | awk 'NR==3' | awk -F\"[ /]+\" '{print $3}'^C")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip a  | grep inet | awk -F\"[ /]+\" 'NR==3{print $3}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.25")]),s._v(".253.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"awk模式匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk模式匹配"}},[s._v("#")]),s._v(" Awk模式匹配")]),s._v(" "),a("p",[s._v("awk -F\"[/]+\" 'NR==3{print $3}'")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("awk")]),s._v(" "),a("th",[s._v('-F"[/]+"')]),s._v(" "),a("th",[s._v("'NR==3{print $3}'")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("命令")]),s._v(" "),a("td",[s._v("选项")]),s._v(" "),a("td",[s._v("'条件{动作}'")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("'找谁{干啥}'")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("'模式{动作}'")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("'pattern{action}'")])])])]),s._v(" "),a("ul",[a("li",[s._v("比较符号： > < >= <= != ==")]),s._v(" "),a("li",[s._v("正则： 支持grep的正则")]),s._v(" "),a("li",[s._v("表示范围的：//，//")]),s._v(" "),a("li",[s._v("特殊条件：BEGIN和END")])]),s._v(" "),a("h3",{attrs:{id:"awk正则匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk正则匹配"}},[s._v("#")]),s._v(" Awk正则匹配")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("//支持扩展正常")])]),s._v(" "),a("li",[a("strong",[s._v("awk可以精确到某一列中包含/不包含..内容 ~")])]),s._v(" "),a("li",[a("strong",[s._v("~包含")])]),s._v(" "),a("li",[a("strong",[s._v("!~不包含")])])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("正则")]),s._v(" "),a("th",[s._v("awk正则")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("^ 表示以...开头的行")]),s._v(" "),a("td",[s._v("某一列的开头 $3~/^oldboy/")])]),s._v(" "),a("tr",[a("td",[s._v("$ 表示以...结尾的行")]),s._v(" "),a("td",[s._v("某一列的结尾 $4~/lidao$/")])]),s._v(" "),a("tr",[a("td",[s._v("^$ 表示空行1")]),s._v(" "),a("td",[s._v("某一列是空的")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'找出第三列的以1开头的'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^1/' passwd")]),s._v("\nbin:x:1:1:bin:/bin:/sbin/nologin\noperator:x:11:0:operator:/root:/sbin/nologin\ngames:x:12:100:games:/usr/games:/sbin/nologin\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\nsystemd-network:x:192:192:systemd Network Management:/:/sbin/nologin\ncentos:x:1000:1000:Cloud User:/home/centos:/bin/bash\n\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'找出第三列以2开头的 然后打印第一列第三列和最后一列'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^2/{print $1 $3,$NF}' passwd")]),s._v("\ndaemon2 /sbin/nologin\nrpcuser29 /sbin/nologin\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'找出第三列以1或者2开头的 然后打印第一列第三列和最后一列'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^[12]/{print $1 $3,$NF}' passwd")]),s._v("\nbin1 /sbin/nologin\ndaemon2 /sbin/nologin\noperator11 /sbin/nologin\ngames12 /sbin/nologin\nftp14 /sbin/nologin\nsystemd-network192 /sbin/nologin\nrpcuser29 /sbin/nologin\ncentos1000 /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^1|2/{print $1 $3,$NF}' passwd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^1|^2/{print $1 $3,$NF}' passwd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$3~/^(1|2)/{print $1 $3,$NF}' passwd")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"awk表示范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk表示范围"}},[s._v("#")]),s._v(" Awk表示范围")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("/哪里开始/，/哪里结束/ 常用")])]),s._v(" "),a("li",[a("strong",[s._v("NR==1，NR==5 从第一行开始到第5行结束 类似于sed -n '1,5p'")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'统计范围然后打印第1列和第3列'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F\"[ ,]+\"  '/102/,/105/{print $1,$3}' oldboy.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v(" CTO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(" C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(" C00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(" CFO\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),s._v(" CIO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"awk特殊模式begin-和end"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk特殊模式begin-和end"}},[s._v("#")]),s._v(" Awk特殊模式BEGIN{}和END{}")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("模式")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("应用场景")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("BEGIN{}")]),s._v(" "),a("td",[s._v("里面的内容会在awk"),a("strong",[s._v("读取文件之前")]),s._v("执行")]),s._v(" "),a("td",[s._v("1）进行简单统计，计算，不涉及读取文件（常见）"),a("br"),s._v("2）用来处理文件之前，添加个表头"),a("br"),s._v("3）用来定义awk变量（很少用，因为可以用-v）")])]),s._v(" "),a("tr",[a("td",[s._v("END{}")]),s._v(" "),a("td",[s._v("里面的内容会在awk"),a("strong",[s._v("读取文件之后")]),s._v("执行")]),s._v(" "),a("td",[s._v("1）awk进行统计，一般过程："),a("strong",[s._v("先进行计算，最后END里面输出结果")]),a("br"),s._v("2）awk使用数组，用来输出数组的结果（常见）")])])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("END{}统计计算")]),s._v("：")])]),s._v(" "),a("p",[a("strong",[s._v("统计方法：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("统计方法")]),s._v(" "),a("th",[s._v("简写形式")]),s._v(" "),a("th",[s._v("应用场景")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("i++")]),s._v(" "),a("td",[s._v("i=i+1")]),s._v(" "),a("td",[s._v("计数，统计次数")])]),s._v(" "),a("tr",[a("td",[s._v("sum=sum+？？？")]),s._v(" "),a("td",[s._v("sum+=？？？")]),s._v(" "),a("td",[s._v("求和累加")])]),s._v(" "),a("tr",[a("td",[s._v("array[]=array[]+1")]),s._v(" "),a("td",[s._v("array[]++")]),s._v(" "),a("td",[s._v("数组分类计数")])]),s._v(" "),a("tr",[a("td",[s._v("注意：i，sum都是变量")]),s._v(" "),a("td"),s._v(" "),a("td")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'统计/etc/services里面有多少个空行'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '/^$/' services")]),s._v("\n·\n·\n·\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用条件加动作打印结果")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '/^$/{i++}END{print i}' services")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'使用seq 100求和1+2+3..+100 awk实现'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# seq  100 | awk '{sum=sum+$1}END{print sum}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n如果想查看过程\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# seq  100 | awk '{sum=sum+$1;print sum}END{print sum}'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"awk数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk数组"}},[s._v("#")]),s._v(" Awk数组")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("统计日志")]),s._v("：类似于 统计每个ip出现的次数，统计每种状态码出现的次数，统计系统中每个用户被攻击的次数，统计攻击者的ip出现次数。")]),s._v(" "),a("li",[a("code",[s._v("累加求和")]),s._v("：统计每个ip消耗的流量。")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th"),s._v(" "),a("th",[s._v("shell数组")]),s._v(" "),a("th",[s._v("awk数组")]),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("形式")]),s._v(" "),a("td",[s._v("array[0]=oldboy array[1]=lidao")]),s._v(" "),a("td",[s._v("array[0]=oldboy array[1]=lidao")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("使用")]),s._v(" "),a("td",[s._v("echo ${array[0]}  ${array[1]}")]),s._v(" "),a("td",[s._v("print array[0] array[1]")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("批量输出数组内容")]),s._v(" "),a("td",[s._v("for i in ${array[*]}"),a("br"),s._v("do"),a("br"),s._v("  echo $i"),a("br"),s._v("done"),a("br")]),s._v(" "),a("td",[s._v("for(i in array)"),a("br"),s._v(" print array[i]"),a("br")]),s._v(" "),a("td",[s._v("awk数组专用循环，变量获取到的是数组的下标."),a("br"),s._v("如果想要数组内容a[i]")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'awk字母会被识别为变量，如果只是想要使用字符串需要使用双引号引起来'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{a[0]=oldboy;a[1]=lidao; print a[0],a[1]}'    #这里会打印空行")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk \'BEGIN{a[0]="oldboy";a[1]="lidao"; print a[0],a[1]}\'')]),s._v("\noldboy lidao\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{a[0]=12360;a[1]=12360; print a[0],a[1]}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12360")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12360")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'awk数组专用循环，变量获取到的是数组的下标'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{a[0]=12360;a[1]=12360; for(i in a )print i}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'加上array[]'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{a[0]=12360;a[1]=12360; for(i in a )print a[i]}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12360")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12360")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[a("code",[s._v("处理以下文件内容，将域名取出来并根据域名进行计数排序处理")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat url.txt")]),s._v("\nhttp://www.etiantian.org/index.html\nhttp://www.etiantian.org/1.html\nhttp://post.etiantian.org/index.html\nhttp://mp3.etiantian.org/index.html\nhttp://www.etiantian.org/3.html\nhttp://post.etiantian.org/2.html\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F\"[/.]+\" '{print $2}' url.txt")]),s._v("\nwww\nwww\npost\nmp3\nwww\npost\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'array[]++ 你要统计三年 []里面就是什么（某一列）'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F\"[/.]+\" '{array[$2]++}END{for(i in array)print i,array[i]}' url.txt")]),s._v("\nwww "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nmp3 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\npost "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"for循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for循环"}},[s._v("#")]),s._v(" for循环")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[s._v("shell编程c语言for循环")]),s._v(" "),a("th",[s._v("awk for循环")]),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("for((i=1;1<=10;i++))"),a("br"),s._v(" do"),a("br"),s._v("   echo $i"),a("br"),s._v(" done")]),s._v(" "),a("td",[s._v("for(i=1;i<=10;i++)"),a("br"),s._v(" print i")]),s._v(" "),a("td",[s._v("awk循环用来循环每个字段")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1+100'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{for(i=1;i<=100;i++)sum+=i;print sum}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 'BEGIN{")]),s._v("\nfor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sum")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nprint "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n5050\n\n'")]),s._v("显示详细过程"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n[root@centos etc]# awk '")]),s._v("BEGIN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nfor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("sum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nprint sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("'\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"if判断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#if判断"}},[s._v("#")]),s._v(" if判断")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("shell if判断")]),s._v(" "),a("th",[s._v("awk if")]),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v('if["oldboy" -eq 18];then'),a("br"),s._v(" echo take to dbj"),a("br"),s._v("fi")]),s._v(" "),a("td",[s._v("if(条件)"),a("br"),s._v(' print"dbj"')]),s._v(" "),a("td",[s._v("常用")])]),s._v(" "),a("tr",[a("td",[s._v('if["oldboy" -eq 18];then'),a("br"),s._v(' echo take to "dbj"'),a("br"),s._v("else"),a("br"),s._v(' echo "rest"'),a("br"),s._v("fi")]),s._v(" "),a("td",[s._v("if(条件)"),a("br"),s._v(' print"dbj"'),a("br"),s._v("else"),a("br"),s._v(' print"rest"')]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td")])])]),s._v(" "),a("p",[a("code",[s._v("统计磁盘空间使用率，如果大于70%，则提示磁盘空间不足，并且显示磁盘分区，磁盘使用率，磁盘挂载点")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df -h")]),s._v("\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/vda1        20G  967M   20G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("% /\ndevtmpfs        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G   17M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\ntmpfs           379M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  379M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/0\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# df -h  | awk -F"[ %]+" \'{if($5>=70)print "disk not enough"}\'')]),s._v("\ndisk not enough\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# df -h  | awk -F"[ %]+" \'{if($5>=70)print "disk not enough",$0}\'   #这里会发现只打印了头上那行')]),s._v("\ndisk not enough Filesystem      Size  Used Avail Use% Mounted on\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# df -h  | awk -F"[ %]+" \'NR>1{if($5>=70)print "disk not enough",$1,$5}\'   #这里会发现没有>=70%')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# df -h  | awk -F"[ %]+" \'NR>1{if($5>=1)print "disk not enough",$1,$5}\'\t#直接缩小到1%')]),s._v("\ndisk not enough /dev/vda1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\ndisk not enough tmpfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'需要注意的是： awk使用多个条件的时候 第1个条件可以放在 \"条件{动作} 第2个条件 一般使用if\"'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("统计这段语句中，单词中字符小于6的单词，显示出来。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo  I am oldboy teacher welcome to oldboy traning class. | awk -F\"[ .]+\" '{for(i=1;i<=NF;i++)print $i}'")]),s._v("\nI\nam\noldboy\nteacher\nwelcome\nto\noldboy\ntraning\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# echo  I am oldboy teacher welcome to oldboy traning class. | awk -F"[ .]+" \'{')]),s._v("\nfor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v("NF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\tprint "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\nI\nam\nto\nclass\n\n\n[root@centos ~]# echo oldboy | awk '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("print length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n6\n[root@centos ~]# echo oldboy tom | awk '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("print length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n1\n[root@centos ~]# echo oldboy tom | awk '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("print length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n6\n[root@centos ~]# echo oldboy tom | awk '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("print length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("'\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"awk的内置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk的内置变量"}},[s._v("#")]),s._v(" Awk的内置变量")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("内置变量")]),s._v(" "),a("th"),s._v(" "),a("th")])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("NR")]),s._v(" "),a("td",[s._v("Number of Record 记录号，行")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("NF")]),s._v(" "),a("td",[s._v("Number of  Field 每行有多个字段（列）$NF表示最后一列")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("FS")]),s._v(" "),a("td",[s._v("-F： === -v FS=： Field Separator 字段分隔符，每个字段结束标记")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("OFS")]),s._v(" "),a("td",[s._v("Output Field Separator 输出字段分隔符（awk显示每一列之间通过什么分割，默认空格）")]),s._v(" "),a("td")])])]),s._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("gawk gnu awk")])]),s._v(" "),a("li",[a("strong",[s._v("awk选项 -F -v")])]),s._v(" "),a("li",[a("strong",[s._v("awk的执行流程")])]),s._v(" "),a("li",[a("strong",[s._v("awk的取行取列： 指哪打哪")])]),s._v(" "),a("li",[a("strong",[s._v("awk模式： 正则，范围，特殊模式，比较")])]),s._v(" "),a("li",[a("strong",[s._v("awk数组： 统计分析日志")])]),s._v(" "),a("li",[a("strong",[s._v("awk for if")])]),s._v(" "),a("li",[a("strong",[s._v("man awk /info awk")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);