(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{619:function(s,a,t){"use strict";t.r(a);var n=t(19),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"kubevirtéƒ¨ç½²å’Œä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubevirtéƒ¨ç½²å’Œä½¿ç”¨"}},[s._v("#")]),s._v(" KubeVirtéƒ¨ç½²å’Œä½¿ç”¨")]),s._v(" "),t("h3",{attrs:{id:"å®‰è£…-kubevirt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…-kubevirt"}},[s._v("#")]),s._v(" å®‰è£… Kubevirt")]),s._v(" "),t("h4",{attrs:{id:"ğŸ”å‡†å¤‡k8sé›†ç¾¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”å‡†å¤‡k8sé›†ç¾¤"}},[s._v("#")]),s._v(" ğŸ”å‡†å¤‡K8Sé›†ç¾¤")]),s._v(" "),t("p",[s._v("æŸ¥çœ‹å½“å‰çš„K8Sé›†ç¾¤ç¯å¢ƒï¼Œç¡®ä¿ä¸¤ä¸ªèŠ‚ç‚¹æœ‰è¶³å¤Ÿçš„æ€§èƒ½æ”¯æ’‘ã€‚å½“å‰è¿™é‡Œä½¿ç”¨çš„æ˜¯1.21.1ç‰ˆæœ¬çš„é›†ç¾¤ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl cluster-info ")]),s._v("\nKubernetes control plane is running at https://apiserver.cluster.local:6443\nCoreDNS is running at https://apiserver.cluster.local:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kubectl cluster-info dump'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get node ")]),s._v("\nNAME               STATUS   ROLES                         AGE    VERSION\nk8s-master-node1   Ready    control-plane,master,worker   2d1h   v1.21.1\nk8s-worker-node1   Ready    worker                        2d1h   v1.21.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”å¼€å¯è™šæ‹ŸåŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”å¼€å¯è™šæ‹ŸåŒ–"}},[s._v("#")]),s._v(" ğŸ”å¼€å¯è™šæ‹ŸåŒ–")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨å®‰è£… Kubevirt ä¹‹å‰ï¼Œéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚å…ˆå®‰è£… libvrt å’Œ qemu è½¯ä»¶åŒ…")]),s._v(" "),t("li",[s._v("æŸ¥çœ‹èŠ‚ç‚¹æ˜¯å¦æ”¯æŒ kvm ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–")]),s._v(" "),t("li",[s._v("å¦‚æœä¸æ”¯æŒï¼Œåˆ™å…ˆç”Ÿæˆè®© Kubevirt ä½¿ç”¨è½¯ä»¶è™šæ‹ŸåŒ–çš„é…ç½®")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ubuntu")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y qemu-kvm libvirt-bin bridge-utils virt-manager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS")]),s._v("\n$ yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y qemu-kvm libvirt virt-install bridge-utils\n\n$ virt-host-validate qemu\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" hardware virtualization                                 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" device /dev/kvm exists                                   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" device /dev/kvm is accessible                            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" device /dev/vhost-net exists                             "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" device /dev/net/tun exists                               "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'memory'")]),s._v(" controller support                      "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'memory'")]),s._v(" controller mount-point                  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpu'")]),s._v(" controller support                         "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpu'")]),s._v(" controller mount-point                     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpuacct'")]),s._v(" controller support                     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpuacct'")]),s._v(" controller mount-point                 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpuset'")]),s._v(" controller support                      "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cpuset'")]),s._v(" controller mount-point                  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'devices'")]),s._v(" controller support                     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'devices'")]),s._v(" controller mount-point                 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blkio'")]),s._v(" controller support                       "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" cgroup "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blkio'")]),s._v(" controller mount-point                   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" device assignment IOMMU support                         "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n  QEMU: Checking "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" IOMMU is enabled by kernel                               "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PASS\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("ä¸æ”¯æŒéœ€è¦å¼€å¯Kubevirtçš„è™šæ‹ŸåŒ–é…ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ kubectl create namespace kubevirt\n$ kubectl create configmap -n kubevirt kubevirt-config "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --from-literal debug.useEmulation"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”éƒ¨ç½²kubevirt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”éƒ¨ç½²kubevirt"}},[s._v("#")]),s._v(" ğŸ”éƒ¨ç½²kubevirt")]),s._v(" "),t("p",[s._v("éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬çš„ Kubevirtï¼Œå®˜æ–¹æœ‰æä¾›å¯¹åº”çš„ç‰ˆæœ¬ï¼Œå¦‚æœä½ çš„k8sé›†ç¾¤ç‰ˆæœ¬è¾ƒä½ï¼Œå¯ä»¥åˆ‡æ¢ç›¸å¯¹åº”çš„ç‰ˆæœ¬ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VERSION")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -s https://api.github.com/repos/kubevirt/kubevirt/releases "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" tag_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v -- "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-rc'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("': '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/,//'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ kubectl apply -f https://github.com/kubevirt/kubevirt/releases/download/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${VERSION}")]),s._v("/kubevirt-operator.yaml\n$ kubectl apply -f https://github.com/kubevirt/kubevirt/releases/download/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${VERSION}")]),s._v("/kubevirt-cr.yaml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("æŸ¥çœ‹éƒ¨ç½²ç»“æœï¼š")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ kubectl -n kubevirt get pod\nNAME                               READY   STATUS    RESTARTS   AGE\nvirt-api-64999f7bf5-n9kcl          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d\nvirt-api-64999f7bf5-st5qv          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d8h\nvirt-controller-8696ccdf44-v5wnq   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d\nvirt-controller-8696ccdf44-vjvsw   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d8h\nvirt-handler-85rdn                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("          7d19h\nvirt-handler-bpgzp                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("         7d19h\nvirt-handler-d55c7                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          7d19h\nvirt-operator-78fbcdfdf4-sf5dv     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d8h\nvirt-operator-78fbcdfdf4-zf9qr     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”éƒ¨ç½²-cdi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”éƒ¨ç½²-cdi"}},[s._v("#")]),s._v(" ğŸ”éƒ¨ç½² CDI")]),s._v(" "),t("p",[t("code",[s._v("Containerized Data Importerï¼ˆCDIï¼‰")]),s._v("é¡¹ç›®æä¾›äº†ç”¨äºä½¿ PVC ä½œä¸º KubeVirt VM ç£ç›˜çš„åŠŸèƒ½ã€‚å»ºè®®åŒæ—¶éƒ¨ç½² CDIï¼š")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VERSION")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -s https://github.com/kubevirt/containerized-data-importer/releases/latest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"v[0-9]\\.[0-9]*\\.[0-9]*"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ kubectl create -f https://github.com/kubevirt/containerized-data-importer/releases/download/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$VERSION")]),s._v("/cdi-operator.yaml\n$ kubectl create -f https://github.com/kubevirt/containerized-data-importer/releases/download/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$VERSION")]),s._v("/cdi-cr.yaml\n\n$ kubectl get pods -n cdi \nNAME                               READY   STATUS    RESTARTS   AGE\ncdi-apiserver-6dfc78cdfb-qj2jm     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          32h\ncdi-deployment-6bf458c4bb-9c2hn    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          32h\ncdi-operator-74d4968557-f5q49      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          35h\ncdi-uploadproxy-5767c4bf64-b879k   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          32h\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”å®¢æˆ·ç«¯å‡†å¤‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”å®¢æˆ·ç«¯å‡†å¤‡"}},[s._v("#")]),s._v(" ğŸ”å®¢æˆ·ç«¯å‡†å¤‡")]),s._v(" "),t("p",[s._v("Kubevirt æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…· "),t("code",[s._v("virtctl")]),s._v("ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VERSION")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -s https://api.github.com/repos/kubevirt/kubevirt/releases "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" tag_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v -- "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-rc'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("': '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/,//'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L -o /usr/local/bin/virtctl https://github.com/kubevirt/kubevirt/releases/download/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$VERSION")]),s._v("/virtctl-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$VERSION")]),s._v("-linux-amd64\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/virtctl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"ä½¿ç”¨kubevirtåˆ›å»ºè™šæ‹Ÿæœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨kubevirtåˆ›å»ºè™šæ‹Ÿæœº"}},[s._v("#")]),s._v(" ä½¿ç”¨KubeVirtåˆ›å»ºè™šæ‹Ÿæœº")]),s._v(" "),t("h4",{attrs:{id:"ğŸ”å‡†å¤‡é•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”å‡†å¤‡é•œåƒ"}},[s._v("#")]),s._v(" ğŸ”å‡†å¤‡é•œåƒ")]),s._v(" "),t("p",[s._v("è¿™é‡Œä½¿ç”¨çš„æ˜¯containerDiskçš„æ¨¡å¼åˆ›å»ºè™šæ‹Ÿæœºï¼Œç”¨qcow2çš„é•œåƒæ„å»ºã€‚æ–°å»ºä¸€ä¸ªå·¥ä½œç›®å½•å«"),t("code",[s._v("kubevirt")]),s._v(" ç›®å‰KubeVirtæ”¯æŒçš„é•œåƒæ ¼å¼æœ‰ä»¥ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v(".img")])]),s._v(" "),t("li",[t("p",[s._v(".qcow2")])]),s._v(" "),t("li",[t("p",[s._v(".iso")])]),s._v(" "),t("li",[t("p",[s._v("å‹ç¼©ä¸º .tarï¼Œ.gzï¼Œ.xz æ ¼å¼çš„ä¸Šè¿°é•œåƒ")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir kubevirt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd kubevirt/ ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("567012")]),s._v("\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("510459904")]),s._v(" Sep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" CentOS_7.5_x86_64_XD.qcow2\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(" Mar "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":24 Dockerfile\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat Dockerfile  ")]),s._v("\nFROM kubevirt/container-disk-v1alpha\nCOPY CentOS_7.5_x86_64_XD.qcow2 /disk/centos.img \n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker build -t centos-disk:v1 . ")]),s._v("\nSending build context to Docker daemon  556MB\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/2 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" FROM kubevirt/container-disk-v1alpha\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" e4fa80ad2d49\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/2 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" COPY CentOS_7.5_x86_64_XD.qcow2 /disk/centos.img\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" aa0a0ad6d5f6\nSuccessfully built aa0a0ad6d5f6\nSuccessfully tagged centos-disk:v1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”ç¼–å†™virtualmachineèµ„æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”ç¼–å†™virtualmachineèµ„æº"}},[s._v("#")]),s._v(" ğŸ”ç¼–å†™VirtualMachineèµ„æº")]),s._v(" "),t("p",[s._v("é€šè¿‡vmèµ„æºåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œåˆ†åˆ«ä½¿ç”¨çš„å‚æ•°åœ¨åéƒ¨åˆ†è¯¦è§£ï¼š")]),s._v(" "),t("p",[s._v("è¿™é‡Œä¸€å…±åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯"),t("code",[s._v("èµ„æºç±»å‹ã€èµ„æºæ¨¡æ¿ã€ç£ç›˜ç±»å‹ã€‚")]),s._v(" æ‰€ä»¥éœ€è¦é€šè¿‡è¿™ä¸‰ä¸ªéƒ¨åˆ†æ¥å¯¹kubevirtåˆ›å»ºè™šæ‹Ÿæœºæ‰€è¦æ±‚çš„èµ„æºæ ¹æ®éœ€æ±‚ä¿®æ”¹ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("æ³¨æ„ï¼š")]),s._v(" "),t("p",[s._v("åˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯æœ¬åœ°å­˜å‚¨åˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œéœ€è¦åˆ’åˆ†ä¸€éƒ¨åˆ†ç©ºé—´ï¼Œå¯¹äºèŠ‚ç‚¹çš„è°ƒåº¦ï¼Œå¯ä»¥æ‰“ä¸Šæ ‡ç­¾ã€‚")])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat vm2.yaml  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kubevirt.io/v1 \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" VirtualMachine \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("running")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kubevirt.io/size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" small \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kubevirt.io/domain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos \n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("domain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("devices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" containerdisk \n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" virtio  \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("interfaces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("masquerade")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("requests")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1024M\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" containerdisk \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerDisk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("disk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”virtualmachineèµ„æºè¯¦è§£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”virtualmachineèµ„æºè¯¦è§£"}},[s._v("#")]),s._v(" ğŸ”VirtualMachineèµ„æºè¯¦è§£")]),s._v(" "),t("p",[s._v("virtualmachineçš„èµ„æºç±»å‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Kindæ˜¯ï¼š  "),t("code",[s._v("VirtualMachine")])]),s._v(" "),t("li",[s._v("apiçš„ç‰ˆæœ¬æ˜¯ï¼š "),t("code",[s._v("kubevirt.io/v1")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kubevirt.io/v1 \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" VirtualMachine \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("è§„èŒƒï¼š")]),s._v(" "),t("p",[s._v("VirtualMachineInstanceè§„èŒƒåŒ…å«VirtualMachineInstanceè§„èŒƒã€‚")]),s._v(" "),t("ul",[t("li",[s._v("è¿™é‡Œçš„runningæ˜¯è¡¨ç¤ºï¼š "),t("code",[s._v("æ˜¯å¦åˆ›å»ºå…³è”VMå’ŒVMIçš„èµ„æº")])]),s._v(" "),t("li",[s._v("templateè¡¨ç¤ºï¼š "),t("code",[s._v("æ˜¯VirtualMachine Instanceçš„ç›´æ¥è§„èŒƒ")])]),s._v(" "),t("li",[s._v("labelsï¼š "),t("code",[s._v("æ‰“ä¸Šä¸¤ä¸ªæ ‡ç­¾")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("running")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kubevirt.io/size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" small \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kubevirt.io/domain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("æ¨¡æ¿é‡Œçš„è§„èŒƒé…ç½®ä¸»æœºå‚æ•°ï¼š")]),s._v(" "),t("p",[s._v("åœ¨æ¨¡æ¿è§„èŒƒä¸­ï¼Œé…ç½®å½“å‰ä¸»æœºçš„ä¸€äº›ä¸»è¦ç›¸å…³è”çš„è®¾å¤‡ä»¥åŠèµ„æºï¼Œé…ç½®è§„èŒƒè¯¦è§£å¦‚ä¸‹ã€‚")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("cpuï¼š")]),s._v(" "),t("code",[s._v("ä¸»è¦æ˜¯è®¾ç½®cpuçš„æ ¸å¿ƒæ•°ä¸º1ä¸ª")])]),s._v(" "),t("li",[t("strong",[s._v("devices:")]),s._v(" "),t("code",[s._v("è®¾å¤‡å…è®¸æ·»åŠ ç£ç›˜ã€ç½‘ç»œæ¥å£ç­‰")])]),s._v(" "),t("li",[t("strong",[s._v("disks:")]),s._v(" "),t("code",[s._v("åœ¨devicesçš„è§„èŒƒä¸‹æ·»åŠ vmiè¿æ¥åˆ°çš„ç£ç›˜ã€CD-ROMã€è½¯ç›˜å’ŒLUN")]),s._v("  æ€»çº¿æŒ‡ç¤ºè¦æ¨¡æ‹Ÿçš„ç£ç›˜è®¾å¤‡çš„ç±»å‹ã€‚æ”¯æŒçš„å€¼ï¼š"),t("code",[s._v("virtioï¼Œsataã€scsi")])]),s._v(" "),t("li",[t("strong",[s._v("interfaces:")]),s._v(" "),t("code",[s._v("æ¥å£æè¿°æ·»åŠ åˆ°vmiçš„ç½‘ç»œæ¥å£")])]),s._v(" "),t("li",[t("strong",[s._v("machine:")]),s._v(" "),t("code",[s._v("æœºå™¨ç±»å‹")])]),s._v(" "),t("li",[t("strong",[s._v("resources:")]),s._v(" "),t("code",[s._v("è®¾ç½®èµ„æºå’Œè¯·æ±‚èµ„æº")])]),s._v(" "),t("li",[t("strong",[s._v("hostname:")]),s._v(" "),t("code",[s._v("è®¾ç½®ä¸»æœºåç§°")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("domain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cores")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("devices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bootOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" virtio\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" cloudinitdisk \n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" virtio\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" containerdisk \n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("disk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" virtio  \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("interfaces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("masquerade")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("machine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" q35\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("limits")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4Gi\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("requests")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cpu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1333m\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4Gi \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hostname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wtest \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("p",[s._v("æ¨¡æ¿é‡Œçš„è§„èŒƒé…ç½®ä¸»æœºå¤–éƒ¨å‚æ•°ç½‘ç»œéƒ¨åˆ†ï¼š")]),s._v(" "),t("p",[s._v("åœ¨é…ç½®å®Œæ¨¡æ¿çš„ä¸»æœºè§„èŒƒä¹‹åï¼Œé…ç½®å¤–éƒ¨çš„ç½‘ç»œå‚æ•°ã€‚")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("networks:")]),s._v(" "),t("code",[s._v("é…ç½®å¤–éƒ¨çš„ç½‘ç»œå‚æ•°")])]),s._v(" "),t("li",[t("strong",[s._v("podï¼š")]),s._v(" "),t("code",[s._v("é…ç½®ç½‘ç»œæ¥å£CIDR")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default \n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("æ¨¡æ¿é‡Œçš„è§„èŒƒé…ç½®ä¸»æœºå¤–éƒ¨å‚æ•°ç£ç›˜ï¼š")]),s._v(" "),t("p",[s._v("è¿™é‡Œä¸»è¦é…ç½®çš„æ˜¯è™šæ‹Ÿæœºçš„ç£ç›˜æ¥æºï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯containerDiskçš„æ–¹å¼")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("cloudInitNoCloud:")]),s._v(" "),t("code",[s._v("é…ç½®cloudinitçš„ä¸€äº›å‚æ•°")])]),s._v(" "),t("li",[t("strong",[s._v("containerDisk:")]),s._v(" "),t("code",[s._v("ContainerDiskå¼•ç”¨dockeræ˜ åƒï¼ŒåµŒå…¥qcowæˆ–åŸå§‹ç£ç›˜")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloudInitNoCloud")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networkDataBase64")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("userDataBase64")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" cloudinitdisk \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" containerdisk \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerDisk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" centos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("disk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”åˆ›å»ºè™šæ‹Ÿæœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”åˆ›å»ºè™šæ‹Ÿæœº"}},[s._v("#")]),s._v(" ğŸ”åˆ›å»ºè™šæ‹Ÿæœº")]),s._v(" "),t("p",[s._v("ä½¿ç”¨applyæ‰§è¡Œyamlæ–‡ä»¶ï¼Œå¹¶ä¸”æŸ¥çœ‹vmå’Œvmiçš„èµ„æº,é€šè¿‡virtctlçš„å‘½ä»¤å¼€å¯è™šæ‹Ÿæœºï¼Œéœ€è¦ç­‰å¾…ä¸€ä¼šï¼Œå½“é•œåƒå®Œå…¨åŠ è½½å®Œæˆä¹‹åå†ä½¿ç”¨consoleè¿æ¥ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("æ³¨æ„ï¼š")]),s._v(" "),t("p",[s._v("ä½¿ç”¨vmèµ„æºåˆ›å»ºä¹‹åçš„è™šæ‹Ÿæœºï¼Œé»˜è®¤çŠ¶æ€æ˜¯å±äºstopï¼Œéœ€è¦å¼€å¯ä¹‹åå†æ¬¡æŸ¥çœ‹vmiå’Œpodçš„èµ„æºæ˜¯å¦åŒæ­¥ã€‚")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f vm1.yaml  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# virtctl start  centos ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get vm,vmi,pod  ")]),s._v("\nNAME                                AGE     STATUS    READY\nvirtualmachine.kubevirt.io/centos   7h52m   Running   True\n\nNAME                                        AGE     PHASE     IP            NODENAME           READY\nvirtualmachineinstance.kubevirt.io/centos   7h51m   Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".0.12   k8s-master-node1   True\n\nNAME                             READY   STATUS    RESTARTS   AGE\npod/virt-launcher-centos-tjfs4   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/2     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          7h51m\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"ğŸ”è¿æ¥è™šæ‹Ÿæœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”è¿æ¥è™šæ‹Ÿæœº"}},[s._v("#")]),s._v(" ğŸ”è¿æ¥è™šæ‹Ÿæœº")]),s._v(" "),t("p",[s._v("virtctl å‘½ä»¤å¯ä»¥ç®¡ç†è™šæ‹Ÿæœºçš„ç”Ÿå‘½å‘¨æœŸï¼š "),t("code",[s._v("å¼€å¯ã€é‡å¯ã€åˆ é™¤ç­‰ã€‚")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@k8s-master-node1 kubevirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# virtctl console centos ")]),s._v("\nSuccessfully connected to centos console. The escape sequence is ^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nCentOS Linux "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nKernel "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-862.2.3.el7.x86_64 on an x86_64\n\ncentos login: root\nPassword: \nLast login: Tue Mar "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" 08:35:38 on ttyS0\n\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#########################")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Welcome to XianDian  #")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#########################")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@centos ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);