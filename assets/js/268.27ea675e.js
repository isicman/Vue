(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{748:function(t,e,a){"use strict";a.r(e);var s=a(19),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"solidity基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solidity基础"}},[t._v("#")]),t._v(" Solidity基础")]),t._v(" "),a("h2",{attrs:{id:"_1-solidity的了解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-solidity的了解"}},[t._v("#")]),t._v(" 1.Solidity的了解")]),t._v(" "),a("h3",{attrs:{id:"_1-1-solidity语言简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-solidity语言简介"}},[t._v("#")]),t._v(" 1.1 Solidity语言简介")]),t._v(" "),a("p",[a("strong",[t._v("Solidity")]),t._v("是一种"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Object-oriented_programming_language",target:"_blank",rel:"noopener noreferrer"}},[t._v("面向对象的编程语言"),a("OutboundLink")],1),t._v("，用于在各种区块"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Blockchain",target:"_blank",rel:"noopener noreferrer"}},[t._v("链"),a("OutboundLink")],1),t._v("平台上实现"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Smart_contract",target:"_blank",rel:"noopener noreferrer"}},[t._v("智能合约"),a("OutboundLink")],1),t._v("["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("2] "),a("OutboundLink")],1),t._v("["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-finextra24Nov2016-3",target:"_blank",rel:"noopener noreferrer"}},[t._v("3]"),a("OutboundLink")],1),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum",target:"_blank",rel:"noopener noreferrer"}},[t._v(" ，最著名的是以太坊"),a("OutboundLink")],1),t._v("。["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("4]"),a("OutboundLink")],1),t._v("它由 Christian Reitwiessner、Alex Beregszaszi 和几位前"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太坊"),a("OutboundLink")],1),t._v("核心贡献者开发。["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-5",target:"_blank",rel:"noopener noreferrer"}},[t._v("5]"),a("OutboundLink")],1),t._v(" Solidity中的程序在"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum#Virtual_machine",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太坊虚拟机"),a("OutboundLink")],1),t._v("上运行。")]),t._v(" "),a("p",[t._v("Solidity虽然是面向智能合约的编程语言。也即Solidity发明出来的目的就是为了实现智能合约。但是请注意，智能合约的实现手段不止是Solidity，其他的语言比如Go, JS等同样可以用来实现智能合约。只不过Solidity专门用来做这件事情，是不是就比其他的语言更好用，需要慢慢发现。")]),t._v(" "),a("h3",{attrs:{id:"_1-2-历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-历史"}},[t._v("#")]),t._v(" 1.2 历史")]),t._v(" "),a("p",[t._v("Solidity 由"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Gavin_Wood",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gavin Wood"),a("OutboundLink")],1),t._v("于 2014 年 8 月提出；["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("6]"),a("OutboundLink")],1),t._v(" ["),a("em",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Wikipedia:No_original_research#Primary,_secondary_and_tertiary_sources",target:"_blank",rel:"noopener noreferrer"}},[t._v("需要非主要来源"),a("OutboundLink")],1)]),t._v("]该语言后来由 Christian Reitwiessner 领导的以太坊项目的 Solidity 团队开发。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum",target:"_blank",rel:"noopener noreferrer"}},[t._v("Solidity 是以太坊"),a("OutboundLink")],1),t._v("以及其他私有区块链（例如面向企业的"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Hyperledger",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hyperledger"),a("OutboundLink")],1),t._v(" Fabric区块链）上的主要语言。"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/SWIFT",target:"_blank",rel:"noopener noreferrer"}},[t._v("SWIFT"),a("OutboundLink")],1),t._v("使用在 Hyperledger Fabric 上运行的 Solidity 部署了概念验证。")]),t._v(" "),a("h3",{attrs:{id:"_1-3-说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-说明"}},[t._v("#")]),t._v(" 1.3 说明")]),t._v(" "),a("p",[t._v("Solidity 是一种"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Statically_typed_programming_language",target:"_blank",rel:"noopener noreferrer"}},[t._v("静态类型的编程语言"),a("OutboundLink")],1),t._v("，旨在开发在"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum#Virtual_machine",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太坊虚拟机"),a("OutboundLink")],1),t._v("(EVM) 上运行的智能合约。["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-9",target:"_blank",rel:"noopener noreferrer"}},[t._v("9]"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Solidity 使用类似"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/ECMAScript",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMAScript"),a("OutboundLink")],1),t._v("的语法，这让现有的 Web 开发人员很熟悉；["),a("em",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Wikipedia:Citation_needed",target:"_blank",rel:"noopener noreferrer"}},[t._v("需要引用"),a("OutboundLink")],1)]),t._v("]但是与 ECMAScript 不同的是，它具有静态类型和"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Variadic",target:"_blank",rel:"noopener noreferrer"}},[t._v("可变"),a("OutboundLink")],1),t._v("返回类型。Solidity 在一些重要方面不同于其他针对 EVM 的语言，例如 Serpent 和 Mutan。它支持合约的复杂成员变量，包括任意层次的映射和"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Record_(computer_science)",target:"_blank",rel:"noopener noreferrer"}},[t._v("结构"),a("OutboundLink")],1),t._v("。Solidity 合约支持"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)",target:"_blank",rel:"noopener noreferrer"}},[t._v("继承"),a("OutboundLink")],1),t._v("，包括带有"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/C3_linearization",target:"_blank",rel:"noopener noreferrer"}},[t._v("C3 线性化的"),a("OutboundLink")],1),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Multiple_inheritance",target:"_blank",rel:"noopener noreferrer"}},[t._v("多重继承"),a("OutboundLink")],1),t._v("。Solidity 引入了"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Application_binary_interface",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用程序二进制接口"),a("OutboundLink")],1),t._v("(ABI)，可促进多种"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Type-safe",target:"_blank",rel:"noopener noreferrer"}},[t._v("类型安全"),a("OutboundLink")],1),t._v("单个合约中的函数（这后来也得到了 Serpent 的支持）。Solidity 提案还包括“自然语言规范”，这是一个文档系统，用于指定以用户为中心的方法调用分支的描述。")]),t._v(" "),a("h3",{attrs:{id:"_1-4-开发平台可用性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-开发平台可用性"}},[t._v("#")]),t._v(" 1.4 开发平台可用性")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Amazon_Web_Services",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS"),a("OutboundLink")],1),t._v("的 ErisDB")]),t._v(" "),a("li",[t._v("安全帽")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Microsoft_Visual_Studio",target:"_blank",rel:"noopener noreferrer"}},[t._v("微软视觉工作室"),a("OutboundLink")],1),t._v("["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-14",target:"_blank",rel:"noopener noreferrer"}},[t._v("14]"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Microsoft_Visual_Studio_Code",target:"_blank",rel:"noopener noreferrer"}},[t._v("微软 Visual Studio 代码"),a("OutboundLink")],1),t._v("["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-15",target:"_blank",rel:"noopener noreferrer"}},[t._v("15]"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Microsoft_Azure",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microsoft Azure"),a("OutboundLink")],1),t._v("上的 Tendermint")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太坊"),a("OutboundLink")],1),t._v("混音"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-16",target:"_blank",rel:"noopener noreferrer"}},[t._v("16"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_1-5-区块链平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-区块链平台"}},[t._v("#")]),t._v(" 1.5 区块链平台")]),t._v(" "),a("p",[t._v("Solidity 可用于：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太坊"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Binance",target:"_blank",rel:"noopener noreferrer"}},[t._v("币安"),a("OutboundLink")],1),t._v("智能链["),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Solidity#cite_note-17",target:"_blank",rel:"noopener noreferrer"}},[t._v("17]"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ethereum_Classic",target:"_blank",rel:"noopener noreferrer"}},[t._v("以太经典"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Avalanche_(blockchain_platform)",target:"_blank",rel:"noopener noreferrer"}},[t._v("Avalanche C 链"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Counterparty_(technology)",target:"_blank",rel:"noopener noreferrer"}},[t._v("交易对手"),a("OutboundLink")],1),t._v("（在"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Bitcoin",target:"_blank",rel:"noopener noreferrer"}},[t._v("比特币"),a("OutboundLink")],1),t._v("上运行）")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/TRON_(cryptocurrency)",target:"_blank",rel:"noopener noreferrer"}},[t._v("创"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Hashgraph",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hedera 哈希图"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_1-6-solidity-的局限性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-solidity-的局限性"}},[t._v("#")]),t._v(" 1.6 Solidity 的局限性")]),t._v(" "),a("p",[t._v("与可以调试的传统编程语言中的程序不同，Solidity 合约中的错误无法编辑或修复；交易不能撤销。Solidity 遵循“代码就是法律”的口号，这意味着任何智能合约在生效时都必须经过完美编码。")]),t._v(" "),a("p",[t._v("有一些黑客案例，例如前面提到的 2016 年 DAO 黑客事件，其中6000 万"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/United_States_dollar",target:"_blank",rel:"noopener noreferrer"}},[t._v("美元"),a("OutboundLink")],1),t._v("被盗，以及 2021 年黑客事件导致以太坊系统分叉。")]),t._v(" "),a("p",[t._v("为了防止技术失误和失误，美国最大的加密货币交易所"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Coinbase",target:"_blank",rel:"noopener noreferrer"}},[t._v("Coinbase推出了一款名为 Solidify 的新工具。"),a("OutboundLink")],1),t._v("该工具是一个人工智能审计系统，用于检测和分类智能合约风险。")]),t._v(" "),a("h2",{attrs:{id:"_2-solidity基础实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-solidity基础实战"}},[t._v("#")]),t._v(" 2.Solidity基础实战")]),t._v(" "),a("h3",{attrs:{id:"_2-1-第一个案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-第一个案例"}},[t._v("#")]),t._v(" 2.1 第一个案例")]),t._v(" "),a("div",{staticClass:"language-solidity line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-solidity"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//声明版本号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.4.16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pragma solidity >=0.7.0 <0.9.0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//合约 有点类似于java中的class")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloWorld")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//合约属性变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" myName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HelloWorld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//合约中方法 注意语法顺序 其中此处view 代表方法只读 不会消耗gas")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" myName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可以修改属性变量的值 消耗gas")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" _newName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        myName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _newName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pure:不能读取也不能改变状态变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pureName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" _name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pure")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[a("strong",[t._v("修饰符详解：")])]),t._v(" "),a("p",[t._v("用constant、view、pure修饰function分别表示：")]),t._v(" "),a("ul",[a("li",[t._v("constant:只能读取不可改变状态变量(就是contract中定义的变量）")]),t._v(" "),a("li",[t._v("view:只能读取不可改变状态变量,和constant一样")]),t._v(" "),a("li",[t._v("pure:不能读取也不能改变状态变量")])]),t._v(" "),a("h3",{attrs:{id:"_2-2-solidity语法介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-solidity语法介绍"}},[t._v("#")]),t._v(" 2.2 Solidity语法介绍")]),t._v(" "),a("blockquote",[a("p",[t._v("注意：由于以下内容都是一些基本的语言特性，相信有编程基础的同学都可以看懂，因此，关于它的语法代码可以运行一下，看看效果，这里就不做过多的解释。")])]),t._v(" "),a("h4",{attrs:{id:"_2-2-1-solidity注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-solidity注释"}},[t._v("#")]),t._v(" 2.2.1 Solidity注释")]),t._v(" "),a("p",[t._v("主要有三种注释分类：")]),t._v(" "),a("ul",[a("li",[t._v("单行注释： "),a("code",[t._v("//")])]),t._v(" "),a("li",[t._v("多行注释： "),a("code",[t._v("/* */")])]),t._v(" "),a("li",[t._v("natspec注释")])]),t._v(" "),a("h4",{attrs:{id:"_2-2-2-智能合约执行过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-智能合约执行过程"}},[t._v("#")]),t._v(" 2.2.2 智能合约执行过程")]),t._v(" "),a("p",[t._v("通过上面的第一个案例可以观察到整个智能合约的执行过程如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/isicman/image/main/img/image-20220717213058461.png",alt:"image-20220717213058461"}})]),t._v(" "),a("h4",{attrs:{id:"_2-2-3-合约版本说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-合约版本说明"}},[t._v("#")]),t._v(" 2.2.3 合约版本说明")]),t._v(" "),a("p",[t._v("合约版本声明有三种方式可以选择：")]),t._v(" "),a("div",{staticClass:"language-solidity line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-solidity"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.6.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.6.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.6.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.9.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h4",{attrs:{id:"_2-2-4-import关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-import关键字"}},[t._v("#")]),t._v(" 2.2.4 Import关键字")]),t._v(" "),a("p",[t._v("import关键字作用： "),a("code",[t._v("导入其他源文件")])]),t._v(" "),a("p",[t._v("Solidity所支持的导入语句import，语法和JavaScript（从 ES6起）非常类似。")]),t._v(" "),a("p",[t._v("主要的import的使用如下：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v('import "filename";')])]),t._v(" "),a("p",[t._v('从"filename"中导入所有的全局符号到当前的全局作用域中')])]),t._v(" "),a("li",[a("p",[a("code",[t._v('import * as symbolName from "filename";')])]),t._v(" "),a("p",[t._v('创建一个新的全局符号 symbolName,其成员均来自"filename" 中全局符号')])]),t._v(" "),a("li",[a("p",[a("code",[t._v('import "filename" as symbolName;')])]),t._v(" "),a("p",[t._v('这条语句等同于import * as symbolName from "filename";')])]),t._v(" "),a("li",[a("p",[a("code",[t._v('import {symbol1 as alias, symbol2} from "filename";')])]),t._v(" "),a("p",[t._v('创建新的全局符号alias和symbol2，分别从"filename"引用symbol1和symbol2')])])]),t._v(" "),a("p",[t._v("例子：")]),t._v(" "),a("p",[t._v("编写DemoB.sol的合约。")]),t._v(" "),a("div",{staticClass:"language-solidity line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-solidity"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.7.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.9.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DemoB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个字符串变量为Lisi")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" secondName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Lisi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个函数用来获取变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSecondName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" secondName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("编写DemoA.sol的合约。")]),t._v(" "),a("div",{staticClass:"language-solidity line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-solidity"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pragma")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("solidity")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.7.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token version number"}},[t._v("0.9.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入DemoB.sol的合约")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./DemoB.sol"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" ti "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./DemoB.sol"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DemoA")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个字符串的变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nobody"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个set函数用来赋值变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),t._v(" _name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个get函数用来获取变量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将DemoB 新建一个对象")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DemoB b = new DemoB();")]),t._v("\n        ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DemoB c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ti")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DemoB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// string memory secondName = b.getSecondName();")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),t._v(" secondName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSecondName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("secondName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("编译部署智能合约可以看到当前两个变量的值。")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string: nobody"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string: Lisi"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h4",{attrs:{id:"_2-2-5-evm虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5-evm虚拟机"}},[t._v("#")]),t._v(" 2.2.5 EVM虚拟机")]),t._v(" "),a("p",[t._v("一个类似JVM的东西，叫做EVM。")]),t._v(" "),a("p",[t._v("以太坊虚拟机上运行的是合约的字节码形式，需要在部署之前先对合约进行编译。")]),t._v(" "),a("p",[t._v("以太坊虚拟机是一个被沙箱封装起来，完全隔离的运行环境。运行在EVM内部的代码不能接触到网络，文件系统或者其他的进程，即使是智能合约与其他的智能合约也只能进行有限的交互。")])])}),[],!1,null,null,null);e.default=n.exports}}]);