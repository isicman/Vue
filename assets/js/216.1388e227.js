(window.webpackJsonp=window.webpackJsonp||[]).push([[216],{696:function(s,t,a){"use strict";a.r(t);var r=a(19),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"barbican"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#barbican"}},[s._v("#")]),s._v(" Barbican")]),s._v(" "),a("h2",{attrs:{id:"barbican简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#barbican简介"}},[s._v("#")]),s._v(" Barbican简介")]),s._v(" "),a("p",[a("strong",[s._v("什么是Barbican？")])]),s._v(" "),a("p",[a("code",[s._v("Barbican 是 OpenStack 密钥管理器服务。")]),s._v("它提供秘密数据的安全存储、配置和管理。这包括密钥材料，例如对称密钥、非对称密钥、证书和原始二进制数据。")]),s._v(" "),a("p",[a("code",[s._v("Barbican的核心是加解密以及密钥的存储。")]),s._v("基本思想是初始化时生成一个根密钥，安全的存储在硬件HSM中，无法读出，只能进行加解密操作。所有的应用密钥在存储在数据库中之前，都是经过根密钥加密的，因此不怕数据库被拖库。使用密钥时，从数据库读出密文，用根密钥解密后获取明文，再使用。")]),s._v(" "),a("p",[s._v("密钥存储、生成、加解密这部分，barbican充分利用的"),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=openstack&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("openstack"),a("OutboundLink")],1),s._v("的插件思想，进行抽象化设计，可以支持不同的软件、硬件密钥管理方案，如PKCS11硬件、KMIP硬件等。")]),s._v(" "),a("h2",{attrs:{id:"功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[s._v("#")]),s._v(" 功能")]),s._v(" "),a("p",[s._v("Barbican能够存储的“秘密”包括：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://so.csdn.net/so/search?q=%E5%AF%86%E9%92%A5&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("密钥"),a("OutboundLink")],1),s._v("。包括对称算法中的密钥、非对称算法中的私钥（包括公钥）、数字签名的密钥等。其底层通过plugin设计支持不同的软、硬件（HSM）。")]),s._v(" "),a("li",[s._v("证书。通过plugin的方式提供证书的颁发、验证等功能。此功能将在Pike版本废弃。")]),s._v(" "),a("li",[s._v("二进制数据。")])]),s._v(" "),a("h2",{attrs:{id:"总体架构图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总体架构图"}},[s._v("#")]),s._v(" 总体架构图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/isicman/image/main/img/202205120010117.png",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"各个抽象概念的关系图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各个抽象概念的关系图"}},[s._v("#")]),s._v(" 各个抽象概念的关系图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/isicman/image/main/img/202205120010673.png",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"抽象概念解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抽象概念解释"}},[s._v("#")]),s._v(" 抽象概念解释")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Secrets")])])]),s._v(" "),a("p",[s._v("Secrets是需要存储的"),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=%E5%AF%86%E9%92%A5&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("密钥"),a("OutboundLink")],1),s._v("，可能的形式如：私钥、证书、密码等。")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("ACL")])])]),s._v(" "),a("p",[s._v("除了基于角色的权限控制外，ACL可以提供基于用户访问列表的权限控制。即可以指定哪些用户对该密钥有"),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("访问权限"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Orders")])])]),s._v(" "),a("p",[s._v("order允许用户请求barbican自己产生secret。并且支持异步生成secret。当希望请求生成多个公私钥对时，非常有用。一个order生成一个对应的secret，order可以异步生成。")]),s._v(" "),a("p",[s._v("order支持如下两种类型：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("symmetric keys 对称密钥")])]),s._v(" "),a("li",[a("code",[s._v("asymmetric keys 非对称密钥")])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Containers")])])]),s._v(" "),a("p",[s._v("Containers是一个容器，用于存储多个secret引用。当不得不跟踪、访问上百个secret时，"),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=container&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("container"),a("OutboundLink")],1),s._v("非常有用。")]),s._v(" "),a("p",[s._v("barbican支持3种类型的container：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Generic")])]),s._v(" "),a("li",[a("code",[s._v("Certificate")])]),s._v(" "),a("li",[a("code",[s._v("RSA")])])]),s._v(" "),a("p",[s._v("每种类型的container应该保存什么类型的secret，有明确的限制。")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Generic Containers")])])]),s._v(" "),a("p",[s._v("用于存储任意类型的secret。对于secret的类型和存储数量没有任何限制。")]),s._v(" "),a("h2",{attrs:{id:"barbican管理密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#barbican管理密钥"}},[s._v("#")]),s._v(" Barbican管理密钥")]),s._v(" "),a("h3",{attrs:{id:"密钥列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#密钥列表"}},[s._v("#")]),s._v(" 密钥列表")]),s._v(" "),a("p",[s._v("秘密由 URI 标识。这显示为 href 的值。以下示例显示了在上一步中创建的密钥。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret list")]),s._v("\n+------------------------------------------------------------------------------------+------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href                                                                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------------------+------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" https://192.168.123.169:9311/v1/secrets/24845e6d-64a5-4071-ba99-0fdd1046172e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("-01-22T02:23:15+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/octet-stream'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" symmetric   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------------------+------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"添加一个新的秘密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加一个新的秘密"}},[s._v("#")]),s._v(" 添加一个新的秘密")]),s._v(" "),a("p",[s._v("下面是一个例子，创建一个测试密钥。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack  secret store --name testSecret --payload 'TestPayLoad'")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/25879b82-480a-4076-8cad-0edcb7b4f329 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" testSecret                                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" opaque                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cbc                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret list                ")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href                                                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/25879b82-480a-4076-8cad-0edcb7b4f329 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" testSecret "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:23:56+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/plain'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" opaque      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cbc  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-----------------------------+-----------+------------+-------------+------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"更新和删除密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新和删除密钥"}},[s._v("#")]),s._v(" 更新和删除密钥")]),s._v(" "),a("p",[s._v("您无法更改密钥有效负载（除了删除密钥），但如果您在未指定有效负载的情况下创建了密钥，"),a("code",[s._v("update")]),s._v("则可以稍后使用函数添加有效负载。下面是一个例子。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret update http://controller:9311/v1/secrets/25879b82-480a-4076-8cad-0edcb7b4f329 'TestPlayload-update'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack  secret delete http://controller:9311/v1/secrets/25879b82-480a-4076-8cad-0edcb7b4f329")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"对称密钥生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对称密钥生成"}},[s._v("#")]),s._v(" 对称密钥生成")]),s._v(" "),a("p",[s._v("对称密钥适用于特定任务，例如 nova 磁盘加密和 swift 对象加密。")]),s._v(" "),a("p",[a("code",[s._v("order create")]),s._v("用于生成新的 256 位密钥并将其存储在 barbican 中。下面是一个例子。")]),s._v(" "),a("p",[a("code",[s._v("--mode")]),s._v("：可以将生成的密钥设置为使用特定模式，例如、"),a("code",[s._v("ctr")]),s._v("或"),a("code",[s._v("cbc")]),s._v("有关详细信息，请参阅"),a("em",[s._v("NIST SP 800-38A")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack  secret order create --name swift_key --algorithm aes --mode ctr --bit-length 256 --payload-content-type=application/octet-stream key  ")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Order href     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/orders/ee6e0a63-e940-4bf5-b6cc-cae2c17a200f "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Type           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Key                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Container href "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" N/A                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error code     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error message  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("查看订单详细信息并将生成的键的位置标识为"),a("code",[s._v("Secret href")]),s._v("值。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret order get  http://controller:9311/v1/orders/ee6e0a63-e940-4bf5-b6cc-cae2c17a200f ")]),s._v("\n+----------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Order href     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/orders/ee6e0a63-e940-4bf5-b6cc-cae2c17a200f  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Type           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Key                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Container href "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" N/A                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/5d75511f-f2cd-486f-818b-e152f8e0c347 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:27:20+00:00                                              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error code     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error message  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+------------------------------------------------------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("获取查看秘密细节")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret get  http://controller:9311/v1/secrets/5d75511f-f2cd-486f-818b-e152f8e0c347")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/5d75511f-f2cd-486f-818b-e152f8e0c347 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" swift_key                                                              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:27:20+00:00                                              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/octet-stream'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" symmetric                                                              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ctr                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"备份和恢复密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#备份和恢复密钥"}},[s._v("#")]),s._v(" 备份和恢复密钥")]),s._v(" "),a("p",[s._v("备份和恢复加密密钥的过程取决于后端的类型。")]),s._v(" "),a("p",[a("strong",[s._v("备份和恢复一个简单的加密后端")])]),s._v(" "),a("p",[a("em",[s._v("一个简单的加密")]),s._v("后端需要备份两个不同的组件（KEK 和数据库）。建议定期测试备份和还原过程。")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("1.KEK 备份和恢复")])])]),s._v(" "),a("p",[a("em",[s._v("一个简单的加密")]),s._v("后端"),a("code",[s._v("barbican.conf")]),s._v("需要备份包含主 KEK 的文件。此文件应备份到更安全的位置。实际数据以加密方式存储在 Barbican 数据库中，如下一节所述。")]),s._v(" "),a("ul",[a("li",[s._v("要从备份中恢复密钥，您需要将恢复的密钥复制 到"),a("code",[s._v("barbican.conf")]),s._v("现有密钥中。"),a("code",[s._v("barbican.conf")])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("2.后端数据库备份与恢复")])])]),s._v(" "),a("p",[s._v("此过程描述如何为简单的加密后端备份和恢复 barbican 数据库。这将生成一个密钥并将密钥上传到 barbican。然后备份 barbican 数据库并删除您创建的秘密。然后恢复数据库并确保您之前创建的密钥已恢复。")]),s._v(" "),a("h4",{attrs:{id:"_1-创建测试密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建测试密码"}},[s._v("#")]),s._v(" 1.创建测试密码")]),s._v(" "),a("p",[s._v("在openstack中使用"),a("code",[s._v("order create")]),s._v("以生成新的 256 位密钥并将其存储在 barbican 中。下面是一个例子。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret order create --name swift_key --algorithm aes --mode ctr --bit-length 256 --payload-content-type=application/octet-stream key")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Order href     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/orders/5f578f8f-7acb-433f-b7d3-42b31e8462a5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Type           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Key                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Container href "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" N/A                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error code     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Error message  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------------+-----------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret store --name  testSecret --payload 'TestPayLoad'")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Value                                                                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/ce451534-ef88-4661-9dfc-2de50a101a16 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" testSecret                                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" opaque                                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cbc                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None                                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------+------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret list ")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href                                                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/ce451534-ef88-4661-9dfc-2de50a101a16 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" testSecret "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:59:11+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/plain'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" opaque      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cbc  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/2e0ec17a-b499-4469-a3c9-dbb6ab06f981 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" swift_key  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:58:43+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/octet-stream'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" symmetric   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ctr  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])]),a("h4",{attrs:{id:"_2-备份barbican数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-备份barbican数据库"}},[s._v("#")]),s._v(" 2.备份barbican数据库")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysqldump -u barbican -p000000 barbican > barbican_db_backup.sql  ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-删除所有密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-删除所有密钥"}},[s._v("#")]),s._v(" 2.删除所有密钥")]),s._v(" "),a("p",[s._v("在 openstack 上，删除您之前创建的秘密并验证它们不再存在：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret delete http://controller:9311/v1/secrets/ce451534-ef88-4661-9dfc-2de50a101a16 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret delete http://controller:9311/v1/secrets/2e0ec17a-b499-4469-a3c9-dbb6ab06f981")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret list ")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3-恢复密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-恢复密钥"}},[s._v("#")]),s._v(" 3.恢复密钥")]),s._v(" "),a("p",[s._v("要从备份中恢复 barbican 数据库，请使用 barbican 权限登录 Controller 节点并恢复 barbican 数据库。要从备份中恢复 KEK，请使用"),a("code",[s._v("barbican.conf")]),s._v("备份文件覆盖该文件。")]),s._v(" "),a("p",[s._v("先决条件")]),s._v(" "),a("ul",[a("li",[s._v("OpenStack 密钥管理器已安装并正在运行")]),s._v(" "),a("li",[s._v("您有"),a("code",[s._v("barbican.conf")]),s._v("文件和 barbican 数据库 的现有备份")])]),s._v(" "),a("p",[s._v("恢复数据库")]),s._v(" "),a("p",[s._v("登录到"),a("code",[s._v("controller-0")]),s._v("节点并检查您"),a("code",[s._v("barbican")]),s._v("在控制器上是否拥有授予"),a("code",[s._v("barbican")]),s._v("用户访问权限以恢复数据库的数据库：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -u barbican -p000000")]),s._v("\nWelcome to the MariaDB monitor.  Commands end with "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("g.\nYour MariaDB connection "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("157")]),s._v("\nServer version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.3")]),s._v(".20-MariaDB MariaDB Server\n\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(", Oracle, MariaDB Corporation Ab and others.\n\nType "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\c'")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\n\nMariaDB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" show databases"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+--------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Database           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+--------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" barbican           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" information_schema "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+--------------------+\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" rows "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.001")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nMariaDB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" \nBye\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("将备份文件恢复到"),a("code",[s._v("barbican")]),s._v("数据库：")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("p",[s._v("在 openstack，验证测试密码是否已成功恢复，barbican的配置文件使用之前的。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -ubarbican -p000000 barbican < barbican_db_backup.sql ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@controller ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# openstack secret list")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret href                                                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Name       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Created                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Content types                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Algorithm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Bit length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Secret "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Expiration "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/ce451534-ef88-4661-9dfc-2de50a101a16 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" testSecret "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:59:11+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/plain'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" opaque      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cbc  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://controller:9311/v1/secrets/2e0ec17a-b499-4469-a3c9-dbb6ab06f981 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" swift_key  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-11T18:58:43+00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ACTIVE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" u"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/octet-stream'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aes       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" symmetric   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ctr  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" None       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+------------------------------------------------------------------------+------------+---------------------------+--------+-------------------------------------------+-----------+------------+-------------+------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);