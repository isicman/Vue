<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/Vue/img/avatar.png">
    <meta name="description" content="æš‚ä¸”ä¸ºç©º">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/Vue/assets/css/0.styles.0779c551.css" as="style"><link rel="preload" href="/Vue/assets/js/app.2f1a3b6e.js" as="script"><link rel="preload" href="/Vue/assets/js/2.3b495877.js" as="script"><link rel="preload" href="/Vue/assets/js/3.0279f92a.js" as="script"><link rel="preload" href="/Vue/assets/js/146.86e27014.js" as="script"><link rel="preload" href="/Vue/assets/js/4.cb69b0f7.js" as="script"><link rel="prefetch" href="/Vue/assets/js/10.c275bb5d.js"><link rel="prefetch" href="/Vue/assets/js/100.3bb1b0e4.js"><link rel="prefetch" href="/Vue/assets/js/101.a01d59f4.js"><link rel="prefetch" href="/Vue/assets/js/102.f419e012.js"><link rel="prefetch" href="/Vue/assets/js/103.bd5f9634.js"><link rel="prefetch" href="/Vue/assets/js/104.ed16bff2.js"><link rel="prefetch" href="/Vue/assets/js/105.8d8a884a.js"><link rel="prefetch" href="/Vue/assets/js/106.aa743e85.js"><link rel="prefetch" href="/Vue/assets/js/107.cf714f94.js"><link rel="prefetch" href="/Vue/assets/js/108.e6ec757c.js"><link rel="prefetch" href="/Vue/assets/js/109.24cd0706.js"><link rel="prefetch" href="/Vue/assets/js/11.af7952aa.js"><link rel="prefetch" href="/Vue/assets/js/110.b601f694.js"><link rel="prefetch" href="/Vue/assets/js/111.bddaa63e.js"><link rel="prefetch" href="/Vue/assets/js/112.9737407e.js"><link rel="prefetch" href="/Vue/assets/js/113.182a72b9.js"><link rel="prefetch" href="/Vue/assets/js/114.88e3528a.js"><link rel="prefetch" href="/Vue/assets/js/115.e6fb1e07.js"><link rel="prefetch" href="/Vue/assets/js/116.05edf9a6.js"><link rel="prefetch" href="/Vue/assets/js/117.3488639c.js"><link rel="prefetch" href="/Vue/assets/js/118.cb030e7c.js"><link rel="prefetch" href="/Vue/assets/js/119.36ed2122.js"><link rel="prefetch" href="/Vue/assets/js/12.a3654490.js"><link rel="prefetch" href="/Vue/assets/js/120.78f37852.js"><link rel="prefetch" href="/Vue/assets/js/121.33f9f917.js"><link rel="prefetch" href="/Vue/assets/js/122.db28c031.js"><link rel="prefetch" href="/Vue/assets/js/123.fae41aaa.js"><link rel="prefetch" href="/Vue/assets/js/124.6014ee0f.js"><link rel="prefetch" href="/Vue/assets/js/125.048d7ee9.js"><link rel="prefetch" href="/Vue/assets/js/126.79671cb1.js"><link rel="prefetch" href="/Vue/assets/js/127.b607fed5.js"><link rel="prefetch" href="/Vue/assets/js/128.6a5a1980.js"><link rel="prefetch" href="/Vue/assets/js/129.6bc2af6c.js"><link rel="prefetch" href="/Vue/assets/js/13.91a93260.js"><link rel="prefetch" href="/Vue/assets/js/130.31dc0318.js"><link rel="prefetch" href="/Vue/assets/js/131.1f4ef5a2.js"><link rel="prefetch" href="/Vue/assets/js/132.aad55f7b.js"><link rel="prefetch" href="/Vue/assets/js/133.850511a4.js"><link rel="prefetch" href="/Vue/assets/js/134.0f6b070c.js"><link rel="prefetch" href="/Vue/assets/js/135.ee7fea35.js"><link rel="prefetch" href="/Vue/assets/js/136.a46039e3.js"><link rel="prefetch" href="/Vue/assets/js/137.1c7ebf24.js"><link rel="prefetch" href="/Vue/assets/js/138.6a80ffa9.js"><link rel="prefetch" href="/Vue/assets/js/139.f958f7b4.js"><link rel="prefetch" href="/Vue/assets/js/14.58c9ae82.js"><link rel="prefetch" href="/Vue/assets/js/140.d1e73936.js"><link rel="prefetch" href="/Vue/assets/js/141.a9897e5f.js"><link rel="prefetch" href="/Vue/assets/js/142.2b20335e.js"><link rel="prefetch" href="/Vue/assets/js/143.4e6e434c.js"><link rel="prefetch" href="/Vue/assets/js/144.5910990e.js"><link rel="prefetch" href="/Vue/assets/js/145.5c556359.js"><link rel="prefetch" href="/Vue/assets/js/147.6c4a48cf.js"><link rel="prefetch" href="/Vue/assets/js/148.86e97474.js"><link rel="prefetch" href="/Vue/assets/js/149.c2f69712.js"><link rel="prefetch" href="/Vue/assets/js/15.2ff73105.js"><link rel="prefetch" href="/Vue/assets/js/150.33cf046e.js"><link rel="prefetch" href="/Vue/assets/js/151.5e66e299.js"><link rel="prefetch" href="/Vue/assets/js/152.e56f28bb.js"><link rel="prefetch" href="/Vue/assets/js/153.ad838120.js"><link rel="prefetch" href="/Vue/assets/js/154.9cabe557.js"><link rel="prefetch" href="/Vue/assets/js/155.7fc9c59f.js"><link rel="prefetch" href="/Vue/assets/js/156.99beb2dc.js"><link rel="prefetch" href="/Vue/assets/js/157.2f6f138c.js"><link rel="prefetch" href="/Vue/assets/js/158.c2ebfe13.js"><link rel="prefetch" href="/Vue/assets/js/159.ecad0f76.js"><link rel="prefetch" href="/Vue/assets/js/16.afec3afd.js"><link rel="prefetch" href="/Vue/assets/js/160.a0c44de2.js"><link rel="prefetch" href="/Vue/assets/js/161.a02953aa.js"><link rel="prefetch" href="/Vue/assets/js/162.da6c21cd.js"><link rel="prefetch" href="/Vue/assets/js/163.ccd82bba.js"><link rel="prefetch" href="/Vue/assets/js/164.a5b2d27c.js"><link rel="prefetch" href="/Vue/assets/js/165.6306c9da.js"><link rel="prefetch" href="/Vue/assets/js/166.d30a40d2.js"><link rel="prefetch" href="/Vue/assets/js/167.576fbdd9.js"><link rel="prefetch" href="/Vue/assets/js/168.5132f3f2.js"><link rel="prefetch" href="/Vue/assets/js/169.4f7b6bda.js"><link rel="prefetch" href="/Vue/assets/js/17.cb0083c7.js"><link rel="prefetch" href="/Vue/assets/js/170.73f50e6b.js"><link rel="prefetch" href="/Vue/assets/js/171.0691ff72.js"><link rel="prefetch" href="/Vue/assets/js/172.5b3bffba.js"><link rel="prefetch" href="/Vue/assets/js/173.a821c842.js"><link rel="prefetch" href="/Vue/assets/js/174.c7954299.js"><link rel="prefetch" href="/Vue/assets/js/175.431864a2.js"><link rel="prefetch" href="/Vue/assets/js/176.d22b5dfb.js"><link rel="prefetch" href="/Vue/assets/js/177.b278b962.js"><link rel="prefetch" href="/Vue/assets/js/178.07cf1514.js"><link rel="prefetch" href="/Vue/assets/js/179.c3273c2d.js"><link rel="prefetch" href="/Vue/assets/js/18.a09885e4.js"><link rel="prefetch" href="/Vue/assets/js/180.77ca26cf.js"><link rel="prefetch" href="/Vue/assets/js/181.788e42a1.js"><link rel="prefetch" href="/Vue/assets/js/182.8e7519e7.js"><link rel="prefetch" href="/Vue/assets/js/183.e54e78ae.js"><link rel="prefetch" href="/Vue/assets/js/184.22debe4b.js"><link rel="prefetch" href="/Vue/assets/js/185.e76ccf85.js"><link rel="prefetch" href="/Vue/assets/js/186.df4cb6e8.js"><link rel="prefetch" href="/Vue/assets/js/187.41fb453e.js"><link rel="prefetch" href="/Vue/assets/js/188.5bca0a92.js"><link rel="prefetch" href="/Vue/assets/js/189.3133bb55.js"><link rel="prefetch" href="/Vue/assets/js/19.13e3db6d.js"><link rel="prefetch" href="/Vue/assets/js/190.0b203720.js"><link rel="prefetch" href="/Vue/assets/js/191.ae34cdeb.js"><link rel="prefetch" href="/Vue/assets/js/192.c6b8de66.js"><link rel="prefetch" href="/Vue/assets/js/193.5350de54.js"><link rel="prefetch" href="/Vue/assets/js/194.9dc316f3.js"><link rel="prefetch" href="/Vue/assets/js/195.371cebb0.js"><link rel="prefetch" href="/Vue/assets/js/196.1164784c.js"><link rel="prefetch" href="/Vue/assets/js/197.824319f1.js"><link rel="prefetch" href="/Vue/assets/js/198.60a7beb3.js"><link rel="prefetch" href="/Vue/assets/js/199.5bcefde2.js"><link rel="prefetch" href="/Vue/assets/js/20.73bf2d20.js"><link rel="prefetch" href="/Vue/assets/js/200.b47e15ba.js"><link rel="prefetch" href="/Vue/assets/js/201.956ec86b.js"><link rel="prefetch" href="/Vue/assets/js/202.8a272715.js"><link rel="prefetch" href="/Vue/assets/js/203.0f429f03.js"><link rel="prefetch" href="/Vue/assets/js/204.278ee080.js"><link rel="prefetch" href="/Vue/assets/js/205.83c0fe12.js"><link rel="prefetch" href="/Vue/assets/js/206.ffdc349c.js"><link rel="prefetch" href="/Vue/assets/js/207.f165bca5.js"><link rel="prefetch" href="/Vue/assets/js/208.6991b2ef.js"><link rel="prefetch" href="/Vue/assets/js/209.c0418849.js"><link rel="prefetch" href="/Vue/assets/js/21.0a96b638.js"><link rel="prefetch" href="/Vue/assets/js/210.4257550c.js"><link rel="prefetch" href="/Vue/assets/js/211.097d1f31.js"><link rel="prefetch" href="/Vue/assets/js/212.ea96e672.js"><link rel="prefetch" href="/Vue/assets/js/213.2b921d6b.js"><link rel="prefetch" href="/Vue/assets/js/214.226476f0.js"><link rel="prefetch" href="/Vue/assets/js/215.3a320e63.js"><link rel="prefetch" href="/Vue/assets/js/216.1388e227.js"><link rel="prefetch" href="/Vue/assets/js/217.050bf527.js"><link rel="prefetch" href="/Vue/assets/js/218.95ee0100.js"><link rel="prefetch" href="/Vue/assets/js/219.acef3d57.js"><link rel="prefetch" href="/Vue/assets/js/22.97c5162c.js"><link rel="prefetch" href="/Vue/assets/js/220.1b2dda0a.js"><link rel="prefetch" href="/Vue/assets/js/221.4505e1c5.js"><link rel="prefetch" href="/Vue/assets/js/222.340ecf8b.js"><link rel="prefetch" href="/Vue/assets/js/223.2acba7c0.js"><link rel="prefetch" href="/Vue/assets/js/224.563b0345.js"><link rel="prefetch" href="/Vue/assets/js/225.f573a8b0.js"><link rel="prefetch" href="/Vue/assets/js/226.bd1a73fe.js"><link rel="prefetch" href="/Vue/assets/js/227.23a589e3.js"><link rel="prefetch" href="/Vue/assets/js/228.6f344c78.js"><link rel="prefetch" href="/Vue/assets/js/229.0c1a78af.js"><link rel="prefetch" href="/Vue/assets/js/23.e42d5b5a.js"><link rel="prefetch" href="/Vue/assets/js/230.e412a305.js"><link rel="prefetch" href="/Vue/assets/js/231.108982c3.js"><link rel="prefetch" href="/Vue/assets/js/232.07986abe.js"><link rel="prefetch" href="/Vue/assets/js/233.61b390cc.js"><link rel="prefetch" href="/Vue/assets/js/234.e1e030d7.js"><link rel="prefetch" href="/Vue/assets/js/235.be0057c0.js"><link rel="prefetch" href="/Vue/assets/js/236.e2722a7c.js"><link rel="prefetch" href="/Vue/assets/js/237.18291d84.js"><link rel="prefetch" href="/Vue/assets/js/238.ec2188b5.js"><link rel="prefetch" href="/Vue/assets/js/239.1629749f.js"><link rel="prefetch" href="/Vue/assets/js/24.7a7fd1e0.js"><link rel="prefetch" href="/Vue/assets/js/240.f1cf9e57.js"><link rel="prefetch" href="/Vue/assets/js/241.55e170d7.js"><link rel="prefetch" href="/Vue/assets/js/242.b7b6b401.js"><link rel="prefetch" href="/Vue/assets/js/243.bb7906d0.js"><link rel="prefetch" href="/Vue/assets/js/244.5ed9a466.js"><link rel="prefetch" href="/Vue/assets/js/245.464ebcaa.js"><link rel="prefetch" href="/Vue/assets/js/246.b49672d3.js"><link rel="prefetch" href="/Vue/assets/js/247.9a55ab30.js"><link rel="prefetch" href="/Vue/assets/js/248.815ea9fd.js"><link rel="prefetch" href="/Vue/assets/js/249.e8dfafa3.js"><link rel="prefetch" href="/Vue/assets/js/25.f17c8641.js"><link rel="prefetch" href="/Vue/assets/js/250.9762a60e.js"><link rel="prefetch" href="/Vue/assets/js/251.92a204a2.js"><link rel="prefetch" href="/Vue/assets/js/252.ec8bcce5.js"><link rel="prefetch" href="/Vue/assets/js/253.180604ac.js"><link rel="prefetch" href="/Vue/assets/js/254.73c69216.js"><link rel="prefetch" href="/Vue/assets/js/255.ee3e1d58.js"><link rel="prefetch" href="/Vue/assets/js/256.8f2376e7.js"><link rel="prefetch" href="/Vue/assets/js/257.6b40ed57.js"><link rel="prefetch" href="/Vue/assets/js/258.cbda5405.js"><link rel="prefetch" href="/Vue/assets/js/259.4afaab82.js"><link rel="prefetch" href="/Vue/assets/js/26.d01eec21.js"><link rel="prefetch" href="/Vue/assets/js/260.223291dd.js"><link rel="prefetch" href="/Vue/assets/js/261.66b7cee0.js"><link rel="prefetch" href="/Vue/assets/js/262.7646537d.js"><link rel="prefetch" href="/Vue/assets/js/263.2102a21b.js"><link rel="prefetch" href="/Vue/assets/js/264.01f69d37.js"><link rel="prefetch" href="/Vue/assets/js/265.3ac8cba8.js"><link rel="prefetch" href="/Vue/assets/js/266.a6a4a04d.js"><link rel="prefetch" href="/Vue/assets/js/267.be57cedf.js"><link rel="prefetch" href="/Vue/assets/js/268.27ea675e.js"><link rel="prefetch" href="/Vue/assets/js/269.8fa76d0c.js"><link rel="prefetch" href="/Vue/assets/js/27.82945f33.js"><link rel="prefetch" href="/Vue/assets/js/270.2c92fb60.js"><link rel="prefetch" href="/Vue/assets/js/271.905fd143.js"><link rel="prefetch" href="/Vue/assets/js/272.eebdf848.js"><link rel="prefetch" href="/Vue/assets/js/273.f02e16f4.js"><link rel="prefetch" href="/Vue/assets/js/274.1bb4b532.js"><link rel="prefetch" href="/Vue/assets/js/275.dd5ea9d3.js"><link rel="prefetch" href="/Vue/assets/js/276.74d6f8ab.js"><link rel="prefetch" href="/Vue/assets/js/277.b5b213b1.js"><link rel="prefetch" href="/Vue/assets/js/278.5e706d6b.js"><link rel="prefetch" href="/Vue/assets/js/279.1489f169.js"><link rel="prefetch" href="/Vue/assets/js/28.4c76df2a.js"><link rel="prefetch" href="/Vue/assets/js/280.19a374ee.js"><link rel="prefetch" href="/Vue/assets/js/281.d65b3987.js"><link rel="prefetch" href="/Vue/assets/js/282.5a6e3624.js"><link rel="prefetch" href="/Vue/assets/js/283.e7c54b99.js"><link rel="prefetch" href="/Vue/assets/js/284.5d480289.js"><link rel="prefetch" href="/Vue/assets/js/285.44c27c32.js"><link rel="prefetch" href="/Vue/assets/js/286.1b8d0289.js"><link rel="prefetch" href="/Vue/assets/js/287.96b027f9.js"><link rel="prefetch" href="/Vue/assets/js/288.130579e7.js"><link rel="prefetch" href="/Vue/assets/js/289.f4187c09.js"><link rel="prefetch" href="/Vue/assets/js/29.6e068a06.js"><link rel="prefetch" href="/Vue/assets/js/290.4c49c46b.js"><link rel="prefetch" href="/Vue/assets/js/291.193647db.js"><link rel="prefetch" href="/Vue/assets/js/292.7268e373.js"><link rel="prefetch" href="/Vue/assets/js/293.bcfefa9e.js"><link rel="prefetch" href="/Vue/assets/js/294.54f6a432.js"><link rel="prefetch" href="/Vue/assets/js/295.5020e3e7.js"><link rel="prefetch" href="/Vue/assets/js/296.d7f32e58.js"><link rel="prefetch" href="/Vue/assets/js/297.5dbbaabe.js"><link rel="prefetch" href="/Vue/assets/js/298.e6bf1a42.js"><link rel="prefetch" href="/Vue/assets/js/299.a18d8ba7.js"><link rel="prefetch" href="/Vue/assets/js/30.b168baee.js"><link rel="prefetch" href="/Vue/assets/js/300.ba217ef5.js"><link rel="prefetch" href="/Vue/assets/js/301.f96a76f5.js"><link rel="prefetch" href="/Vue/assets/js/302.37e0b19e.js"><link rel="prefetch" href="/Vue/assets/js/303.031b4c8e.js"><link rel="prefetch" href="/Vue/assets/js/304.d96cbd8b.js"><link rel="prefetch" href="/Vue/assets/js/305.0dcf6344.js"><link rel="prefetch" href="/Vue/assets/js/306.4f2540d0.js"><link rel="prefetch" href="/Vue/assets/js/31.dad269c9.js"><link rel="prefetch" href="/Vue/assets/js/32.63b50b54.js"><link rel="prefetch" href="/Vue/assets/js/33.04949d86.js"><link rel="prefetch" href="/Vue/assets/js/34.56a89946.js"><link rel="prefetch" href="/Vue/assets/js/35.3390f24b.js"><link rel="prefetch" href="/Vue/assets/js/36.14595b6f.js"><link rel="prefetch" href="/Vue/assets/js/37.8fcd4835.js"><link rel="prefetch" href="/Vue/assets/js/38.1825c8e2.js"><link rel="prefetch" href="/Vue/assets/js/39.b4ada2b6.js"><link rel="prefetch" href="/Vue/assets/js/40.c296d94a.js"><link rel="prefetch" href="/Vue/assets/js/41.283d95eb.js"><link rel="prefetch" href="/Vue/assets/js/42.0c1e2947.js"><link rel="prefetch" href="/Vue/assets/js/43.c6d0bcee.js"><link rel="prefetch" href="/Vue/assets/js/44.3287d646.js"><link rel="prefetch" href="/Vue/assets/js/45.1953ece5.js"><link rel="prefetch" href="/Vue/assets/js/46.a3b47dce.js"><link rel="prefetch" href="/Vue/assets/js/47.cf352360.js"><link rel="prefetch" href="/Vue/assets/js/48.d0f63d8e.js"><link rel="prefetch" href="/Vue/assets/js/49.4badb8d1.js"><link rel="prefetch" href="/Vue/assets/js/5.cacfa1e9.js"><link rel="prefetch" href="/Vue/assets/js/50.746e8eac.js"><link rel="prefetch" href="/Vue/assets/js/51.d56d5dbd.js"><link rel="prefetch" href="/Vue/assets/js/52.904cb343.js"><link rel="prefetch" href="/Vue/assets/js/53.e38427ab.js"><link rel="prefetch" href="/Vue/assets/js/54.b6de4473.js"><link rel="prefetch" href="/Vue/assets/js/55.f44277d0.js"><link rel="prefetch" href="/Vue/assets/js/56.9e836496.js"><link rel="prefetch" href="/Vue/assets/js/57.a7060cfa.js"><link rel="prefetch" href="/Vue/assets/js/58.5456c39a.js"><link rel="prefetch" href="/Vue/assets/js/59.3a2b2cea.js"><link rel="prefetch" href="/Vue/assets/js/6.f3d12b31.js"><link rel="prefetch" href="/Vue/assets/js/60.eb928d20.js"><link rel="prefetch" href="/Vue/assets/js/61.c1088d2f.js"><link rel="prefetch" href="/Vue/assets/js/62.218b1f1d.js"><link rel="prefetch" href="/Vue/assets/js/63.56adb0a3.js"><link rel="prefetch" href="/Vue/assets/js/64.842a8d1d.js"><link rel="prefetch" href="/Vue/assets/js/65.98d7a270.js"><link rel="prefetch" href="/Vue/assets/js/66.790ad0f2.js"><link rel="prefetch" href="/Vue/assets/js/67.f6effd5a.js"><link rel="prefetch" href="/Vue/assets/js/68.ca8c791c.js"><link rel="prefetch" href="/Vue/assets/js/69.da7fff1e.js"><link rel="prefetch" href="/Vue/assets/js/7.3e38d37d.js"><link rel="prefetch" href="/Vue/assets/js/70.26a7c3b0.js"><link rel="prefetch" href="/Vue/assets/js/71.1dd70f74.js"><link rel="prefetch" href="/Vue/assets/js/72.39679f64.js"><link rel="prefetch" href="/Vue/assets/js/73.40083b3a.js"><link rel="prefetch" href="/Vue/assets/js/74.b1ae5f8c.js"><link rel="prefetch" href="/Vue/assets/js/75.b45e9fa4.js"><link rel="prefetch" href="/Vue/assets/js/76.481e860c.js"><link rel="prefetch" href="/Vue/assets/js/77.526130d4.js"><link rel="prefetch" href="/Vue/assets/js/78.37c9e1a0.js"><link rel="prefetch" href="/Vue/assets/js/79.7d94e648.js"><link rel="prefetch" href="/Vue/assets/js/8.d3983478.js"><link rel="prefetch" href="/Vue/assets/js/80.785428df.js"><link rel="prefetch" href="/Vue/assets/js/81.107f320e.js"><link rel="prefetch" href="/Vue/assets/js/82.7520706d.js"><link rel="prefetch" href="/Vue/assets/js/83.e41657b3.js"><link rel="prefetch" href="/Vue/assets/js/84.140eb152.js"><link rel="prefetch" href="/Vue/assets/js/85.e8ca4166.js"><link rel="prefetch" href="/Vue/assets/js/86.cb2900cf.js"><link rel="prefetch" href="/Vue/assets/js/87.ff517a5f.js"><link rel="prefetch" href="/Vue/assets/js/88.adce3afb.js"><link rel="prefetch" href="/Vue/assets/js/89.bd97fe2f.js"><link rel="prefetch" href="/Vue/assets/js/9.06b0b5b8.js"><link rel="prefetch" href="/Vue/assets/js/90.19e9e85c.js"><link rel="prefetch" href="/Vue/assets/js/91.4331efbd.js"><link rel="prefetch" href="/Vue/assets/js/92.5001ecee.js"><link rel="prefetch" href="/Vue/assets/js/93.15ec5fef.js"><link rel="prefetch" href="/Vue/assets/js/94.f8c699ca.js"><link rel="prefetch" href="/Vue/assets/js/95.ff89b1f4.js"><link rel="prefetch" href="/Vue/assets/js/96.9b0780fa.js"><link rel="prefetch" href="/Vue/assets/js/97.e2092ef8.js"><link rel="prefetch" href="/Vue/assets/js/98.9e9ca302.js"><link rel="prefetch" href="/Vue/assets/js/99.badd2c8a.js">
    <link rel="stylesheet" href="/Vue/assets/css/0.styles.0779c551.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Vue/" class="home-link router-link-active"><img src="/Vue/img/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Vue/" class="nav-link">ğŸ±é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ³å®¹å™¨" class="dropdown-title"><a href="/Vue/note/Kubernetes/" class="link-title">ğŸ³å®¹å™¨</a> <span class="title" style="display:none;">ğŸ³å®¹å™¨</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å®¹å™¨æ–‡ç« </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/pages/b23923/" class="nav-link">Containerd</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/note/Docker/" class="nav-link">ğŸ“’Dockerå®¹å™¨</a></li><li class="dropdown-subitem"><a href="/Vue/note/Containerd/" class="nav-link">ğŸ“’Containerdå®¹å™¨</a></li><li class="dropdown-subitem"><a href="/Vue/note/Kubernetes/" class="nav-link">ğŸ“’Kubernetes</a></li><li class="dropdown-subitem"><a href="/Vue/note/git/" class="nav-link">ğŸ“’Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ“’äº‘åŸç”Ÿ" class="dropdown-title"><a href="/Vue/devops/" class="link-title">ğŸ“’äº‘åŸç”Ÿ</a> <span class="title" style="display:none;">ğŸ“’äº‘åŸç”Ÿ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/CICD/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Operator/" class="nav-link">Operator</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸŒæŠ€æœ¯" class="dropdown-title"><a href="/Vue/note/Traing/" class="link-title">ğŸŒæŠ€æœ¯</a> <span class="title" style="display:none;">ğŸŒæŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/Traing/" class="nav-link">æŠ€èƒ½å¤§èµ›</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/4c778760be26d8b3/" class="nav-link">GitHubæŠ€å·§</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ–ï¸è€ƒè¯" class="dropdown-title"><a href="/Vue/note/kaozhen/" class="link-title">ğŸ–ï¸è€ƒè¯</a> <span class="title" style="display:none;">ğŸ–ï¸è€ƒè¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">1+Xäº‘è®¡ç®—é«˜çº§</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">CKA</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Kubernetes/" class="nav-link">CKS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ‰æ›´å¤š" class="dropdown-title"><a href="/Vue/more/" class="link-title">ğŸ‰æ›´å¤š</a> <span class="title" style="display:none;">ğŸ‰æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/f2a556/" class="nav-link">å­¦ä¹ </a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/aea6571b7a8bae86/" class="nav-link">é¢è¯•</a></li></ul></div></div><div class="nav-item"><a href="/Vue/about/" class="nav-link">ğŸ”å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—¿æ”¶è—" class="dropdown-title"><a href="/Vue/pages/beb6c0bd8a66cea6/" class="link-title">ğŸ—¿æ”¶è—</a> <span class="title" style="display:none;">ğŸ—¿æ”¶è—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/beb6c0bd8a66cea6/" class="nav-link">ç½‘ç«™</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/Vue/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/Vue/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/Vue/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/isicman/Vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/Vue/" class="nav-link">ğŸ±é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ³å®¹å™¨" class="dropdown-title"><a href="/Vue/note/Kubernetes/" class="link-title">ğŸ³å®¹å™¨</a> <span class="title" style="display:none;">ğŸ³å®¹å™¨</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å®¹å™¨æ–‡ç« </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/pages/b23923/" class="nav-link">Containerd</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/note/Docker/" class="nav-link">ğŸ“’Dockerå®¹å™¨</a></li><li class="dropdown-subitem"><a href="/Vue/note/Containerd/" class="nav-link">ğŸ“’Containerdå®¹å™¨</a></li><li class="dropdown-subitem"><a href="/Vue/note/Kubernetes/" class="nav-link">ğŸ“’Kubernetes</a></li><li class="dropdown-subitem"><a href="/Vue/note/git/" class="nav-link">ğŸ“’Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ“’äº‘åŸç”Ÿ" class="dropdown-title"><a href="/Vue/devops/" class="link-title">ğŸ“’äº‘åŸç”Ÿ</a> <span class="title" style="display:none;">ğŸ“’äº‘åŸç”Ÿ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/CICD/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Operator/" class="nav-link">Operator</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸŒæŠ€æœ¯" class="dropdown-title"><a href="/Vue/note/Traing/" class="link-title">ğŸŒæŠ€æœ¯</a> <span class="title" style="display:none;">ğŸŒæŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/Traing/" class="nav-link">æŠ€èƒ½å¤§èµ›</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/4c778760be26d8b3/" class="nav-link">GitHubæŠ€å·§</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ–ï¸è€ƒè¯" class="dropdown-title"><a href="/Vue/note/kaozhen/" class="link-title">ğŸ–ï¸è€ƒè¯</a> <span class="title" style="display:none;">ğŸ–ï¸è€ƒè¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">1+Xäº‘è®¡ç®—é«˜çº§</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">CKA</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Kubernetes/" class="nav-link">CKS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ‰æ›´å¤š" class="dropdown-title"><a href="/Vue/more/" class="link-title">ğŸ‰æ›´å¤š</a> <span class="title" style="display:none;">ğŸ‰æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/f2a556/" class="nav-link">å­¦ä¹ </a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/aea6571b7a8bae86/" class="nav-link">é¢è¯•</a></li></ul></div></div><div class="nav-item"><a href="/Vue/about/" class="nav-link">ğŸ”å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—¿æ”¶è—" class="dropdown-title"><a href="/Vue/pages/beb6c0bd8a66cea6/" class="link-title">ğŸ—¿æ”¶è—</a> <span class="title" style="display:none;">ğŸ—¿æ”¶è—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/beb6c0bd8a66cea6/" class="nav-link">ç½‘ç«™</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/Vue/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/Vue/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/Vue/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/isicman/Vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å­¦ä¹ ç¬”è®°</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Vue/pages/46159d/" class="sidebar-link">åˆè¯†Kubernetes</a></li><li><a href="/Vue/pages/ff772d/" class="sidebar-link">kubeadmå®‰è£…kubernetes</a></li><li><a href="/Vue/pages/9f3db7/" class="sidebar-link">Centos7åŸºäºContainerdéƒ¨ç½²Kubernetes v1.23.5</a></li><li><a href="/Vue/pages/e46184/" class="sidebar-link">Kubernetesçš„åŸºç¡€æ“ä½œ</a></li><li><a href="/Vue/pages/3ce2fd/" class="sidebar-link">Kubernetesç›‘æ§ä¸æ—¥å¿—ç®¡ç†</a></li><li><a href="/Vue/pages/3738ba/" aria-current="page" class="active sidebar-link">Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" class="sidebar-link">åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨" class="sidebar-link">ä½¿ç”¨Deploymentéƒ¨ç½²Javaåº”ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜" class="sidebar-link">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶æ ¼å¼è¯´æ˜</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡" class="sidebar-link">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-2" class="sidebar-link">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#èµ„æºå­—æ®µå¤šçš„é—®é¢˜" class="sidebar-link">èµ„æºå­—æ®µå¤šçš„é—®é¢˜</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#pod" class="sidebar-link">Pod</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ" class="sidebar-link">Podå¯¹è±¡ï¼šåŸºæœ¬æ¦‚å¿µ</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#å¦‚ä½•ä½¿ç”¨-pod" class="sidebar-link">å¦‚ä½•ä½¿ç”¨ Pod</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨" class="sidebar-link">Pod æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#pod-ä½¿ç”¨" class="sidebar-link">Pod ä½¿ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#pod-æ¨¡ç‰ˆ" class="sidebar-link">Pod æ¨¡ç‰ˆ</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#pod-æ›´æ–°ä¸æ›¿æ¢" class="sidebar-link">Pod æ›´æ–°ä¸æ›¿æ¢</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#å®¹å™¨æ¢é’ˆ" class="sidebar-link">å®¹å™¨æ¢é’ˆ</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#pod-çš„ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link">Pod çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#pod-ç”Ÿå‘½æœŸ" class="sidebar-link">Pod ç”Ÿå‘½æœŸ</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#pod-é˜¶æ®µ" class="sidebar-link">Pod é˜¶æ®µ</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#å®¹å™¨çŠ¶æ€" class="sidebar-link">å®¹å™¨çŠ¶æ€</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#å®¹å™¨é‡å¯ç­–ç•¥" class="sidebar-link">å®¹å™¨é‡å¯ç­–ç•¥</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#pod-çŠ¶å†µ" class="sidebar-link">Pod çŠ¶å†µ</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#pod-å°±ç»ªæ€" class="sidebar-link">Pod å°±ç»ªæ€</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#å®¹å™¨æ¢é’ˆ-2" class="sidebar-link">å®¹å™¨æ¢é’ˆ</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ" class="sidebar-link">ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ?</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ" class="sidebar-link">ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ?</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/3738ba/#ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆ" class="sidebar-link">ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆï¼Ÿ</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#podå¯¹è±¡-ç®¡ç†å‘½ä»¤" class="sidebar-link">Podå¯¹è±¡ï¼šç®¡ç†å‘½ä»¤</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥" class="sidebar-link">Podå¯¹è±¡ï¼šé‡å¯ç­–ç•¥+å¥åº·æ£€æŸ¥</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#é‡å¯ç­–ç•¥" class="sidebar-link">é‡å¯ç­–ç•¥</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹" class="sidebar-link">å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•" class="sidebar-link">æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#podå¯¹è±¡-lnit-container" class="sidebar-link">Podå¯¹è±¡ï¼šlnit Container</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#podå¯¹è±¡-é™æ€pod" class="sidebar-link">Podå¯¹è±¡ï¼šé™æ€Pod</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#é™æ€podçš„ç‰¹ç‚¹" class="sidebar-link">é™æ€Podçš„ç‰¹ç‚¹ï¼š</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod" class="sidebar-link">åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€Podï¼š</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#deployment" class="sidebar-link">Deployment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹" class="sidebar-link">Deploymentï¼šåº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-éƒ¨ç½²åº”ç”¨" class="sidebar-link">Deploymentï¼šéƒ¨ç½²åº”ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-æ»šåŠ¨å‡çº§" class="sidebar-link">Deploymentï¼šæ»šåŠ¨å‡çº§</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-æ°´å¹³æ‰©ç¼©å®¹" class="sidebar-link">Deploymentï¼šæ°´å¹³æ‰©ç¼©å®¹</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-å›æ»š" class="sidebar-link">Deploymentï¼šå›æ»š</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-åˆ é™¤" class="sidebar-link">Deploymentï¼šåˆ é™¤</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶" class="sidebar-link">Deploymentï¼šæ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#replicationcontrollerå’Œreplicaset" class="sidebar-link">ReplicationControllerå’ŒReplicaSet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#replicationcontroller" class="sidebar-link">ReplicationController</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#replicationcontrollerçš„ä½¿ç”¨" class="sidebar-link">ReplicationControllerçš„ä½¿ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹" class="sidebar-link">ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#replicaset" class="sidebar-link">ReplicaSet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#replicasetæ§åˆ¶å™¨ç”¨é€”" class="sidebar-link">ReplicaSetæ§åˆ¶å™¨ç”¨é€”ï¼š</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#replicasetçš„ä½¿ç”¨" class="sidebar-link">ReplicaSetçš„ä½¿ç”¨</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#hpa" class="sidebar-link">HPA</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#hpaçš„ç®€è¦æ¦‚è¿°" class="sidebar-link">HPAçš„ç®€è¦æ¦‚è¿°</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#å®‰è£…metrics-server" class="sidebar-link">å®‰è£…Metrics Server</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#hpaçš„ä½¿ç”¨" class="sidebar-link">HPAçš„ä½¿ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½" class="sidebar-link">æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/3738ba/#job-å’Œ-cronjob" class="sidebar-link">Job å’Œ Cronjob</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#jobçš„ä½¿ç”¨" class="sidebar-link">Jobçš„ä½¿ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#cronjobçš„ä½¿ç”¨" class="sidebar-link">CronJobçš„ä½¿ç”¨</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/3738ba/#cron-æ—¶é—´è¡¨è¯­æ³•" class="sidebar-link">Cron æ—¶é—´è¡¨è¯­æ³•</a></li></ul></li></ul></li><li><a href="/Vue/pages/b5d485/" class="sidebar-link">Kubernetesè°ƒåº¦</a></li><li><a href="/Vue/pages/c7deaf/" class="sidebar-link">Kubernetesç½‘ç»œ</a></li><li><a href="/Vue/pages/ed6cb5/" class="sidebar-link">Kuberneteså­˜å‚¨</a></li><li><a href="/Vue/pages/de082c/" class="sidebar-link">Kuberneteså®‰å…¨</a></li><li><a href="/Vue/pages/256223/" class="sidebar-link">Kubernetesé›†ç¾¤ç»´æŠ¤</a></li><li><a href="/Vue/pages/24d932/" class="sidebar-link">Kubernetesæ•…éšœæ’æŸ¥</a></li><li><a href="/Vue/pages/d13a63/" class="sidebar-link">HelmåŒ…ç®¡ç†</a></li><li><a href="/Vue/pages/a2b2e9/" class="sidebar-link">Kubernetes é«˜çº§è¿ç»´</a></li><li><a href="/Vue/pages/79ca6c/" class="sidebar-link">NFSåšKubernetesçš„åç«¯å­˜å‚¨</a></li><li><a href="/Vue/pages/af5bae/" class="sidebar-link">GlusterFså¯¹æ¥K8S</a></li><li><a href="/Vue/pages/2e6a5b/" class="sidebar-link">Cephå¯¹æ¥K8Så­˜å‚¨ä½¿ç”¨RBD</a></li><li><a href="/Vue/pages/c741d8/" class="sidebar-link">Rookæ„å»ºCephäº‘åŸç”Ÿå­˜å‚¨</a></li><li><a href="/Vue/pages/a5e623/" class="sidebar-link">Kubectlå¤šé›†ç¾¤é…ç½®</a></li><li><a href="/Vue/pages/a19b63/" class="sidebar-link">ä¸ºç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹é¢„ç•™è®¡ç®—èµ„æº</a></li><li><a href="/Vue/pages/770b73/" class="sidebar-link">Kubernetesï¼ˆk8sï¼‰Helm v3 éƒ¨ç½² EFK æ—¥å¿—ç³»ç»Ÿ</a></li><li><a href="/Vue/pages/53253e/" class="sidebar-link">Kubernetes Python Client</a></li><li><a href="/Vue/pages/e7f866/" class="sidebar-link">Kubernetes kubectlå‘½ä»¤</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CKSè®¤è¯</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-5add8e0a><div class="articleInfo" data-v-5add8e0a><ul class="breadcrumbs" data-v-5add8e0a><li data-v-5add8e0a><a href="/Vue/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-5add8e0a></a></li> <li data-v-5add8e0a><a href="/Vue/note/Kubernetes/#ã€ŠKubernetesã€‹å­¦ä¹ ç¬”è®°" data-v-5add8e0a>ã€ŠKubernetesã€‹å­¦ä¹ ç¬”è®°</a></li><li data-v-5add8e0a><a href="/Vue/note/Kubernetes/#å­¦ä¹ ç¬”è®°" data-v-5add8e0a>å­¦ä¹ ç¬”è®°</a></li></ul> <div class="info" data-v-5add8e0a><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-5add8e0a><a href="https://github.com/2756864799zhang" target="_blank" title="ä½œè€…" class="beLink" data-v-5add8e0a>Vuens</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-5add8e0a><a href="javascript:;" data-v-5add8e0a>2022-01-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" class="header-anchor">#</a> Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</h1> <h2 id="åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" class="header-anchor">#</a> åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</h2> <p><strong>åœ¨Kubernetesä¸­éƒ¨ç½²åº”ç”¨æµç¨‹</strong></p> <p><strong>æœåŠ¡ç¼–æ’ï¼ˆYAMLï¼‰</strong></p> <p><strong>Deploymentå·¥ä½œè´Ÿè½½å‡è¡¡å™¨</strong></p> <ul><li>ä»‹ç»</li> <li>åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</li> <li>åº”ç”¨éƒ¨ç½²</li> <li>åº”ç”¨å‡çº§</li> <li>æ°´å¹³æ‰©ç¼©å®¹ å›æ»š</li> <li>æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</li></ul> <img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391a7.png" style="zoom:67%;"> <h3 id="ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨"><a href="#ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨" class="header-anchor">#</a> ä½¿ç”¨Deploymentéƒ¨ç½²Javaåº”ç”¨</h3> <p><strong>ä½¿ç”¨Deploymentæ§åˆ¶å™¨éƒ¨ç½²é•œåƒï¼š</strong></p> <p><strong>åˆ›å»ºä¸€ä¸ªDeploymentæ§åˆ¶å™¨ç„¶åé•œåƒä½¿ç”¨çš„æ—¶nginx:latest</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create deployment web --image=nginx:latest deployment.apps/web created</span>
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get deploy </span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGEweb    <span class="token number">0</span>/1     <span class="token number">1</span>            <span class="token number">0</span>           11s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>ä½¿ç”¨Serviceå°†Podæš´éœ²å‡ºå»ï¼š</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl expose deployment web --port=80 --target-port=80 --type=NodePort      service/web exposed</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>è®¿é—®åº”ç”¨ï¼š</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get service</span>
NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>        AGE
kubernetes   ClusterIP   <span class="token number">10.96</span>.0.1       <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP        11h
web          NodePort    <span class="token number">10.99</span>.251.101   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">80</span>:30746/TCP   3m15shttp://NodeIP:Port     
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜"><a href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜" class="header-anchor">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶æ ¼å¼è¯´æ˜</h3> <p><strong>åœ¨æ­¤ä¹‹å‰å­¦ä¹ ansibleçš„æ—¶å€™å°±æœ‰å­¦ä¹ è¿‡yamlæ–‡ä»¶æ ¼å¼</strong></p> <p>K8sæ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œä½¿ç”¨YAMLæ–‡ä»¶ç¼–æ’è¦éƒ¨ç½²åº”ç”¨ï¼Œå› æ­¤åœ¨å­¦ä¹ ä¹‹å‰ï¼Œåº”å…ˆäº†è§£YAMLè¯­æ³•æ ¼å¼ï¼š</p> <p>â€¢ ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</p> <p>â€¢ ä¸æ”¯æŒåˆ¶è¡¨ç¬¦â€œtabâ€ç¼©è¿›ï¼Œä½¿ç”¨ç©ºæ ¼ç¼©è¿›</p> <p>â€¢ é€šå¸¸å¼€å¤´ç¼©è¿› 2 ä¸ªç©ºæ ¼</p> <p>â€¢ å­—ç¬¦åç¼©è¿› 1 ä¸ªç©ºæ ¼ï¼Œå¦‚å†’å·ã€é€—å·ç­‰</p> <p>â€¢ â€œ---â€ è¡¨ç¤ºYAMLæ ¼å¼ï¼Œä¸€ä¸ªæ–‡ä»¶çš„å¼€å§‹</p> <p>â€¢ â€œ#â€æ³¨é‡Š</p> <h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡"><a href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡" class="header-anchor">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</h3> <img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391b3.png" style="zoom:67%;"> <h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-2"><a href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-2" class="header-anchor">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</h3> <img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391be.png" style="zoom:67%;"> <blockquote><p><strong>æœåŠ¡ç¼–æ’ï¼šèµ„æºå­—æ®µå¤ªå¤šï¼Œè®°ä¸ä½æ€ä¹ˆåŠ?</strong></p></blockquote> <p><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1b6.png" alt=""></p> <h3 id="èµ„æºå­—æ®µå¤šçš„é—®é¢˜"><a href="#èµ„æºå­—æ®µå¤šçš„é—®é¢˜" class="header-anchor">#</a> èµ„æºå­—æ®µå¤šçš„é—®é¢˜</h3> <ul><li>ç”¨createå‘½ä»¤ç”Ÿæˆ</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl create deployment nginx --image<span class="token operator">=</span>nginx:1.16 -o yaml --dry-run   <span class="token operator">&gt;</span> my-deploy.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>ç”¨getå‘½ä»¤å¯¼å‡º</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ kubectl get deployment nginx -o yaml &gt; my-deploy.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Podå®¹å™¨çš„å­—æ®µå¿˜è®°æ‹¼å†™äº†</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl explain pods.spec.containers
$ kubectl explain deployment
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="pod"><a href="#pod" class="header-anchor">#</a> Pod</h2> <h3 id="podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ"><a href="#podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ" class="header-anchor">#</a> Podå¯¹è±¡ï¼šåŸºæœ¬æ¦‚å¿µ</h3> <ul><li><strong><code>Pod æ˜¯å¯ä»¥åœ¨ Kubernetes ä¸­åˆ›å»ºå’Œç®¡ç†çš„ã€æœ€å°çš„å¯éƒ¨ç½²çš„è®¡ç®—å•å…ƒã€‚</code></strong></li> <li><em>Pod</em> ï¼ˆå°±åƒåœ¨é²¸é±¼èšæˆ–è€…è±Œè±†èšä¸­ï¼‰æ˜¯ä¸€ç»„ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ <a href="https://kubernetes.io/zh/docs/concepts/overview/what-is-kubernetes/#why-containers" target="_blank" rel="noopener noreferrer">å®¹å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼› è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œã€ä»¥åŠæ€æ ·è¿è¡Œè¿™äº›å®¹å™¨çš„å£°æ˜ã€‚ Pod ä¸­çš„å†…å®¹æ€»æ˜¯å¹¶ç½®ï¼ˆcolocatedï¼‰çš„å¹¶ä¸”ä¸€åŒè°ƒåº¦ï¼Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ Pod æ‰€å»ºæ¨¡çš„æ˜¯ç‰¹å®šäºåº”ç”¨çš„â€œé€»è¾‘ä¸»æœºâ€ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨å®¹å™¨ï¼Œ è¿™äº›å®¹å™¨æ˜¯ç›¸å¯¹ç´§å¯†çš„è€¦åˆåœ¨ä¸€èµ·çš„ã€‚ åœ¨éäº‘ç¯å¢ƒä¸­ï¼Œåœ¨ç›¸åŒçš„ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„åº”ç”¨ç±»ä¼¼äº åœ¨åŒä¸€é€»è¾‘ä¸»æœºä¸Šè¿è¡Œçš„äº‘åº”ç”¨ã€‚</li> <li>é™¤äº†åº”ç”¨å®¹å™¨ï¼ŒPod è¿˜å¯ä»¥åŒ…å«åœ¨ Pod å¯åŠ¨æœŸé—´è¿è¡Œçš„ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/init-containers/" target="_blank" rel="noopener noreferrer">Init å®¹å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨é›†ç¾¤ä¸­æ”¯æŒ<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/ephemeral-containers/" target="_blank" rel="noopener noreferrer">ä¸´æ—¶æ€§å®¹å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„æƒ…å†µä¸‹ï¼Œä¸ºè°ƒè¯•çš„ç›®çš„æ³¨å…¥ä¸´æ—¶æ€§å®¹å™¨ã€‚</li> <li><strong><code>èµ„æºå…±äº«å’Œé€šä¿¡ï¼š</code></strong>  Pod ä½¿å®ƒçš„æˆå‘˜å®¹å™¨é—´èƒ½å¤Ÿè¿›è¡Œæ•°æ®å…±äº«å’Œé€šä¿¡ã€‚</li> <li><strong><code>Podä¸­çš„å­˜å‚¨ï¼š</code></strong> ä¸€ä¸ª Pod å¯ä»¥è®¾ç½®ä¸€ç»„å…±äº«çš„å­˜å‚¨<a href="https://kubernetes.io/zh/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">å·<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥è®¿é—®è¯¥å…±äº«å·ï¼Œä»è€Œå…è®¸è¿™äº›å®¹å™¨å…±äº«æ•°æ®ã€‚ å·è¿˜å…è®¸ Pod ä¸­çš„æŒä¹…æ•°æ®ä¿ç•™ä¸‹æ¥ï¼Œå³ä½¿å…¶ä¸­çš„å®¹å™¨éœ€è¦é‡æ–°å¯åŠ¨ã€‚</li></ul> <h3 id="å¦‚ä½•ä½¿ç”¨-pod"><a href="#å¦‚ä½•ä½¿ç”¨-pod" class="header-anchor">#</a> å¦‚ä½•ä½¿ç”¨ Pod</h3> <p>é€šå¸¸ä½ ä¸éœ€è¦ç›´æ¥åˆ›å»º Podï¼Œç”šè‡³å•å®ä¾‹ Podã€‚ ç›¸åï¼Œä½ ä¼šä½¿ç”¨è¯¸å¦‚ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ– <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/job/" target="_blank" rel="noopener noreferrer">Job<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿™ç±»å·¥ä½œè´Ÿè½½èµ„æº æ¥åˆ›å»º Podã€‚å¦‚æœ Pod éœ€è¦è·Ÿè¸ªçŠ¶æ€ï¼Œ å¯ä»¥è€ƒè™‘ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/statefulset/" target="_blank" rel="noopener noreferrer">StatefulSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> èµ„æºã€‚</p> <p>ä½ å¾ˆå°‘åœ¨ Kubernetes ä¸­ç›´æ¥åˆ›å»ºä¸€ä¸ªä¸ªçš„ Podï¼Œç”šè‡³æ˜¯å•å®ä¾‹ï¼ˆSingletonï¼‰çš„ Podã€‚ è¿™æ˜¯å› ä¸º Pod è¢«è®¾è®¡æˆäº†ç›¸å¯¹ä¸´æ—¶æ€§çš„ã€ç”¨åå³æŠ›çš„ä¸€æ¬¡æ€§å®ä½“ã€‚ å½“ Pod ç”±ä½ æˆ–è€…é—´æ¥åœ°ç”± <a href="https://kubernetes.io/zh/docs/concepts/architecture/controller/" target="_blank" rel="noopener noreferrer">æ§åˆ¶å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åˆ›å»ºæ—¶ï¼Œå®ƒè¢«è°ƒåº¦åœ¨é›†ç¾¤ä¸­çš„<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸Šè¿è¡Œã€‚ Pod ä¼šä¿æŒåœ¨è¯¥èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œç›´åˆ° Pod ç»“æŸæ‰§è¡Œã€Pod å¯¹è±¡è¢«åˆ é™¤ã€Pod å› èµ„æºä¸è¶³è€Œè¢« <em>é©±é€</em> æˆ–è€…èŠ‚ç‚¹å¤±æ•ˆä¸ºæ­¢ã€‚</p> <p>Kubernetes é›†ç¾¤ä¸­çš„ Pod ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š</p> <ul><li><strong>è¿è¡Œå•ä¸ªå®¹å™¨çš„ Pod</strong>ã€‚&quot;æ¯ä¸ª Pod ä¸€ä¸ªå®¹å™¨&quot;æ¨¡å‹æ˜¯æœ€å¸¸è§çš„ Kubernetes ç”¨ä¾‹ï¼› åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°† Pod çœ‹ä½œå•ä¸ªå®¹å™¨çš„åŒ…è£…å™¨ï¼Œå¹¶ä¸” Kubernetes ç›´æ¥ç®¡ç† Podï¼Œè€Œä¸æ˜¯å®¹å™¨ã€‚</li> <li><strong>è¿è¡Œå¤šä¸ªååŒå·¥ä½œçš„å®¹å™¨çš„ Pod</strong>ã€‚ Pod å¯èƒ½å°è£…ç”±å¤šä¸ªç´§å¯†è€¦åˆä¸”éœ€è¦å…±äº«èµ„æºçš„å…±å¤„å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›ä½äºåŒä¸€ä½ç½®çš„å®¹å™¨å¯èƒ½å½¢æˆå•ä¸ªå†…èšçš„æœåŠ¡å•å…ƒ â€”â€” ä¸€ä¸ªå®¹å™¨å°†æ–‡ä»¶ä»å…±äº«å·æä¾›ç»™å…¬ä¼—ï¼Œ è€Œå¦ä¸€ä¸ªå•ç‹¬çš„â€œè¾¹è½¦â€ï¼ˆsidecarï¼‰å®¹å™¨åˆ™åˆ·æ–°æˆ–æ›´æ–°è¿™äº›æ–‡ä»¶ã€‚ Pod å°†è¿™äº›å®¹å™¨å’Œå­˜å‚¨èµ„æºæ‰“åŒ…ä¸ºä¸€ä¸ªå¯ç®¡ç†çš„å®ä½“ã€‚</li></ul> <h3 id="pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨"><a href="#pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨" class="header-anchor">#</a> Pod æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨</h3> <ul><li>Pod è¢«è®¾è®¡æˆæ”¯æŒå½¢æˆå†…èšæœåŠ¡å•å…ƒçš„å¤šä¸ªåä½œè¿‡ç¨‹ï¼ˆå½¢å¼ä¸ºå®¹å™¨ï¼‰ã€‚ Pod ä¸­çš„å®¹å™¨è¢«è‡ªåŠ¨å®‰æ’åˆ°é›†ç¾¤ä¸­çš„åŒä¸€ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šï¼Œå¹¶å¯ä»¥ä¸€èµ·è¿›è¡Œè°ƒåº¦ã€‚ å®¹å™¨ä¹‹é—´å¯ä»¥å…±äº«èµ„æºå’Œä¾èµ–ã€å½¼æ­¤é€šä¿¡ã€åè°ƒä½•æ—¶ä»¥åŠä½•ç§æ–¹å¼ç»ˆæ­¢è‡ªèº«ã€‚</li> <li>Pod å¤©ç”Ÿåœ°ä¸ºå…¶æˆå‘˜å®¹å™¨æä¾›äº†ä¸¤ç§å…±äº«èµ„æºï¼š<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/#pod-networking" target="_blank" rel="noopener noreferrer">ç½‘ç»œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å’Œ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/#pod-storage" target="_blank" rel="noopener noreferrer">å­˜å‚¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li></ul> <h3 id="pod-ä½¿ç”¨"><a href="#pod-ä½¿ç”¨" class="header-anchor">#</a> Pod ä½¿ç”¨</h3> <blockquote><p><strong>è¯´æ˜ï¼š</strong> é‡å¯ Pod ä¸­çš„å®¹å™¨ä¸åº”ä¸é‡å¯ Pod æ··æ·†ã€‚ Pod ä¸æ˜¯è¿›ç¨‹ï¼Œè€Œæ˜¯å®¹å™¨è¿è¡Œçš„ç¯å¢ƒã€‚ åœ¨è¢«åˆ é™¤ä¹‹å‰ï¼ŒPod ä¼šä¸€ç›´å­˜åœ¨ã€‚</p> <p><strong>Pod å’Œæ§åˆ¶å™¨</strong></p> <p><strong>ä½ å¯ä»¥ä½¿ç”¨å·¥ä½œè´Ÿè½½èµ„æºæ¥åˆ›å»ºå’Œç®¡ç†å¤šä¸ª Podã€‚ èµ„æºçš„æ§åˆ¶å™¨èƒ½å¤Ÿå¤„ç†å‰¯æœ¬çš„ç®¡ç†ã€ä¸Šçº¿ï¼Œå¹¶åœ¨ Pod å¤±æ•ˆæ—¶æä¾›è‡ªæ„ˆèƒ½åŠ›ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹å¤±è´¥ï¼Œæ§åˆ¶å™¨æ³¨æ„åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„ Pod å·²ç»åœæ­¢å·¥ä½œï¼Œ å°±å¯ä»¥åˆ›å»ºæ›¿æ¢æ€§çš„ Podã€‚è°ƒåº¦å™¨ä¼šå°†æ›¿èº« Pod è°ƒåº¦åˆ°ä¸€ä¸ªå¥åº·çš„èŠ‚ç‚¹æ‰§è¡Œã€‚</strong></p></blockquote> <h3 id="pod-æ¨¡ç‰ˆ"><a href="#pod-æ¨¡ç‰ˆ" class="header-anchor">#</a> Pod æ¨¡ç‰ˆ</h3> <ul><li><a href="https://kubernetes.io/zh/docs/concepts/workloads/" target="_blank" rel="noopener noreferrer">è´Ÿè½½<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>èµ„æºçš„æ§åˆ¶å™¨é€šå¸¸ä½¿ç”¨ <em>Pod æ¨¡æ¿ï¼ˆPod Templateï¼‰</em> æ¥æ›¿ä½ åˆ›å»º Pod å¹¶ç®¡ç†å®ƒä»¬ã€‚</li> <li>Pod æ¨¡æ¿æ˜¯åŒ…å«åœ¨å·¥ä½œè´Ÿè½½å¯¹è±¡ä¸­çš„è§„èŒƒï¼Œç”¨æ¥åˆ›å»º Podã€‚è¿™ç±»è´Ÿè½½èµ„æºåŒ…æ‹¬ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/job/" target="_blank" rel="noopener noreferrer">Job<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/daemonset/" target="_blank" rel="noopener noreferrer">DaemonSets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ç­‰ã€‚</li> <li>å·¥ä½œè´Ÿè½½çš„æ§åˆ¶å™¨ä¼šä½¿ç”¨è´Ÿè½½å¯¹è±¡ä¸­çš„ <code>PodTemplate</code> æ¥ç”Ÿæˆå®é™…çš„ Podã€‚ <code>PodTemplate</code> æ˜¯ä½ ç”¨æ¥è¿è¡Œåº”ç”¨æ—¶æŒ‡å®šçš„è´Ÿè½½èµ„æºçš„ç›®æ ‡çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚</li></ul> <p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯ä¸€ä¸ªç®€å•çš„ Job çš„æ¸…å•ï¼Œå…¶ä¸­çš„ <code>template</code> æŒ‡ç¤ºå¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€‚ è¯¥ Pod ä¸­çš„å®¹å™¨ä¼šæ‰“å°ä¸€æ¡æ¶ˆæ¯ä¹‹åæš‚åœã€‚</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Job
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hello
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token comment"># è¿™é‡Œæ˜¯ Pod æ¨¡ç‰ˆ</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> hello
        <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
        <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'sh'</span><span class="token punctuation">,</span> <span class="token string">'-c'</span><span class="token punctuation">,</span> <span class="token string">'echo &quot;Hello, Kubernetes!&quot; &amp;&amp; sleep 3600'</span><span class="token punctuation">]</span>
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> OnFailure
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="pod-æ›´æ–°ä¸æ›¿æ¢"><a href="#pod-æ›´æ–°ä¸æ›¿æ¢" class="header-anchor">#</a> Pod æ›´æ–°ä¸æ›¿æ¢</h3> <ul><li>ä¿®æ”¹ Pod æ¨¡ç‰ˆæˆ–è€…åˆ‡æ¢åˆ°æ–°çš„ Pod æ¨¡ç‰ˆéƒ½ä¸ä¼šå¯¹å·²ç»å­˜åœ¨çš„ Pod èµ·ä½œç”¨ã€‚ Pod ä¸ä¼šç›´æ¥æ”¶åˆ°æ¨¡ç‰ˆçš„æ›´æ–°ã€‚ç›¸åï¼Œ æ–°çš„ Pod ä¼šè¢«åˆ›å»ºå‡ºæ¥ï¼Œä¸æ›´æ”¹åçš„ Pod æ¨¡ç‰ˆåŒ¹é…ã€‚</li> <li>å½“æŸå·¥ä½œè´Ÿè½½çš„ Pod æ¨¡æ¿è¢«æ”¹å˜æ—¶ï¼Œæ§åˆ¶å™¨ä¼šåŸºäºæ›´æ–°çš„æ¨¡æ¿ åˆ›å»ºæ–°çš„ Pod å¯¹è±¡è€Œä¸æ˜¯å¯¹ç°æœ‰ Pod æ‰§è¡Œæ›´æ–°æˆ–è€…ä¿®è¡¥æ“ä½œã€‚</li> <li>Pod çš„ç»å¤§å¤šæ•°å…ƒæ•°æ®éƒ½æ˜¯ä¸å¯å˜çš„ã€‚ä¾‹å¦‚ï¼Œä½ ä¸å¯ä»¥æ”¹å˜å…¶ <code>namespace</code>ã€<code>name</code>ã€ <code>uid</code> æˆ–è€… <code>creationTimestamp</code> å­—æ®µï¼›<code>generation</code> å­—æ®µæ˜¯æ¯”è¾ƒç‰¹åˆ«çš„ï¼Œå¦‚æœæ›´æ–° è¯¥å­—æ®µï¼Œåªèƒ½å¢åŠ å­—æ®µå–å€¼è€Œä¸èƒ½å‡å°‘ã€‚</li> <li>åœ¨æ›´æ–°<code>spec.activeDeadlineSeconds</code> å­—æ®µæ—¶ï¼Œä»¥ä¸‹ä¸¤ç§æ›´æ–°æ“ä½œæ˜¯è¢«å…è®¸çš„ï¼š
<ol><li>å¦‚æœè¯¥å­—æ®µå°šæœªè®¾ç½®ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ­£æ•°ï¼›</li> <li>å¦‚æœè¯¥å­—æ®µå·²ç»è®¾ç½®ä¸ºä¸€ä¸ªæ­£æ•°ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ›´å°çš„ã€éè´Ÿçš„æ•´æ•°ã€‚</li></ol></li></ul> <h3 id="å®¹å™¨æ¢é’ˆ"><a href="#å®¹å™¨æ¢é’ˆ" class="header-anchor">#</a> å®¹å™¨æ¢é’ˆ</h3> <p><em>Pr+obe</em> æ˜¯ç”± kubelet å¯¹å®¹å™¨æ‰§è¡Œçš„å®šæœŸè¯Šæ–­ã€‚è¦æ‰§è¡Œè¯Šæ–­ï¼Œkubelet å¯ä»¥æ‰§è¡Œä¸‰ç§åŠ¨ä½œï¼š</p> <ul><li><code>ExecAction</code>ï¼ˆå€ŸåŠ©å®¹å™¨è¿è¡Œæ—¶æ‰§è¡Œï¼‰</li> <li><code>TCPSocketAction</code>ï¼ˆç”± kubelet ç›´æ¥æ£€æµ‹ï¼‰</li> <li><code>HTTPGetAction</code>ï¼ˆç”± kubelet ç›´æ¥æ£€æµ‹ï¼‰</li></ul> <h3 id="pod-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#pod-çš„ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> Pod çš„ç”Ÿå‘½å‘¨æœŸ</h3> <ul><li>Pod éµå¾ªä¸€ä¸ªé¢„å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œèµ·å§‹äº <code>Pending</code> <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase" target="_blank" rel="noopener noreferrer">é˜¶æ®µ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œå¦‚æœè‡³å°‘ å…¶ä¸­æœ‰ä¸€ä¸ªä¸»è¦å®¹å™¨æ­£å¸¸å¯åŠ¨ï¼Œåˆ™è¿›å…¥ <code>Running</code>ï¼Œä¹‹åå–å†³äº Pod ä¸­æ˜¯å¦æœ‰å®¹å™¨ä»¥ å¤±è´¥çŠ¶æ€ç»“æŸè€Œè¿›å…¥ <code>Succeeded</code> æˆ–è€… <code>Failed</code> é˜¶æ®µã€‚</li> <li>åœ¨ Pod è¿è¡ŒæœŸé—´ï¼Œ<code>kubelet</code> èƒ½å¤Ÿé‡å¯å®¹å™¨ä»¥å¤„ç†ä¸€äº›å¤±æ•ˆåœºæ™¯ã€‚ åœ¨ Pod å†…éƒ¨ï¼ŒKubernetes è·Ÿè¸ªä¸åŒå®¹å™¨çš„<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#container-states" target="_blank" rel="noopener noreferrer">çŠ¶æ€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¹¶ç¡®å®šä½¿ Pod é‡æ–°å˜å¾—å¥åº·æ‰€éœ€è¦é‡‡å–çš„åŠ¨ä½œã€‚</li> <li>Pod åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­åªä¼šè¢«<a href="https://kubernetes.io/zh/docs/concepts/scheduling-eviction/" target="_blank" rel="noopener noreferrer">è°ƒåº¦<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸€æ¬¡ã€‚ ä¸€æ—¦ Pod è¢«è°ƒåº¦ï¼ˆåˆ†æ´¾ï¼‰åˆ°æŸä¸ªèŠ‚ç‚¹ï¼ŒPod ä¼šä¸€ç›´åœ¨è¯¥èŠ‚ç‚¹è¿è¡Œï¼Œç›´åˆ° Pod åœæ­¢æˆ–è€… è¢«<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination" target="_blank" rel="noopener noreferrer">ç»ˆæ­¢<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li></ul> <blockquote><h4 id="pod-ç”Ÿå‘½æœŸ"><a href="#pod-ç”Ÿå‘½æœŸ" class="header-anchor">#</a> Pod ç”Ÿå‘½æœŸ</h4></blockquote> <ul><li>[x] å’Œä¸€ä¸ªä¸ªç‹¬ç«‹çš„åº”ç”¨å®¹å™¨ä¸€æ ·ï¼ŒPod ä¹Ÿè¢«è®¤ä¸ºæ˜¯ç›¸å¯¹ä¸´æ—¶æ€§ï¼ˆè€Œä¸æ˜¯é•¿æœŸå­˜åœ¨ï¼‰çš„å®ä½“ã€‚ Pod ä¼šè¢«åˆ›å»ºã€èµ‹äºˆä¸€ä¸ªå”¯ä¸€çš„ IDï¼ˆ<a href="https://kubernetes.io/zh/docs/concepts/overview/working-with-objects/names/#uids" target="_blank" rel="noopener noreferrer">UID<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼‰ï¼Œ å¹¶è¢«è°ƒåº¦åˆ°èŠ‚ç‚¹ï¼Œå¹¶åœ¨ç»ˆæ­¢ï¼ˆæ ¹æ®é‡å¯ç­–ç•¥ï¼‰æˆ–åˆ é™¤ä¹‹å‰ä¸€ç›´è¿è¡Œåœ¨è¯¥èŠ‚ç‚¹ã€‚</li> <li>[x] å¦‚æœä¸€ä¸ª<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ­»æ‰äº†ï¼Œè°ƒåº¦åˆ°è¯¥èŠ‚ç‚¹ çš„ Pod ä¹Ÿè¢«è®¡åˆ’åœ¨ç»™å®šè¶…æ—¶æœŸé™ç»“æŸå<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-garbage-collection" target="_blank" rel="noopener noreferrer">åˆ é™¤<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li> <li>[x] Pod è‡ªèº«ä¸å…·æœ‰è‡ªæ„ˆèƒ½åŠ›ã€‚å¦‚æœ Pod è¢«è°ƒåº¦åˆ°æŸ<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è€Œè¯¥èŠ‚ç‚¹ä¹‹åå¤±æ•ˆï¼ŒPod ä¼šè¢«åˆ é™¤ï¼›ç±»ä¼¼åœ°ï¼ŒPod æ— æ³•åœ¨å› èŠ‚ç‚¹èµ„æº è€—å°½æˆ–è€…èŠ‚ç‚¹ç»´æŠ¤è€Œè¢«é©±é€æœŸé—´ç»§ç»­å­˜æ´»ã€‚Kubernetes ä½¿ç”¨ä¸€ç§é«˜çº§æŠ½è±¡ æ¥ç®¡ç†è¿™äº›ç›¸å¯¹è€Œè¨€å¯éšæ—¶ä¸¢å¼ƒçš„ Pod å®ä¾‹ï¼Œç§°ä½œ <a href="https://kubernetes.io/zh/docs/concepts/architecture/controller/" target="_blank" rel="noopener noreferrer">æ§åˆ¶å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li> <li>[x] ä»»ä½•ç»™å®šçš„ Pod ï¼ˆç”± UID å®šä¹‰ï¼‰ä»ä¸ä¼šè¢«â€œé‡æ–°è°ƒåº¦ï¼ˆrescheduledï¼‰â€åˆ°ä¸åŒçš„èŠ‚ç‚¹ï¼› ç›¸åï¼Œè¿™ä¸€ Pod å¯ä»¥è¢«ä¸€ä¸ªæ–°çš„ã€å‡ ä¹å®Œå…¨ç›¸åŒçš„ Pod æ›¿æ¢æ‰ã€‚ å¦‚æœéœ€è¦ï¼Œæ–° Pod çš„åå­—å¯ä»¥ä¸å˜ï¼Œä½†æ˜¯å…¶ UID ä¼šä¸åŒã€‚</li> <li>[x] å¦‚æœæŸç‰©å£°ç§°å…¶ç”Ÿå‘½æœŸä¸æŸ Pod ç›¸åŒï¼Œä¾‹å¦‚å­˜å‚¨<a href="https://kubernetes.io/zh/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">å·<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œ è¿™å°±æ„å‘³ç€è¯¥å¯¹è±¡åœ¨æ­¤ Pod ï¼ˆUID äº¦ç›¸åŒï¼‰å­˜åœ¨æœŸé—´ä¹Ÿä¸€ç›´å­˜åœ¨ã€‚ å¦‚æœ Pod å› ä¸ºä»»ä½•åŸå› è¢«åˆ é™¤ï¼Œç”šè‡³æŸå®Œå…¨ç›¸åŒçš„æ›¿ä»£ Pod è¢«åˆ›å»ºæ—¶ï¼Œ è¿™ä¸ªç›¸å…³çš„å¯¹è±¡ï¼ˆä¾‹å¦‚è¿™é‡Œçš„å·ï¼‰ä¹Ÿä¼šè¢«åˆ é™¤å¹¶é‡å»ºã€‚</li></ul> <blockquote><h4 id="pod-é˜¶æ®µ"><a href="#pod-é˜¶æ®µ" class="header-anchor">#</a> Pod é˜¶æ®µ</h4></blockquote> <p>Pod çš„é˜¶æ®µæ˜¯ Pod åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ‰€å¤„ä½ç½®çš„ç®€å•å®è§‚æ¦‚è¿°ã€‚ è¯¥é˜¶æ®µå¹¶ä¸æ˜¯å¯¹å®¹å™¨æˆ– Pod çŠ¶æ€çš„ç»¼åˆæ±‡æ€»ï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†æˆä¸ºå®Œæ•´çš„çŠ¶æ€æœºã€‚</p> <table><thead><tr><th><code>Pending</code>ï¼ˆæ‚¬å†³ï¼‰</th> <th>Pod å·²è¢« Kubernetes ç³»ç»Ÿæ¥å—ï¼Œä½†æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨å°šæœªåˆ›å»ºäº¦æœªè¿è¡Œã€‚æ­¤é˜¶æ®µåŒ…æ‹¬ç­‰å¾… Pod è¢«è°ƒåº¦çš„æ—¶é—´å’Œé€šè¿‡ç½‘ç»œä¸‹è½½é•œåƒçš„æ—¶é—´ï¼Œ</th></tr></thead> <tbody><tr><td><code>Running</code>ï¼ˆè¿è¡Œä¸­ï¼‰</td> <td>Pod å·²ç»ç»‘å®šåˆ°äº†æŸä¸ªèŠ‚ç‚¹ï¼ŒPod ä¸­æ‰€æœ‰çš„å®¹å™¨éƒ½å·²è¢«åˆ›å»ºã€‚è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨ä»åœ¨è¿è¡Œï¼Œæˆ–è€…æ­£å¤„äºå¯åŠ¨æˆ–é‡å¯çŠ¶æ€ã€‚</td></tr> <tr><td><code>Succeeded</code>ï¼ˆæˆåŠŸï¼‰</td> <td>Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²æˆåŠŸç»ˆæ­¢ï¼Œå¹¶ä¸”ä¸ä¼šå†é‡å¯ã€‚</td></tr> <tr><td><code>Failed</code>ï¼ˆå¤±è´¥ï¼‰</td> <td>Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²ç»ˆæ­¢ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ˜¯å› ä¸ºå¤±è´¥ç»ˆæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¹å™¨ä»¥é 0 çŠ¶æ€é€€å‡ºæˆ–è€…è¢«ç³»ç»Ÿç»ˆæ­¢ã€‚</td></tr> <tr><td><code>Unknown</code>ï¼ˆæœªçŸ¥ï¼‰</td> <td>å› ä¸ºæŸäº›åŸå› æ— æ³•å–å¾— Pod çš„çŠ¶æ€ã€‚è¿™ç§æƒ…å†µé€šå¸¸æ˜¯å› ä¸ºä¸ Pod æ‰€åœ¨ä¸»æœºé€šä¿¡å¤±è´¥ã€‚</td></tr></tbody></table> <p>å¦‚æœæŸèŠ‚ç‚¹æ­»æ‰æˆ–è€…ä¸é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹å¤±è”ï¼ŒKubernetes ä¼šå®æ–½ä¸€ç§ç­–ç•¥ï¼Œå°†å¤±å»çš„èŠ‚ç‚¹ä¸Šè¿è¡Œçš„æ‰€æœ‰ Pod ä¸º <code>Failed</code>ã€‚</p> <blockquote><h4 id="å®¹å™¨çŠ¶æ€"><a href="#å®¹å™¨çŠ¶æ€" class="header-anchor">#</a> å®¹å™¨çŠ¶æ€</h4></blockquote> <p>Kubernetes ä¼šè·Ÿè¸ª Pod ä¸­æ¯ä¸ªå®¹å™¨çš„çŠ¶æ€ï¼Œå°±åƒå®ƒè·Ÿè¸ª Pod æ€»ä½“ä¸Šçš„<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase" target="_blank" rel="noopener noreferrer">é˜¶æ®µ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸€æ ·ã€‚ ä½ å¯ä»¥ä½¿ç”¨<a href="https://kubernetes.io/zh/docs/concepts/containers/container-lifecycle-hooks/" target="_blank" rel="noopener noreferrer">å®¹å™¨ç”Ÿå‘½å‘¨æœŸå›è°ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥åœ¨å®¹å™¨ç”Ÿå‘½å‘¨æœŸä¸­çš„ç‰¹å®šæ—¶é—´ç‚¹è§¦å‘äº‹ä»¶ã€‚</p> <p>ä¸€æ—¦<a href="https://kubernetes.io/docs/reference/generated/kube-scheduler/" target="_blank" rel="noopener noreferrer">è°ƒåº¦å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å°† Pod åˆ†æ´¾ç»™æŸä¸ªèŠ‚ç‚¹ï¼Œ<code>kubelet</code> å°±é€šè¿‡ <a href="https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes" target="_blank" rel="noopener noreferrer">å®¹å™¨è¿è¡Œæ—¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¼€å§‹ä¸º Pod åˆ›å»ºå®¹å™¨ã€‚</p> <p>å®¹å™¨çš„çŠ¶æ€æœ‰ä¸‰ç§ï¼š</p> <ul><li><code>Waiting</code>ï¼ˆç­‰å¾…ï¼‰</li> <li><code>Running</code>ï¼ˆè¿è¡Œä¸­ï¼‰</li> <li><code>Terminated</code>ï¼ˆå·²ç»ˆæ­¢ï¼‰</li></ul> <blockquote><h4 id="å®¹å™¨é‡å¯ç­–ç•¥"><a href="#å®¹å™¨é‡å¯ç­–ç•¥" class="header-anchor">#</a> å®¹å™¨é‡å¯ç­–ç•¥</h4></blockquote> <p>Pod çš„ <code>spec</code> ä¸­åŒ…å«ä¸€ä¸ª <code>restartPolicy</code> å­—æ®µï¼Œå…¶å¯èƒ½å–å€¼åŒ…æ‹¬ Alwaysã€OnFailure å’Œ Neverã€‚é»˜è®¤å€¼æ˜¯ Alwaysã€‚</p> <p><code>restartPolicy</code> é€‚ç”¨äº Pod ä¸­çš„æ‰€æœ‰å®¹å™¨ã€‚<code>restartPolicy</code> ä»…é’ˆå¯¹åŒä¸€èŠ‚ç‚¹ä¸Š <code>kubelet</code> çš„å®¹å™¨é‡å¯åŠ¨ä½œã€‚å½“ Pod ä¸­çš„å®¹å™¨é€€å‡ºæ—¶ï¼Œ<code>kubelet</code> ä¼šæŒ‰æŒ‡æ•°å›é€€ æ–¹å¼è®¡ç®—é‡å¯çš„å»¶è¿Ÿï¼ˆ10sã€20sã€40sã€...ï¼‰ï¼Œå…¶æœ€é•¿å»¶è¿Ÿä¸º 5 åˆ†é’Ÿã€‚ ä¸€æ—¦æŸå®¹å™¨æ‰§è¡Œäº† 10 åˆ†é’Ÿå¹¶ä¸”æ²¡æœ‰å‡ºç°é—®é¢˜ï¼Œ<code>kubelet</code> å¯¹è¯¥å®¹å™¨çš„é‡å¯å›é€€è®¡æ—¶å™¨æ‰§è¡Œ é‡ç½®æ“ä½œã€‚</p> <blockquote><h4 id="pod-çŠ¶å†µ"><a href="#pod-çŠ¶å†µ" class="header-anchor">#</a> Pod çŠ¶å†µ</h4></blockquote> <p>Pod æœ‰ä¸€ä¸ª PodStatus å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#podcondition-v1-core" target="_blank" rel="noopener noreferrer">PodConditions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ•°ç»„ã€‚Pod å¯èƒ½é€šè¿‡ä¹Ÿå¯èƒ½æœªé€šè¿‡å…¶ä¸­çš„ä¸€äº›çŠ¶å†µæµ‹è¯•ã€‚</p> <ul><li><code>PodScheduled</code>ï¼šPod å·²ç»è¢«è°ƒåº¦åˆ°æŸèŠ‚ç‚¹ï¼›</li> <li><code>ContainersReady</code>ï¼šPod ä¸­æ‰€æœ‰å®¹å™¨éƒ½å·²å°±ç»ªï¼›</li> <li><code>Initialized</code>ï¼šæ‰€æœ‰çš„ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/init-containers/" target="_blank" rel="noopener noreferrer">Init å®¹å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> éƒ½å·²æˆåŠŸå¯åŠ¨ï¼›</li> <li><code>Ready</code>ï¼šPod å¯ä»¥ä¸ºè¯·æ±‚æä¾›æœåŠ¡ï¼Œå¹¶ä¸”åº”è¯¥è¢«æ·»åŠ åˆ°å¯¹åº”æœåŠ¡çš„è´Ÿè½½å‡è¡¡æ± ä¸­</li></ul> <table><thead><tr><th><code>type</code></th> <th>Pod çŠ¶å†µçš„åç§°</th></tr></thead> <tbody><tr><td><code>status</code></td> <td>è¡¨æ˜è¯¥çŠ¶å†µæ˜¯å¦é€‚ç”¨ï¼Œå¯èƒ½çš„å–å€¼æœ‰ &quot;<code>True</code>&quot;, &quot;<code>False</code>&quot; æˆ– &quot;<code>Unknown</code>&quot;</td></tr> <tr><td><code>lastProbeTime</code></td> <td>ä¸Šæ¬¡æ¢æµ‹ Pod çŠ¶å†µæ—¶çš„æ—¶é—´æˆ³</td></tr> <tr><td><code>lastTransitionTime</code></td> <td>Pod ä¸Šæ¬¡ä»ä¸€ç§çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ç§çŠ¶æ€æ—¶çš„æ—¶é—´æˆ³</td></tr> <tr><td><code>reason</code></td> <td>æœºå™¨å¯è¯»çš„ã€é©¼å³°ç¼–ç ï¼ˆUpperCamelCaseï¼‰çš„æ–‡å­—ï¼Œè¡¨è¿°ä¸Šæ¬¡çŠ¶å†µå˜åŒ–çš„åŸå› </td></tr> <tr><td><code>message</code></td> <td>äººç±»å¯è¯»çš„æ¶ˆæ¯ï¼Œç»™å‡ºä¸Šæ¬¡çŠ¶æ€è½¬æ¢çš„è¯¦ç»†ä¿¡æ¯</td></tr></tbody></table> <blockquote><h4 id="pod-å°±ç»ªæ€"><a href="#pod-å°±ç»ªæ€" class="header-anchor">#</a> Pod å°±ç»ªæ€</h4></blockquote> <ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.14 [stable]</code></p></li> <li><p>ä½ çš„åº”ç”¨å¯ä»¥å‘ PodStatus ä¸­æ³¨å…¥é¢å¤–çš„åé¦ˆæˆ–è€…ä¿¡å·ï¼š<em>Pod Readinessï¼ˆPod å°±ç»ªæ€ï¼‰</em>ã€‚ è¦ä½¿ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥è®¾ç½® Pod è§„çº¦ä¸­çš„ <code>readinessGates</code> åˆ—è¡¨ï¼Œä¸º kubelet æä¾›ä¸€ç»„é¢å¤–çš„çŠ¶å†µä¾›å…¶è¯„ä¼° Pod å°±ç»ªæ€æ—¶ä½¿ç”¨ã€‚</p></li> <li><p>å°±ç»ªæ€é—¨æ§åŸºäº Pod çš„ <code>status.conditions</code> å­—æ®µçš„å½“å‰å€¼æ¥åšå†³å®šã€‚ å¦‚æœ Kubernetes æ— æ³•åœ¨ <code>status.conditions</code> å­—æ®µä¸­æ‰¾åˆ°æŸçŠ¶å†µï¼Œåˆ™è¯¥çŠ¶å†µçš„ çŠ¶æ€å€¼é»˜è®¤ä¸º &quot;<code>False</code>&quot;ã€‚</p></li></ul> <h3 id="å®¹å™¨æ¢é’ˆ-2"><a href="#å®¹å™¨æ¢é’ˆ-2" class="header-anchor">#</a> å®¹å™¨æ¢é’ˆ</h3> <p><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#probe-v1-core" target="_blank" rel="noopener noreferrer">Probe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ç”± <a href="https://kubernetes.io/zh/docs/reference/command-line-tools-reference/kubelet/" target="_blank" rel="noopener noreferrer">kubelet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¯¹å®¹å™¨æ‰§è¡Œçš„å®šæœŸè¯Šæ–­ã€‚ è¦æ‰§è¡Œè¯Šæ–­ï¼Œkubelet è°ƒç”¨ç”±å®¹å™¨å®ç°çš„ <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#handler-v1-core" target="_blank" rel="noopener noreferrer">Handler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ï¼ˆå¤„ç†ç¨‹åºï¼‰ã€‚æœ‰ä¸‰ç§ç±»å‹çš„å¤„ç†ç¨‹åºï¼š</p> <ul><li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#execaction-v1-core" target="_blank" rel="noopener noreferrer">ExecAction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼š åœ¨å®¹å™¨å†…æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚å¦‚æœå‘½ä»¤é€€å‡ºæ—¶è¿”å›ç ä¸º 0 åˆ™è®¤ä¸ºè¯Šæ–­æˆåŠŸã€‚</li> <li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#tcpsocketaction-v1-core" target="_blank" rel="noopener noreferrer">TCPSocketAction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼š å¯¹å®¹å™¨çš„ IP åœ°å€ä¸Šçš„æŒ‡å®šç«¯å£æ‰§è¡Œ TCP æ£€æŸ¥ã€‚å¦‚æœç«¯å£æ‰“å¼€ï¼Œåˆ™è¯Šæ–­è¢«è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚</li> <li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#httpgetaction-v1-core" target="_blank" rel="noopener noreferrer">HTTPGetAction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼š å¯¹å®¹å™¨çš„ IP åœ°å€ä¸ŠæŒ‡å®šç«¯å£å’Œè·¯å¾„æ‰§è¡Œ HTTP Get è¯·æ±‚ã€‚å¦‚æœå“åº”çš„çŠ¶æ€ç å¤§äºç­‰äº 200 ä¸”å°äº 400ï¼Œåˆ™è¯Šæ–­è¢«è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚</li></ul> <p>æ¯æ¬¡æ¢æµ‹éƒ½å°†è·å¾—ä»¥ä¸‹ä¸‰ç§ç»“æœä¹‹ä¸€ï¼š</p> <ul><li><code>Success</code>ï¼ˆæˆåŠŸï¼‰ï¼šå®¹å™¨é€šè¿‡äº†è¯Šæ–­ã€‚</li> <li><code>Failure</code>ï¼ˆå¤±è´¥ï¼‰ï¼šå®¹å™¨æœªé€šè¿‡è¯Šæ–­ã€‚</li> <li><code>Unknown</code>ï¼ˆæœªçŸ¥ï¼‰ï¼šè¯Šæ–­å¤±è´¥ï¼Œå› æ­¤ä¸ä¼šé‡‡å–ä»»ä½•è¡ŒåŠ¨ã€‚</li></ul> <p>é’ˆå¯¹è¿è¡Œä¸­çš„å®¹å™¨ï¼Œ<code>kubelet</code> å¯ä»¥é€‰æ‹©æ˜¯å¦æ‰§è¡Œä»¥ä¸‹ä¸‰ç§æ¢é’ˆï¼Œä»¥åŠå¦‚ä½•é’ˆå¯¹æ¢æµ‹ç»“æœä½œå‡ºååº”ï¼š</p> <ul><li><p><code>livenessProbe</code>ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚å¦‚æœå­˜æ´»æ€æ¢æµ‹å¤±è´¥ï¼Œåˆ™ kubelet ä¼šæ€æ­»å®¹å™¨ï¼Œ å¹¶ä¸”å®¹å™¨å°†æ ¹æ®å…¶<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy" target="_blank" rel="noopener noreferrer">é‡å¯ç­–ç•¥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å†³å®šæœªæ¥ã€‚å¦‚æœå®¹å™¨ä¸æä¾›å­˜æ´»æ¢é’ˆï¼Œ åˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li> <li><p><code>readinessProbe</code>ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦å‡†å¤‡å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚å¦‚æœå°±ç»ªæ€æ¢æµ‹å¤±è´¥ï¼Œ ç«¯ç‚¹æ§åˆ¶å™¨å°†ä»ä¸ Pod åŒ¹é…çš„æ‰€æœ‰æœåŠ¡çš„ç«¯ç‚¹åˆ—è¡¨ä¸­åˆ é™¤è¯¥ Pod çš„ IP åœ°å€ã€‚ åˆå§‹å»¶è¿Ÿä¹‹å‰çš„å°±ç»ªæ€çš„çŠ¶æ€å€¼é»˜è®¤ä¸º <code>Failure</code>ã€‚ å¦‚æœå®¹å™¨ä¸æä¾›å°±ç»ªæ€æ¢é’ˆï¼Œåˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li> <li><p><code>startupProbe</code>: æŒ‡ç¤ºå®¹å™¨ä¸­çš„åº”ç”¨æ˜¯å¦å·²ç»å¯åŠ¨ã€‚å¦‚æœæä¾›äº†å¯åŠ¨æ¢é’ˆï¼Œåˆ™æ‰€æœ‰å…¶ä»–æ¢é’ˆéƒ½ä¼šè¢« ç¦ç”¨ï¼Œç›´åˆ°æ­¤æ¢é’ˆæˆåŠŸä¸ºæ­¢ã€‚å¦‚æœå¯åŠ¨æ¢æµ‹å¤±è´¥ï¼Œ<code>kubelet</code> å°†æ€æ­»å®¹å™¨ï¼Œè€Œå®¹å™¨ä¾å…¶ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy" target="_blank" rel="noopener noreferrer">é‡å¯ç­–ç•¥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>è¿›è¡Œé‡å¯ã€‚ å¦‚æœå®¹å™¨æ²¡æœ‰æä¾›å¯åŠ¨æ¢æµ‹ï¼Œåˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li> <li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ"><a href="#ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ" class="header-anchor">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ?</h4> <ul><li><strong>FEATURE STATE:</strong> <code>Kubernetes v1.0 [stable]</code></li> <li>å¦‚æœå®¹å™¨ä¸­çš„è¿›ç¨‹èƒ½å¤Ÿåœ¨é‡åˆ°é—®é¢˜æˆ–ä¸å¥åº·çš„æƒ…å†µä¸‹è‡ªè¡Œå´©æºƒï¼Œåˆ™ä¸ä¸€å®šéœ€è¦å­˜æ´»æ€æ¢é’ˆ; <code>kubelet</code> å°†æ ¹æ® Pod çš„<code>restartPolicy</code> è‡ªåŠ¨æ‰§è¡Œä¿®å¤æ“ä½œã€‚</li> <li>å¦‚æœä½ å¸Œæœ›å®¹å™¨åœ¨æ¢æµ‹å¤±è´¥æ—¶è¢«æ€æ­»å¹¶é‡æ–°å¯åŠ¨ï¼Œé‚£ä¹ˆè¯·æŒ‡å®šä¸€ä¸ªå­˜æ´»æ€æ¢é’ˆï¼Œ å¹¶æŒ‡å®š<code>restartPolicy</code> ä¸º &quot;<code>Always</code>&quot; æˆ– &quot;<code>OnFailure</code>&quot;ã€‚</li></ul></li> <li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ"><a href="#ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ" class="header-anchor">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ?</h4> <ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.0 [stable]</code></p></li> <li><p>å¦‚æœè¦ä»…åœ¨æ¢æµ‹æˆåŠŸæ—¶æ‰å¼€å§‹å‘ Pod å‘é€è¯·æ±‚æµé‡ï¼Œè¯·æŒ‡å®šå°±ç»ªæ€æ¢é’ˆã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±ç»ªæ€æ¢é’ˆå¯èƒ½ä¸å­˜æ´»æ€æ¢é’ˆç›¸åŒï¼Œä½†æ˜¯è§„çº¦ä¸­çš„å°±ç»ªæ€æ¢é’ˆçš„å­˜åœ¨æ„å‘³ç€ Pod å°†åœ¨å¯åŠ¨é˜¶æ®µä¸æ¥æ”¶ä»»ä½•æ•°æ®ï¼Œå¹¶ä¸”åªæœ‰åœ¨æ¢é’ˆæ¢æµ‹æˆåŠŸåæ‰å¼€å§‹æ¥æ”¶æ•°æ®ã€‚</p></li> <li><p>å¦‚æœä½ å¸Œæœ›å®¹å™¨èƒ½å¤Ÿè‡ªè¡Œè¿›å…¥ç»´æŠ¤çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå°±ç»ªæ€æ¢é’ˆï¼Œæ£€æŸ¥æŸä¸ªç‰¹å®šäº å°±ç»ªæ€çš„å› æ­¤ä¸åŒäºå­˜æ´»æ€æ¢æµ‹çš„ç«¯ç‚¹ã€‚</p></li> <li><p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºå¯¹åç«¯æœåŠ¡æœ‰ä¸¥æ ¼çš„ä¾èµ–æ€§ï¼Œä½ å¯ä»¥åŒæ—¶å®ç°å­˜æ´»æ€å’Œå°±ç»ªæ€æ¢é’ˆã€‚ å½“åº”ç”¨ç¨‹åºæœ¬èº«æ˜¯å¥åº·çš„ï¼Œå­˜æ´»æ€æ¢é’ˆæ£€æµ‹é€šè¿‡åï¼Œå°±ç»ªæ€æ¢é’ˆä¼šé¢å¤–æ£€æŸ¥æ¯ä¸ªæ‰€éœ€çš„åç«¯æœåŠ¡æ˜¯å¦å¯ç”¨ã€‚ è¿™å¯ä»¥å¸®åŠ©ä½ é¿å…å°†æµé‡å¯¼å‘åªèƒ½è¿”å›é”™è¯¯ä¿¡æ¯çš„ Podã€‚</p></li> <li><p><strong>è¯´æ˜ï¼š</strong></p> <p><strong><code>è¯·æ³¨æ„ï¼Œå¦‚æœä½ åªæ˜¯æƒ³åœ¨ Pod è¢«åˆ é™¤æ—¶èƒ½å¤Ÿæ’ç©ºè¯·æ±‚ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆï¼› åœ¨åˆ é™¤ Pod æ—¶ï¼ŒPod ä¼šè‡ªåŠ¨å°†è‡ªèº«ç½®äºæœªå°±ç»ªçŠ¶æ€ï¼Œæ— è®ºå°±ç»ªæ€æ¢é’ˆæ˜¯å¦å­˜åœ¨ã€‚ ç­‰å¾… Pod ä¸­çš„å®¹å™¨åœæ­¢æœŸé—´ï¼ŒPod ä¼šä¸€ç›´å¤„äºæœªå°±ç»ªçŠ¶æ€ã€‚</code></strong></p></li></ul></li> <li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆ"><a href="#ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆ" class="header-anchor">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆï¼Ÿ</h4> <ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.18 [beta]</code></p></li> <li><p>å¯¹äºæ‰€åŒ…å«çš„å®¹å™¨éœ€è¦è¾ƒé•¿æ—¶é—´æ‰èƒ½å¯åŠ¨å°±ç»ªçš„ Pod è€Œè¨€ï¼Œå¯åŠ¨æ¢é’ˆæ˜¯æœ‰ç”¨çš„ã€‚ ä½ ä¸å†éœ€è¦é…ç½®ä¸€ä¸ªè¾ƒé•¿çš„å­˜æ´»æ€æ¢æµ‹æ—¶é—´é—´éš”ï¼Œåªéœ€è¦è®¾ç½®å¦ä¸€ä¸ªç‹¬ç«‹çš„é…ç½®é€‰å®šï¼Œ å¯¹å¯åŠ¨æœŸé—´çš„å®¹å™¨æ‰§è¡Œæ¢æµ‹ï¼Œä»è€Œå…è®¸ä½¿ç”¨è¿œè¿œè¶…å‡ºå­˜æ´»æ€æ—¶é—´é—´éš”æ‰€å…è®¸çš„æ—¶é•¿ã€‚</p></li> <li><p>å¦‚æœä½ çš„å®¹å™¨å¯åŠ¨æ—¶é—´é€šå¸¸è¶…å‡º <code>initialDelaySeconds + failureThreshold Ã— periodSeconds</code> æ€»å€¼ï¼Œä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªå¯åŠ¨æ¢æµ‹ï¼Œå¯¹å­˜æ´»æ€æ¢é’ˆæ‰€ä½¿ç”¨çš„åŒä¸€ç«¯ç‚¹æ‰§è¡Œæ£€æŸ¥ã€‚ <code>periodSeconds</code> çš„é»˜è®¤å€¼æ˜¯ 10 ç§’ã€‚ä½ åº”è¯¥å°†å…¶ <code>failureThreshold</code> è®¾ç½®å¾—è¶³å¤Ÿé«˜ï¼Œ ä»¥ä¾¿å®¹å™¨æœ‰å……è¶³çš„æ—¶é—´å®Œæˆå¯åŠ¨ï¼Œå¹¶ä¸”é¿å…æ›´æ”¹å­˜æ´»æ€æ¢é’ˆæ‰€ä½¿ç”¨çš„é»˜è®¤å€¼ã€‚ è¿™ä¸€è®¾ç½®æœ‰åŠ©äºå‡å°‘æ­»é”çŠ¶å†µçš„å‘ç”Ÿã€‚</p></li></ul></li></ul> <h3 id="podå¯¹è±¡-ç®¡ç†å‘½ä»¤"><a href="#podå¯¹è±¡-ç®¡ç†å‘½ä»¤" class="header-anchor">#</a> Podå¯¹è±¡ï¼šç®¡ç†å‘½ä»¤</h3> <p><strong>åˆ›å»ºPod</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> container1
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx

$ kubectl apply  <span class="token punctuation">-</span>f pod.yaml 
pod/web created
$ kubectl get pods 
NAME   READY   STATUS    RESTARTS   AGE
web    1/1     Running   0          2m23s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>æŸ¥çœ‹Pod</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl get pods 
$ kubectl describe pod <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æŸ¥çœ‹æ—¥å¿—</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl logs <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span>
$ kubectl logs <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span> -f 

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs web container1 </span>
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="token keyword">for</span> shell scripts <span class="token keyword">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="token keyword">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete<span class="token punctuation">;</span> ready <span class="token keyword">for</span> start up
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: using the &quot;epoll&quot; event method</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: nginx/1.21.3</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: built by gcc 8.3.0 (Debian 8.3.0-6) </span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: OS: Linux 3.10.0-862.2.3.el7.x86_64</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker processes</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 31</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 32</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>è¿›å…¥å®¹å™¨ç»ˆç«¯</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl <span class="token builtin class-name">exec</span> <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span> --bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>åˆ é™¤Pod</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ kubectl delete pod <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥"><a href="#podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥" class="header-anchor">#</a> Podå¯¹è±¡ï¼šé‡å¯ç­–ç•¥+å¥åº·æ£€æŸ¥</h3> <h3 id="é‡å¯ç­–ç•¥"><a href="#é‡å¯ç­–ç•¥" class="header-anchor">#</a> <code>é‡å¯ç­–ç•¥</code></h3> <ul><li><p><code>Alwaysï¼š</code> å½“å®¹å™¨ç»ˆæ­¢é€€å‡ºåï¼Œæ€»æ˜¯é‡å¯å®¹å™¨ï¼Œé»˜è®¤ç­–ç•¥ã€‚</p></li> <li><p><code>OnFailureï¼š</code> å½“å®¹å™¨å¼‚å¸¸é€€å‡ºåï¼Œï¼ˆé€€å‡ºçŠ¶æ€ç é0ï¼‰æ—¶ï¼Œæ‰é‡å¯å®¹å™¨ã€‚</p></li> <li><p><code>Neverï¼š</code> å½“å®¹å™¨ç»ˆæ­¢é€€å‡ºï¼Œä»ä¸é‡å¯å®¹å™¨ã€‚</p></li></ul> <h3 id="å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹"><a href="#å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹" class="header-anchor">#</a> <code>å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹</code></h3> <ul><li><p><code>livenessProbeï¼ˆå­˜æ´»æ£€æŸ¥ï¼‰ï¼š</code>  å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œå°†æ€æ­»å®¹å™¨ï¼Œæ ¹æ®Podçš„restartPolicyæ¥æ“ä½œã€‚</p></li> <li><p><code>readinessProbeï¼ˆå°±ç»ªæ£€æŸ¥ï¼‰ï¼š</code>  å¦‚æœæ£€æŸ¥å¤±è´¥ï¼ŒKubernetesä¼šæŠŠPodä»service endpointsä¸­å‰”é™¤ã€‚</p></li></ul> <h3 id="æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•"><a href="#æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•" class="header-anchor">#</a> <code>æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•</code></h3> <ul><li><p><code>httpGetï¼š</code>  å‘é€httpè¯·æ±‚ï¼Œè¿”å›200-400èŒƒå›´çŠ¶æ€ç ä¸ºæˆåŠŸã€‚</p></li> <li><p><code>execï¼š</code> æ‰§è¡ŒShellå‘½ä»¤è¿”å›çŠ¶æ€ç æ˜¯0ä¸ºæˆåŠŸã€‚</p></li> <li><p><code>tcpSocketï¼š</code>  å‘èµ·TCP Socketå»ºç«‹æˆåŠŸã€‚</p></li></ul> <p><strong>ç«¯å£æ¢æµ‹</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat pod.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always		   <span class="token comment">#é‡å¯ç­–ç•¥ </span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">name</span><span class="token punctuation">:</span> web
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">readinessProbe</span><span class="token punctuation">:</span> 		   <span class="token comment">#ç«¯å£æ¢æµ‹</span>
      <span class="token key atrule">tcpSocket</span><span class="token punctuation">:</span> 
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span> 			   <span class="token comment">#æ¢æµ‹çš„ç«¯å£æ˜¯80	</span>
      <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>  <span class="token comment">#å¯åŠ¨å®¹å™¨åå¤šå°‘ç§’å¥åº·æ£€æŸ¥</span>
      <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">10</span>        <span class="token comment">#ä»¥åé—´éš”å¤šå°‘ç§’æ£€æŸ¥ä¸€æ¬¡</span>
        
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f pod.yaml        </span>
pod/web created
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    0/1     Running   0          97s

éœ€è¦ç­‰åˆ°ç«¯å£æ¢æµ‹å®Œæˆä¹‹åæ‰èƒ½ready
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    1/1     Running   0          97s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>httpè¯·æ±‚çš„å¥åº·æ£€æŸ¥</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml  </span>
      <span class="token key atrule">tcpSocket</span><span class="token punctuation">:</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">name</span><span class="token punctuation">:</span> web
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">readinessProbe</span><span class="token punctuation">:</span>
      <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>
        <span class="token key atrule">path</span><span class="token punctuation">:</span> /index.html
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
      <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">10</span>
      

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f pod.yaml  </span>
pod/web created

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    0/1     Running   0          19s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>æŸ¥çœ‹æ—¥å¿—æ£€æŸ¥æ˜¯å¦æœ‰å¥åº·æ£€æŸ¥æˆåŠŸ</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs web web -f </span>
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="token keyword">for</span> shell scripts <span class="token keyword">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="token keyword">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete<span class="token punctuation">;</span> ready <span class="token keyword">for</span> start up
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: using the &quot;epoll&quot; event method</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: nginx/1.21.3</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: built by gcc 8.3.0 (Debian 8.3.0-6) </span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: OS: Linux 3.10.0-862.2.3.el7.x86_64</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker processes</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 31</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 32</span>
<span class="token number">172.25</span>.253.138 - - <span class="token punctuation">[</span><span class="token number">27</span>/Oct/2021:12:10:45 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET /index.html HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">615</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;kube-probe/1.20&quot;</span> <span class="token string">&quot;-&quot;</span>
<span class="token number">172.25</span>.253.138 - - <span class="token punctuation">[</span><span class="token number">27</span>/Oct/2021:12:10:55 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET /index.html HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">615</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;kube-probe/1.20&quot;</span> <span class="token string">&quot;-&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>ç¤ºä¾‹ï¼šæ‰§è¡ŒShellå‘½ä»¤</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span> 
  <span class="token key atrule">exec</span><span class="token punctuation">:</span> 
    <span class="token key atrule">command</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> cat
    <span class="token punctuation">-</span> /tmp/healthy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>ç¤ºä¾‹ï¼šHTTPè¯·æ±‚</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span> 
  <span class="token key atrule">httpGet</span><span class="token punctuation">:</span> 
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /healthz 
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token key atrule">httpHeaders</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Custom<span class="token punctuation">-</span>Header
      <span class="token key atrule">value</span><span class="token punctuation">:</span> Awesome
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="podå¯¹è±¡-lnit-container"><a href="#podå¯¹è±¡-lnit-container" class="header-anchor">#</a> Podå¯¹è±¡ï¼šlnit Container</h3> <p><strong>lnit Containerï¼š é¡¾åæ€ä¹‰ï¼Œç”¨äºåˆå§‹åŒ–å·¥ä½œï¼Œæ‰§è¡Œå®Œå°±ç»“æŸï¼Œå¯ä»¥ç†è§£ä¸ºä¸€æ¬¡æ€§ä»»åŠ¡ã€‚</strong></p> <ul><li><code>æ”¯æŒå¤§éƒ¨åˆ†åº”ç”¨å®¹å™¨é…ç½®ï¼Œä½†ä¸æ”¯æŒå¥åº·æ£€æŸ¥</code></li> <li><code>ä¼˜å…ˆåº”ç”¨å®¹å™¨æ‰§è¡Œ</code></li></ul> <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p> <ul><li><code>ç¯å¢ƒæ£€æŸ¥ï¼š ä¾‹å¦‚ç¡®ä¿åº”ç”¨å®¹å™¨ä¾èµ–çš„æœåŠ¡å¯åŠ¨åå†å¯åŠ¨åº”ç”¨å®¹å™¨</code></li> <li><code>åˆå§‹åŒ–é…ç½®ï¼š ä¾‹å¦‚ç»™åº”ç”¨å®¹å™¨å‡†å¤‡é…ç½®æ–‡ä»¶</code></li></ul> <p><strong>ç¤ºä¾‹ï¼šéƒ¨ç½²ä¸€ä¸ªwebç½‘ç«™ï¼Œç½‘ç«™ç¨‹åºæ²¡æœ‰æ‰“åŒ…åˆ°é•œåƒä¸­ï¼Œè€Œæ˜¯å¸Œæœ›ä»ä»£ç ä»“åº“ä¸­åŠ¨æ€æ‹‰å–æ”¾åˆ°åº”ç”¨å®¹å™¨ä¸­ã€‚</strong></p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat init-container.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> init<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">initContainers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
    <span class="token key atrule">name</span><span class="token punctuation">:</span> init<span class="token punctuation">-</span>demo
    <span class="token key atrule">command</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> wget 
    <span class="token punctuation">-</span> <span class="token string">&quot;-O&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;/opt/index.html&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;http://www.ctnrs.com&quot;</span>
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/opt&quot;</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx 
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx 
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span> 
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot 
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /usr/share/nginx/html 
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot 
    <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f init-container.yaml  </span>
pod/init-demo created
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>å› æ­¤ï¼ŒPodä¸­ä¼šæœ‰è¿™å‡ ç§ç±»å‹çš„å®¹å™¨ï¼š</strong></p> <ul><li><p><strong><code>Infrastructure Container:</code></strong> åŸºç¡€å®¹å™¨</p> <ul><li>ç»´æŠ¤æ•´ä¸ªPodçš„ç½‘ç»œ</li></ul></li> <li><p><strong><code>InitContainersï¼š</code></strong> åˆå§‹åŒ–å®¹å™¨</p> <ul><li>å…ˆäºä¸šåŠ¡å®¹å™¨å¼€å§‹æ‰§è¡Œ</li></ul></li> <li><p><strong><code>Containersï¼š</code></strong> ä¸šåŠ¡å®¹å™¨</p> <ul><li>å¹¶è¡Œå¯åŠ¨</li></ul></li></ul> <h3 id="podå¯¹è±¡-é™æ€pod"><a href="#podå¯¹è±¡-é™æ€pod" class="header-anchor">#</a> Podå¯¹è±¡ï¼šé™æ€Pod</h3> <ul><li><p><em>é™æ€ Podï¼ˆStatic Podï¼‰</em> ç›´æ¥ç”±ç‰¹å®šèŠ‚ç‚¹ä¸Šçš„ <code>kubelet</code> å®ˆæŠ¤è¿›ç¨‹ç®¡ç†ï¼Œ ä¸éœ€è¦<a href="https://kubernetes.io/zh/docs/reference/command-line-tools-reference/kube-apiserver/" target="_blank" rel="noopener noreferrer">API æœåŠ¡å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çœ‹åˆ°å®ƒä»¬ã€‚ å°½ç®¡å¤§å¤šæ•° Pod éƒ½æ˜¯é€šè¿‡æ§åˆ¶é¢ï¼ˆä¾‹å¦‚ï¼Œ<a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼‰ æ¥ç®¡ç†çš„ï¼Œå¯¹äºé™æ€ Pod è€Œè¨€ï¼Œ<code>kubelet</code> ç›´æ¥ç›‘æ§æ¯ä¸ª Podï¼Œå¹¶åœ¨å…¶å¤±æ•ˆæ—¶é‡å¯ä¹‹ã€‚</p></li> <li><p>é™æ€ Pod é€šå¸¸ç»‘å®šåˆ°æŸä¸ªèŠ‚ç‚¹ä¸Šçš„ <a href="https://kubernetes.io/docs/reference/generated/kubelet" target="_blank" rel="noopener noreferrer">kubelet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ å…¶ä¸»è¦ç”¨é€”æ˜¯è¿è¡Œè‡ªæ‰˜ç®¡çš„æ§åˆ¶é¢ã€‚ åœ¨è‡ªæ‰˜ç®¡åœºæ™¯ä¸­ï¼Œä½¿ç”¨ <code>kubelet</code> æ¥ç®¡ç†å„ä¸ªç‹¬ç«‹çš„ <a href="https://kubernetes.io/zh/docs/concepts/overview/components/#control-plane-components" target="_blank" rel="noopener noreferrer">æ§åˆ¶é¢ç»„ä»¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></li> <li><p><code>kubelet</code> è‡ªåŠ¨å°è¯•ä¸ºæ¯ä¸ªé™æ€ Pod åœ¨ Kubernetes API æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ª <a href="https://kubernetes.io/zh/docs/reference/glossary/?all=true#term-mirror-pod" target="_blank" rel="noopener noreferrer">é•œåƒ Pod<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ è¿™æ„å‘³ç€åœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œçš„ Pod åœ¨ API æœåŠ¡å™¨ä¸Šæ˜¯å¯è§çš„ï¼Œä½†ä¸å¯ä»¥é€šè¿‡ API æœåŠ¡å™¨æ¥æ§åˆ¶ã€‚</p></li> <li><p><strong>è¯´æ˜ï¼š</strong></p> <p>é™æ€ Pod çš„ <code>spec</code> ä¸èƒ½å¼•ç”¨å…¶ä»–çš„ API å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼š<a href="https://kubernetes.io/zh/docs/tasks/configure-pod-container/configure-service-account/" target="_blank" rel="noopener noreferrer">ServiceAccount<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://kubernetes.io/zh/docs/tasks/configure-pod-container/configure-pod-configmap/" target="_blank" rel="noopener noreferrer">ConfigMap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://kubernetes.io/zh/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer">Secret<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ç­‰ï¼‰ã€‚</p></li></ul> <h3 id="é™æ€podçš„ç‰¹ç‚¹"><a href="#é™æ€podçš„ç‰¹ç‚¹" class="header-anchor">#</a> é™æ€Podçš„ç‰¹ç‚¹ï¼š</h3> <ul><li><strong>Podç”±ç‰¹å®šèŠ‚ç‚¹ä¸Šçš„kubeletç®¡ç†</strong></li> <li><strong>ä¸èƒ½ä½¿ç”¨æ§åˆ¶å™¨</strong></li> <li><strong>Podçš„åç§°æ ‡è¯†å½“å‰èŠ‚ç‚¹çš„åç§°</strong></li> <li><strong>åœ¨kubeletçš„é…ç½®æ–‡ä»¶ä¸‹å¯åŠ¨Podæ— æ³•ä½¿ç”¨kubectlåˆ é™¤ï¼Œåªèƒ½åˆ é™¤yamlæ–‡ä»¶ï¼Œæ–¹ä¾¿æ›´æ–°æ•°æ®</strong></li></ul> <h3 id="åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod"><a href="#åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod" class="header-anchor">#</a> åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€Podï¼š</h3> <div class="language-http line-numbers-mode"><pre class="language-http"><code>[root@master ~]# cat /var/lib/kubelet/config.yaml | grep staticPodPath:
<span class="token header"><span class="token header-name keyword">staticPodPath</span><span class="token punctuation">:</span> <span class="token header-value">/etc/kubernetes/manifests</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/kubernetes/manifests/</span>
<span class="token punctuation">[</span>root@master manifests<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">run</span><span class="token punctuation">:</span> mypod1
  <span class="token key atrule">name</span><span class="token punctuation">:</span> static<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
    <span class="token key atrule">name</span><span class="token punctuation">:</span> mypod1
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/bin/sh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sleep 360000&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h2> <img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1c2.png" style="zoom:67%;"> <h3 id="deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹"><a href="#deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹" class="header-anchor">#</a> Deploymentï¼šåº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</h3> <img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1cb.png" style="zoom:67%;"> <h3 id="deployment-éƒ¨ç½²åº”ç”¨"><a href="#deployment-éƒ¨ç½²åº”ç”¨" class="header-anchor">#</a> Deploymentï¼šéƒ¨ç½²åº”ç”¨</h3> <ul><li><strong>åˆ›å»ºdeploymentçš„yamlæ–‡ä»¶</strong></li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat deployment.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> default
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span> 				<span class="token comment"># Podå‰¯æœ¬é¢„æœŸæ•°é‡</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> web
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> web 			<span class="token comment"># Podå‰¯æœ¬çš„æ ‡ç­¾</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> web
        <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li><strong>éƒ¨ç½²nginxé•œåƒ</strong></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f deployment.yaml  </span>
deployment.apps/web unchanged
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  deployment </span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
web    <span class="token number">2</span>/3     <span class="token number">2</span>            <span class="token number">2</span>           3m
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="deployment-æ»šåŠ¨å‡çº§"><a href="#deployment-æ»šåŠ¨å‡çº§" class="header-anchor">#</a> Deploymentï¼šæ»šåŠ¨å‡çº§</h3> <p><strong><code>ç¬¬äºŒæ­¥ï¼šåº”ç”¨å‡çº§ï¼ˆæ›´æ–°é•œåƒä¸‰ç§æ–¹å¼ï¼‰</code></strong></p> <ul><li>kubectl apply -f xxx.yaml</li> <li>kubectl set image deployment/web nginx=nginx:1.16</li> <li>kubectl edit deployment/web</li> <li>æ»šåŠ¨å‡çº§ï¼šK8så¯¹Podå‡çº§çš„é»˜è®¤ç­–ç•¥ï¼Œé€šè¿‡ä½¿ ç”¨æ–°ç‰ˆæœ¬Podé€æ­¥æ›´æ–°æ—§ç‰ˆæœ¬Podï¼Œå®ç°é›¶åœæœº å‘å¸ƒï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚</li></ul> <p><strong>ä½¿ç”¨kubectl setå®ç°æ»šåŠ¨å‡çº§</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment">#  kubectl set image deployment/web  web=nginx:1.16  </span>
deployment.apps/web image updated
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1d3.png" style="zoom:67%;"> <h3 id="deployment-æ°´å¹³æ‰©ç¼©å®¹"><a href="#deployment-æ°´å¹³æ‰©ç¼©å®¹" class="header-anchor">#</a> Deploymentï¼šæ°´å¹³æ‰©ç¼©å®¹</h3> <p><strong><code>ç¬¬ä¸‰æ­¥ï¼šæ°´å¹³æ‰©ç¼©å®¹ï¼ˆå¯åŠ¨å¤šå®ä¾‹ï¼Œæé«˜å¹¶å‘ï¼‰</code></strong></p> <ul><li><p>ä¿®æ”¹yamlé‡Œreplicaså€¼ï¼Œå†apply</p></li> <li><p>kubectl scale deployment web --replicas=10</p> <p>æ³¨ï¼šreplicaså‚æ•°æ§åˆ¶Podå‰¯æœ¬æ•°é‡</p></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl scale deployment/web --replicas=10 </span>
deployment.apps/web scaled

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  deployment</span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
web    <span class="token number">2</span>/10    <span class="token number">0</span>            <span class="token number">2</span>           16m
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="deployment-å›æ»š"><a href="#deployment-å›æ»š" class="header-anchor">#</a> Deploymentï¼šå›æ»š</h3> <p><strong><code>ç¬¬å››æ­¥ï¼šå›æ»šï¼ˆå‘å¸ƒå¤±è´¥æ¢å¤æ­£å¸¸ç‰ˆæœ¬ï¼‰</code></strong></p> <ul><li>kubectl rollout history deployment/web # æŸ¥çœ‹å†å²å‘å¸ƒç‰ˆæœ¬</li> <li>kubectl rollout undo deployment/web # å›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬</li> <li>kubectl rollout undo deployment/web --to-revision=2 # å›æ»šå†å²æŒ‡å®šç‰ˆæœ¬</li> <li>æ³¨ï¼šå›æ»šæ˜¯é‡æ–°éƒ¨ç½²æŸä¸€æ¬¡éƒ¨ç½²æ—¶çš„çŠ¶æ€ï¼Œå³å½“æ—¶ç‰ˆæœ¬æ‰€æœ‰é…ç½®</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout history deployment/web </span>
deployment.apps/web 
REVISION  CHANGE-CAUSE
<span class="token number">1</span>         <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
<span class="token number">2</span>         <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout undo deployment/web        </span>
deployment.apps/web rolled back

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout undo deployment/web --to-revision=2 </span>
deployment.apps/web rolled back
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="deployment-åˆ é™¤"><a href="#deployment-åˆ é™¤" class="header-anchor">#</a> Deploymentï¼šåˆ é™¤</h3> <p><strong><code>æœ€åï¼Œé¡¹ç›®ä¸‹çº¿ï¼š</code></strong></p> <ul><li>kubectl delete deploy/web</li> <li>kubectl delete svc/web</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete deployment/web </span>
deployment.apps <span class="token string">&quot;web&quot;</span> deleted
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶"><a href="#deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶" class="header-anchor">#</a> Deploymentï¼šæ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</h3> <p><strong><code>æ»šåŠ¨æ›´æ–°ç­–ç•¥</code></strong></p> <p>æ¯æ¬¡åªå‡çº§ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ï¼Œå‡çº§å®ŒæˆåŠ å…¥ç”Ÿäº§ç¯å¢ƒï¼Œä¸æ–­æ‰§è¡Œè¿™ä¸ªè¿‡ ç¨‹ï¼Œç›´åˆ°é›†ç¾¤ä¸­çš„å…¨éƒ¨æ—§ç‰ˆå‡çº§æ–°ç‰ˆæœ¬ã€‚</p> <p><strong>ç‰¹ç‚¹ï¼š</strong></p> <ul><li>ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œå¹³æ»‘è¿‡æ¸¡</li></ul> <p><strong>ç¼ºç‚¹ï¼š</strong></p> <ul><li>éƒ¨ç½²å‘¨æœŸé•¿</li> <li>å‘å¸ƒç­–ç•¥è¾ƒå¤æ‚</li></ul> <h2 id="replicationcontrollerå’Œreplicaset"><a href="#replicationcontrollerå’Œreplicaset" class="header-anchor">#</a> ReplicationControllerå’ŒReplicaSet</h2> <h3 id="replicationcontroller"><a href="#replicationcontroller" class="header-anchor">#</a> ReplicationController</h3> <ul><li><code>å®é™…å·¥ä½œä¸­ï¼Œå¾ˆå°‘å•ç‹¬æ“ä½œPodçš„ï¼Œä¹‹æ‰€ä»¥k8sèƒ½å¤Ÿâ€œè‡ªæ„ˆâ€ï¼Œå°±æ˜¯é€šè¿‡rcï¼ˆReplicationControllerï¼‰ã€rsï¼ˆReplicaSetï¼‰ã€Deploymentç­‰è¿™äº›ç»„ä»¶ï¼Œå†åŠ ä¸Šk8sæ ¸å¿ƒcontrollerå·¥ä½œæœºåˆ¶æ¥å®ç°çš„ã€‚</code></li> <li><code>ReplicationControllerï¼ˆç®€ç§°ä¸ºRCï¼‰ã€‚</code> åœ¨æ—§ç‰ˆæœ¬çš„Kubernetesä¸­ï¼Œåªæœ‰ReplicationControllerå¯¹è±¡ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ç¡®ä¿Podä»¥ä½ æŒ‡å®šçš„å‰¯æœ¬æ•°è¿è¡Œï¼Œå³å¦‚æœæœ‰å®¹å™¨å¼‚å¸¸é€€å‡ºï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„ Pod æ¥æ›¿ä»£ï¼›è€Œå¼‚å¸¸å¤šå‡ºæ¥çš„å®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨å›æ”¶ã€‚å¯ä»¥è¯´ï¼Œé€šè¿‡ReplicationControllerï¼ŒKuberneteså®ç°äº†é›†ç¾¤çš„é«˜å¯ç”¨æ€§ã€‚</li> <li><code>ReplicationControllerï¼ˆrcï¼‰åœ¨æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œå·²ç»è¢«ReplicaSetï¼ˆrsï¼‰æ›¿æ¢äº†ï¼Œç›¸å¯¹äºrcï¼Œrsæœ‰æ›´å¥½çš„æ ‡ç­¾æ§åˆ¶ç­–ç•¥ã€‚</code>å¯¹äºpodå‰¯æœ¬çš„æ§åˆ¶ä½œç”¨ï¼Œrså’Œrcçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚**</li></ul> <h3 id="replicationcontrollerçš„ä½¿ç”¨"><a href="#replicationcontrollerçš„ä½¿ç”¨" class="header-anchor">#</a> ReplicationControllerçš„ä½¿ç”¨</h3> <ul><li>åˆ›å»ºä¸€ä¸ªRC</li> <li>å¿«é€Ÿç”Ÿæˆä¸€ä¸ªdeploymentç„¶åä¿®æ”¹ç±»å‹ä¸ºreplicationcontroller</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat  nginx.yaml 									</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1						<span class="token comment">#apiçš„ç‰ˆæœ¬ç”¨v1ï¼Œdeploymenté»˜è®¤æ˜¯apps/v1</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicationController			<span class="token comment">#æŒ‡å®šèµ„æºç±»å‹æ˜¯ReplicationController</span>
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>						<span class="token comment">#å‰¯æœ¬æ§åˆ¶åœ¨3</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc					<span class="token comment">#æ ‡ç­¾é€‰æ‹©å™¨</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f replicationcontroller.yaml </span>
replicationcontroller/test<span class="token punctuation">-</span>rc created
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>éªŒè¯æ“ä½œ</strong></p> <ul><li>æŸ¥çœ‹ç”Ÿæˆçš„rcï¼ŒæŸ¥çœ‹podå‰¯æœ¬æ•°ã€‚</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete rc nginx-demo </span>
replicationcontroller <span class="token string">&quot;nginx-demo&quot;</span> deleted
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get rc</span>
NAME      DESIRED   CURRENT   READY   AGE
test-rc   <span class="token number">3</span>         <span class="token number">3</span>         <span class="token number">3</span>       2m53s
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-v952c   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-vr252   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-x42p9   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>æ“ä½œpodï¼ŒéªŒè¯rcçš„å‰¯æœ¬æ§åˆ¶æ•ˆæœã€‚</p></blockquote> <ul><li>å¯ä»¥ç›´æ¥åˆ é™¤podï¼Œä½†ç”±äºrcè®¾ç½®äº†ç›®æ ‡å‰¯æœ¬æ•°â€”â€”3ä¸ªï¼Œæ‰€ä»¥ä½¿ç”¨kubectl deleteå‘½ä»¤åˆ é™¤podåï¼Œåˆä¼šé©¬ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„podï¼Œä»¥ä¾¿ç»´æŒ3ä¸ªå‰¯æœ¬ã€‚</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-v952c   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-vr252   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-x42p9   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete pods --all</span>
pod <span class="token string">&quot;test-rc-v952c&quot;</span> deleted
pod <span class="token string">&quot;test-rc-vr252&quot;</span> deleted
pod <span class="token string">&quot;test-rc-x42p9&quot;</span> deleted

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS              RESTARTS   AGE
test-rc-dwqpf   <span class="token number">0</span>/1     ContainerCreating   <span class="token number">0</span>          19s
test-rc-r2pjp   <span class="token number">0</span>/1     ContainerCreating   <span class="token number">0</span>          19s
test-rc-s4j58   <span class="token number">1</span>/1     Running             <span class="token number">0</span>          19s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹"><a href="#ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹" class="header-anchor">#</a> <strong>ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹</strong></h3> <ul><li>å¯¹å…¶Podè¿›è¡Œæ‰©å±•ä¼¸ç¼©ï¼Œæ‰©å±•åˆ°5ä¸ªå‰¯æœ¬</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl scale replicationcontroller test-rc --replicas=5</span>
replicationcontroller/test-rc scaled

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-dwqpf   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-f75hw   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33s
test-rc-r2pjp   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-s4j58   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-w6tdr   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="replicaset"><a href="#replicaset" class="header-anchor">#</a> ReplicaSet</h2> <ul><li><p><strong>Kuberneteså®˜æ–¹å¼ºçƒˆå»ºè®®é¿å…ç›´æ¥ä½¿ç”¨ReplicaSetï¼Œè€Œåº”è¯¥é€šè¿‡Deploymentæ¥åˆ›å»ºRSå’ŒPodã€‚ç”±äºReplicaSetæ˜¯ReplicationControllerçš„ä»£æ›¿ç‰©ï¼Œå› æ­¤ç”¨æ³•åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºReplicaSetæ”¯æŒé›†åˆå¼çš„selectorã€‚</strong></p></li> <li><p><strong>ä½œä¸ºReplicationControllerçš„ä¸‹ä¸€ä»£ï¼Œæ”¯æŒæ–°çš„åŸºäºé›†åˆçš„æ ‡ç­¾é€‰æ‹©ç®—ç¬¦ã€‚</strong></p></li></ul> <h3 id="replicasetæ§åˆ¶å™¨ç”¨é€”"><a href="#replicasetæ§åˆ¶å™¨ç”¨é€”" class="header-anchor">#</a> <strong>ReplicaSetæ§åˆ¶å™¨ç”¨é€”ï¼š</strong></h3> <p><strong>Podå‰¯æœ¬æ•°é‡ç®¡ç†ï¼Œä¸æ–­å¯¹æ¯”å½“å‰Podæ•°é‡ä¸æœŸæœ›Podæ•°é‡</strong></p> <p><strong>Deploymentæ¯æ¬¡å‘å¸ƒéƒ½ä¼šåˆ›å»ºä¸€ä¸ªRSä½œä¸ºè®°å½•ï¼Œç”¨äºå®ç°å›æ»š</strong></p> <ul><li><strong>kubectl get rs #æŸ¥çœ‹RSè®°å½•</strong></li> <li><strong>kubectl rollout history deployment web #ç‰ˆæœ¬å¯¹åº”RSè®°å½•</strong></li></ul> <h3 id="replicasetçš„ä½¿ç”¨"><a href="#replicasetçš„ä½¿ç”¨" class="header-anchor">#</a> ReplicaSetçš„ä½¿ç”¨</h3> <ul><li><p>åˆ›å»ºä¸€ä¸ªRS</p></li> <li><p>åˆ›å»ºä¸€ä¸ªreplicasetçš„yaml</p></li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat replicaset.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">tier</span><span class="token punctuation">:</span> frontend
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">tier</span><span class="token punctuation">:</span> fronted
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">tier</span><span class="token punctuation">:</span> fronted
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f replicaset.yaml </span>
replicaset.apps/nginx created
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>è¡ŒéªŒè¯replicasetå’Œpodsçš„æ•°é‡</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get replicaset</span>
NAME    DESIRED   CURRENT   READY   AGE
nginx   <span class="token number">3</span>         <span class="token number">3</span>         <span class="token number">3</span>       3m1s

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods</span>
NAME          READY   STATUS    RESTARTS   AGE
nginx-75rjb   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
nginx-87ncr   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
nginx-xsw76   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>###ReplicaSetçš„ä¼¸ç¼©</p> <ul><li><p><code>ä½¿ç”¨Horizontal Pod Autoscalerï¼ˆHPAï¼‰</code></p></li> <li><p>RSå¯ä»¥é€šè¿‡HPAæ¥æ ¹æ®ä¸€äº›è¿è¡Œæ—¶æŒ‡æ ‡å®ç°è‡ªåŠ¨ä¼¸ç¼©ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p></li> <li><p>ä¸‹é¢çš„æè¿°æ–‡ä»¶ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºfrontend-scalerçš„HorizontalPodAutoscalerï¼Œå®ƒä¼šæ ¹æ®CPUçš„è¿è¡Œå‚æ•°æ¥å¯¹åä¸ºfrontendçš„RSè¿›è¡Œè‡ªåŠ¨ä¼¸ç¼©ã€‚</p></li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat  hpa.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend<span class="token punctuation">-</span>scaler
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
    <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend			<span class="token comment">#è¿™é‡Œå°±å¯ä»¥ç»‘å®šä¸Šé¢çš„æ ‡è®°å¯¹åº”çš„frontend</span>
  <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">targetCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>æŸ¥çœ‹hpaçš„è¯¦ç»†</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f hpa.yaml </span>
horizontalpodautoscaler.autoscaling/frontend-scaler created

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa </span>
NAME              REFERENCE             TARGETS         MINPODS   MAXPODS   REPLICAS   AGE
frontend-scaler   ReplicaSet/frontend   <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">3</span>         <span class="token number">10</span>        <span class="token number">0</span>          5s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p>æœ€åæˆ‘ä»¬æ€»ç»“ä¸‹å…³äº RC / RS çš„â¼€äº›ç‰¹æ€§å’Œä½œâ½¤å§ï¼š</p></li> <li><p>â¼¤éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰â¼€ä¸ª RC å®ç°çš„ Pod çš„åˆ›å»ºå’Œå‰¯æœ¬æ•°</p></li> <li><p>RC ä¸­åŒ…å«â¼€ä¸ªå®Œæ•´çš„ Pod å®šä¹‰æ¨¡å—ï¼ˆä¸åŒ…å« apiversion å’Œ kind)</p></li> <li><p>RC æ˜¯é€šè¿‡ label selector æœºåˆ¶æ¥å®ç°å¯¹ Pod å‰¯æœ¬</p></li> <li><p>é€šè¿‡æ”¹å˜ RC â¾¥â¾¯çš„ Pod å‰¯æœ¬æ•°é‡ï¼Œå¯ä»¥å®ç° Pod çš„æ‰©</p></li> <li><p>é€šè¿‡æ”¹å˜ RC â¾¥â¾¯çš„ Pod æ¨¡æ¿ä¸­é•œåƒç‰ˆæœ¬ï¼Œå¯ä»¥å®ç° Pod çš„æ»šåŠ¨å‡çº§åŠŸèƒ½ï¼ˆä½†æ˜¯ä¸â½€æŒâ¼€é”®å› æ»šï¼Œéœ€è¦â½¤ç›¸åŒçš„â½…æ³•å»ä¿®æ”¹é•œåƒåœ°å€ï¼‰</p></li></ul> <h2 id="hpa"><a href="#hpa" class="header-anchor">#</a> HPA</h2> <h3 id="hpaçš„ç®€è¦æ¦‚è¿°"><a href="#hpaçš„ç®€è¦æ¦‚è¿°" class="header-anchor">#</a> HPAçš„ç®€è¦æ¦‚è¿°</h3> <ul><li>Kubernetes ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·â¼€ä¸ªèµ„æºå¯¹è±¡ï¼š <code>Horizontal Pod Autoscaling ï¼ˆPodâ½”å¹³â¾ƒåŠ¨ ä¼¸ç¼©ï¼‰</code>ï¼Œç®€ç§° HPA ã€‚ HAP é€šè¿‡ç›‘æ§åˆ†æ RC æˆ–è€… Deployment æ§åˆ¶çš„æ‰€æœ‰ Pod çš„è´Ÿè½½å˜åŒ–æƒ…å†µæ¥ç¡®å®š æ˜¯å¦éœ€è¦è°ƒæ•´ Pod çš„å‰¯æœ¬æ•°é‡ï¼Œè¿™æ˜¯ HPA æœ€åŸºæœ¬çš„åŸç†ã€‚</li></ul> <img src="https://pic.imgdb.cn/item/61ebeefb2ab3f51d9115f0d9.png" style="zoom:67%;"> <ul><li><p>HPA åœ¨ kubernetes é›†ç¾¤ä¸­è¢«è®¾è®¡æˆâ¼€ä¸ª controller ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„é€šè¿‡ kubectl autoscale å‘½ä»¤ æ¥åˆ›å»ºâ¼€ä¸ª HPA èµ„æºå¯¹è±¡ï¼Œ HPA Controller é»˜è®¤30sè½®è¯¢â¼€æ¬¡ï¼ˆå¯é€šè¿‡ kube-controller-manager çš„æ ‡å¿— --horizontal-pod-autoscaler-sync-period è¿›â¾è®¾ç½®ï¼‰ï¼ŒæŸ¥è¯¢æŒ‡å®šçš„èµ„æºï¼ˆRCæˆ–è€… Deploymentï¼‰ä¸­ Pod çš„èµ„æºä½¿â½¤ç‡ï¼Œå¹¶ä¸”ä¸åˆ›å»ºæ—¶è®¾å®šçš„å€¼å’ŒæŒ‡æ ‡åšå¯¹â½ï¼Œä»â½½å®ç°â¾ƒåŠ¨ä¼¸ç¼©çš„åŠŸèƒ½ã€‚</p></li> <li><p>ç›®å‰ä¸»è¦åˆ†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œautoscaling/v1å’Œautoscaling/v2beta2ï¼Œv1ç‰ˆæœ¬åªæ”¯æŒ cpuï¼Œv2beta2ç‰ˆæœ¬æ”¯æŒ è‡ªå®šä¹‰ ï¼Œå†…å­˜ ï¼Œä½†æ˜¯ç›®å‰ä¹Ÿä»…ä»…æ˜¯å¤„äºbetaé˜¶æ®µã€‚</p></li></ul> <h3 id="å®‰è£…metrics-server"><a href="#å®‰è£…metrics-server" class="header-anchor">#</a> å®‰è£…Metrics Server</h3> <ul><li><p><code>HPAéœ€è¦ä»Metrics Serverä¸­è·å–Podçš„CPUå’Œå†…å­˜Metricsï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦è¾¾åˆ°è‡ªåŠ¨ä¼¸ç¼©é˜ˆå€¼ã€‚</code></p></li> <li><p>Kubernetesé›†ç¾¤ä½¿ç”¨Metrics Serveræ¥é‡‡é›†å®¹å™¨çš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç”¨æ¥ç›‘æ§Nodeå’ŒPodçš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¹¶ç”¨ä½œHPAï¼ˆè‡ªåŠ¨æ¨ªå‘æ‰©å±•ï¼‰ã€‚</p></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># wget https://github.com/kubernetes-sigs/metrics-server/releases/download/v0.3.7/components.yaml</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim components.yaml</span>
<span class="token punctuation">...</span>
<span class="token key atrule">containers</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> metrics<span class="token punctuation">-</span>server
<span class="token key atrule">image</span><span class="token punctuation">:</span> lizhenliang/metrics<span class="token punctuation">-</span>server<span class="token punctuation">:</span>v0.3.7 					<span class="token comment">#ä¿®æ”¹é•œåƒ</span>
<span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent
<span class="token key atrule">args</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>cert<span class="token punctuation">-</span>dir=/tmp
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>secure<span class="token punctuation">-</span>port=4443
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>kubelet<span class="token punctuation">-</span>insecure<span class="token punctuation">-</span>tls									<span class="token comment">#ä¸éªŒè¯kubeletæä¾›çš„httpsè¯ä¹¦</span>
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>kubelet<span class="token punctuation">-</span>preferred<span class="token punctuation">-</span>address<span class="token punctuation">-</span>types=InternalIP				<span class="token comment">#ä½¿ç”¨èŠ‚ç‚¹IPè¿æ¥kubelet</span>
<span class="token punctuation">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete -f components.yaml </span>
clusterrole.rbac.authorization.k8s.io <span class="token string">&quot;system:aggregated-metrics-reader&quot;</span> deleted
clusterrolebinding.rbac.authorization.k8s.io <span class="token string">&quot;metrics-server:system:auth-delegator&quot;</span> deleted
rolebinding.rbac.authorization.k8s.io <span class="token string">&quot;metrics-server-auth-reader&quot;</span> deleted
Warning: apiregistration.k8s.io/v1beta1 APIService is deprecated <span class="token keyword">in</span> v1.19+, unavailable <span class="token keyword">in</span> v1.22+<span class="token punctuation">;</span> use apiregistration.k8s.io/v1 APIService
apiservice.apiregistration.k8s.io <span class="token string">&quot;v1beta1.metrics.k8s.io&quot;</span> deleted
serviceaccount <span class="token string">&quot;metrics-server&quot;</span> deleted
deployment.apps <span class="token string">&quot;metrics-server&quot;</span> deleted
<span class="token function">service</span> <span class="token string">&quot;metrics-server&quot;</span> deleted
clusterrole.rbac.authorization.k8s.io <span class="token string">&quot;system:metrics-server&quot;</span> deleted
clusterrolebinding.rbac.authorization.k8s.io <span class="token string">&quot;system:metrics-server&quot;</span> deleted
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>æ£€æŸ¥ç›‘æ§èµ„æºæ˜¯å¦æ­£å¸¸è¿è¡Œ</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl top nodes</span>
NAME     CPU<span class="token punctuation">(</span>cores<span class="token punctuation">)</span>   CPU%   MEMORY<span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>   MEMORY%   
master   182m         <span class="token number">4</span>%     2166Mi          <span class="token number">28</span>%       
<span class="token function">node</span>     76m          <span class="token number">1</span>%     1818Mi          <span class="token number">23</span>%    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="hpaçš„ä½¿ç”¨"><a href="#hpaçš„ä½¿ç”¨" class="header-anchor">#</a> HPAçš„ä½¿ç”¨</h3> <ul><li>åˆ›å»ºâ¼€ä¸ª Deployment ç®¡ç†çš„ Nginx Podï¼Œç„¶ååˆ©â½¤ HPA æ¥è¿›â¾â¾ƒåŠ¨æ‰©ç¼©å®¹ã€‚</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat deployment.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">revisionHistoryLimit</span><span class="token punctuation">:</span> <span class="token number">15</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>æŸ¥çœ‹deploymentå’Œpod</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get deployments.apps </span>
NAME                   READY   UP-TO-DATE   AVAILABLE   AGE
hpa-nginx-deployment   <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           3m58s

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME                                    READY   STATUS    RESTARTS   AGE
hpa-nginx-deployment-7d546c5c67-qdkhm   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          4m2s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>åˆ›å»ºä¸€ä¸ªHPAï¼Œç”¨kubectl autoscaæ¥åˆ›å»º</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl autoscale deployment hpa-nginx-deployment --max=10 --min=1 --cpu-percent=50 --dry-run -o yaml &gt;&gt; hpa.yaml </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat hpa.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>		<span class="token comment">#æœ€å¤§ä¼¸ç¼©å‰¯æœ¬åˆ°10</span>
  <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span>		<span class="token comment">#æœ€å°ä¼¸ç¼©å‰¯æœ¬åˆ°1</span>
  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>		<span class="token comment">#ä¼¸ç¼©å‰¯æœ¬çš„æ¥æºï¼Œèµ„æºç±»å‹ï¼ŒRCï¼ŒRSï¼ŒDeployment</span>
    <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
    <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
  <span class="token key atrule">targetCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span>		<span class="token comment">#è§¦å‘ä¼¸ç¼©çš„cpuä½¿â½¤ç‡</span>
<span class="token key atrule">status</span><span class="token punctuation">:</span>
  <span class="token key atrule">currentCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">48</span> 		<span class="token comment">#å½“å‰èµ„æºä¸‹podçš„cpuä½¿â½¤ç‡</span>
  <span class="token key atrule">currentReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span> 						<span class="token comment">#å½“å‰çš„å‰¯æœ¬æ•°</span>
  <span class="token key atrule">desiredReplicas</span><span class="token punctuation">:</span> <span class="token number">2</span> 						<span class="token comment">#æœŸæœ›çš„å‰¯æœ¬æ•°</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>æŸ¥çœ‹hpaçš„åˆ›å»ºæ˜¯å¦æ­£ç¡®</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f hpa.yaml  </span>
horizontalpodautoscaler.autoscaling/hpa-nginx-deployment configured

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa</span>
NAME                   REFERENCE                         TARGETS         MINPODS   MAXPODS   REPLICAS   AGE
frontend-scaler        ReplicaSet/frontend               <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">3</span>         <span class="token number">10</span>        <span class="token number">0</span>          125m
hpa-nginx-deployment   Deployment/hpa-nginx-deployment   <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">1</span>         <span class="token number">10</span>        <span class="token number">1</span>          93s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½"><a href="#æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½" class="header-anchor">#</a> æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½</h3> <ul><li>æ‰“å¼€ä¸€ä¸ªæ–°çš„Terminalï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„pod <code>load-generator</code>ï¼Œå¹¶åœ¨è¯¥podä¸­å‘<code>php-apache</code>æœåŠ¡å‘èµ·ä¸é—´æ–­å¾ªç¯è¯·æ±‚ï¼Œæ¨¡æ‹Ÿå¢åŠ <code>php-apache</code>çš„è´Ÿè½½ï¼ˆCPUä½¿ç”¨ç‡ï¼‰ã€‚</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl run -i --tty load-generator --rm --image=busybox --restart=Never -- /bin/sh </span>
<span class="token comment">#/  while sleep 0.01; do wget -q -O- http://10.244.167.145; done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ¨¡æ‹Ÿå‹åŠ›æµ‹è¯•å‡ åˆ†é’Ÿåï¼Œè§‚å¯ŸHPAï¼š</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa php-apache</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>HPAæƒ…å†µç±»ä¼¼ï¼š</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>NAME         REFERENCE               TARGETS    MINPODS   MAXPODS   REPLICAS   AGE
php-apache   Deployment/php-apache   <span class="token number">250</span>%/50%   <span class="token number">1</span>         <span class="token number">10</span>        <span class="token number">5</span>          4m45s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><p>å¯ä»¥çœ‹åˆ°TARGETSï¼ˆCPUä½¿ç”¨ç‡ï¼‰çš„acutalå€¼å·²å‡é«˜åˆ°250% (è¶…è¿‡äº†æœŸæœ›å€¼50%)ï¼Œå‰¯æœ¬æ•°REPLICASä¹Ÿä»1è‡ªåŠ¨æ‰©å®¹åˆ°äº†5ã€‚</p></li> <li><p>æ³¨æ„ï¼šå¦‚æœKubernetesé›†ç¾¤workerèŠ‚ç‚¹çš„CPUèµ„æºå·²ç»ä¸è¶³ï¼ŒHPAè‡ªåŠ¨æ‰©å®¹ä¼šå¤±è´¥ï¼Œæ–°æ‰©å®¹çš„podä¼šä¸€ç›´å¤„åœ¨PendingçŠ¶æ€ã€‚é€šè¿‡kubectl describeå‘½ä»¤æŸ¥çœ‹podè¯¦ç»†ä¿¡æ¯æ—¶ï¼Œä¼šçœ‹åˆ°â€œInsufficient cpu&quot;çš„é”™è¯¯ä¿¡æ¯ã€‚</p></li></ul> <h2 id="job-å’Œ-cronjob"><a href="#job-å’Œ-cronjob" class="header-anchor">#</a> Job å’Œ Cronjob</h2> <ul><li><strong>å¦å¤–â¼€ç±»èµ„æºå¯¹è±¡ï¼šJobï¼Œæˆ‘ä»¬åœ¨â½‡å¸¸çš„â¼¯ä½œä¸­ç»å¸¸éƒ½ ä¼šé‡åˆ°â¼€äº›éœ€è¦è¿›â¾æ‰¹é‡æ•°æ®å¤„ç†å’Œåˆ†æçš„éœ€æ±‚ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰æŒ‰æ—¶é—´æ¥è¿›â¾è°ƒåº¦çš„â¼¯ä½œï¼Œåœ¨æˆ‘ä»¬ çš„ Kubernetes é›†ç¾¤ä¸­ä¸ºæˆ‘ä»¬æä¾›äº† Job å’Œ CronJob ä¸¤ç§èµ„æºå¯¹è±¡æ¥åº”å¯¹æˆ‘ä»¬çš„è¿™ç§éœ€æ±‚ã€‚</strong></li> <li><strong>Job è´Ÿè´£å¤„ç†ä»»åŠ¡ï¼Œå³ä»…æ‰§â¾â¼€æ¬¡çš„ä»»åŠ¡ï¼Œå®ƒä¿è¯æ‰¹å¤„ç†ä»»åŠ¡çš„â¼€ä¸ªæˆ–å¤šä¸ª Pod æˆåŠŸç»“æŸã€‚ â½½ CronJob åˆ™å°±æ˜¯åœ¨ Job ä¸ŠåŠ ä¸Šäº†æ—¶é—´è°ƒåº¦ã€‚</strong></li></ul> <h3 id="jobçš„ä½¿ç”¨"><a href="#jobçš„ä½¿ç”¨" class="header-anchor">#</a> Jobçš„ä½¿ç”¨</h3> <ul><li><p>æˆ‘ä»¬â½¤ Job è¿™ä¸ªèµ„æºå¯¹è±¡æ¥åˆ›å»ºâ¼€ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å®šâ¼€ä¸ª Job æ¥æ‰§â¾â¼€ä¸ªå€’è®¡æ—¶çš„ä»»åŠ¡ï¼Œå®šä¹‰ YAML â½‚ ä»¶ï¼š</p></li> <li><p>æ³¨æ„ Job çš„ <code>RestartPolicy ä»…â½€æŒ Never å’Œ OnFailure ä¸¤ç§</code>ï¼Œä¸â½€æŒ Always ï¼Œæˆ‘ä»¬çŸ¥é“ Job å°±ç›¸ å½“äºæ¥æ‰§â¾â¼€ä¸ªæ‰¹å¤„ç†ä»»åŠ¡ï¼Œæ‰§â¾å®Œå°±ç»“æŸäº†ï¼Œå¦‚æœâ½€æŒ Always çš„è¯å°±é™·â¼Šäº†æ­»å¾ªç¯äº†</p></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create job job-demo --image=busybox --dry-run -o yaml &gt; job.yaml </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat job.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Job
<span class="token key atrule">metadata</span><span class="token punctuation">:</span> 
  <span class="token key atrule">name</span><span class="token punctuation">:</span> job<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
        <span class="token key atrule">name</span><span class="token punctuation">:</span> job<span class="token punctuation">-</span>demo
        <span class="token key atrule">command</span><span class="token punctuation">:</span>  
        <span class="token punctuation">-</span> <span class="token string">&quot;/bin/sh&quot;</span> 
        <span class="token punctuation">-</span> <span class="token string">&quot;-c&quot;</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i; done&quot;</span>
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Never
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>ç„¶åæ¥åˆ›å»ºè¯¥ Job</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f job.yaml  </span>
job.batch/job-demo created.

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get job </span>
NAME       COMPLETIONS   DURATION   AGE
job-demo   <span class="token number">1</span>/1           17s        2m54s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>æ³¨æ„æŸ¥çœ‹æˆ‘ä»¬çš„ Pod çš„çŠ¶æ€ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ kubectl logs æ¥æŸ¥çœ‹å½“å‰ä»»åŠ¡çš„æ‰§â¾ç»“æœã€‚</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs job-demo-ntxgx job-demo </span>
<span class="token number">9</span>
<span class="token number">8</span>
<span class="token number">7</span>
<span class="token number">6</span>
<span class="token number">5</span>
<span class="token number">4</span>
<span class="token number">3</span>
<span class="token number">2</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="cronjobçš„ä½¿ç”¨"><a href="#cronjobçš„ä½¿ç”¨" class="header-anchor">#</a> CronJobçš„ä½¿ç”¨</h3> <ul><li><p>CronJob å…¶å®å°±æ˜¯åœ¨ Job çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†æ—¶é—´è°ƒåº¦ï¼Œæˆ‘ä»¬å¯ä»¥ï¼šåœ¨ç»™å®šçš„æ—¶é—´ç‚¹è¿â¾â¼€ä¸ªä»»åŠ¡ï¼Œä¹Ÿå¯ ä»¥å‘¨æœŸæ€§åœ°åœ¨ç»™å®šæ—¶é—´ç‚¹è¿â¾ã€‚è¿™ä¸ªå®é™…ä¸Šå’Œæˆ‘ä»¬ Linux ä¸­çš„ crontab å°±â¾®å¸¸ç±»ä¼¼äº†ã€‚</p></li> <li><p>â¼€ä¸ª CronJob å¯¹è±¡å…¶å®å°±å¯¹åº”ä¸­ crontab â½‚ä»¶ä¸­çš„â¼€â¾ï¼Œå®ƒæ ¹æ®é…ç½®çš„æ—¶é—´æ ¼å¼å‘¨æœŸæ€§åœ°è¿â¾â¼€ ä¸ª Job ï¼Œæ ¼å¼å’Œ crontab ä¹Ÿæ˜¯â¼€æ ·çš„ã€‚</p></li> <li><p><code>crontab çš„æ ¼å¼å¦‚ä¸‹ï¼š åˆ† æ—¶ â½‡ â½‰ æ˜ŸæœŸ è¦è¿â¾çš„å‘½ä»¤ ç¬¬1åˆ—åˆ†é’Ÿ0ï½59 ç¬¬2åˆ—â¼©æ—¶0ï½23ï¼‰ ç¬¬3åˆ—â½‡1ï½31 ç¬¬4åˆ—â½‰1ï½ 12 ç¬¬5åˆ—æ˜ŸæœŸ0ï½7ï¼ˆ0å’Œ7è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰ ç¬¬6åˆ—è¦è¿â¾çš„å‘½ä»¤</code></p></li></ul> <h3 id="cron-æ—¶é—´è¡¨è¯­æ³•"><a href="#cron-æ—¶é—´è¡¨è¯­æ³•" class="header-anchor">#</a> Cron æ—¶é—´è¡¨è¯­æ³•</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶åŒº (å¯é€‰)</span>
<span class="token comment">#      |      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0 - 59)</span>
<span class="token comment">#      |      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0 - 23)</span>
<span class="token comment">#      |      â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆçš„æŸå¤© (1 - 31)</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ month (1 - 12)</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨çš„æŸå¤© (0 - 6)ï¼ˆå‘¨æ—¥åˆ°å‘¨ä¸€ï¼›åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œ7 ä¹Ÿæ˜¯æ˜ŸæœŸæ—¥ï¼‰</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚                                </span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># CRON_TZ=UTC * * * * *</span>
<span class="token comment"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0 - 59)</span>
<span class="token comment"># â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0 - 23)</span>
<span class="token comment"># â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆçš„æŸå¤© (1 - 31)</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (1 - 12)</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨çš„æŸå¤© (0 - 6) ï¼ˆå‘¨æ—¥åˆ°å‘¨ä¸€ï¼›åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œ7 ä¹Ÿæ˜¯æ˜ŸæœŸæ—¥ï¼‰</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚                                   </span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment"># * * * * *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>ç°åœ¨ï¼Œæˆ‘ä»¬â½¤ CronJob æ¥ç®¡ç†æˆ‘ä»¬ä¸Šâ¾¯çš„ Job ä»»åŠ¡</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create cronjob cronjob-demo --image=busybox   --schedule &quot;*/1 * * * *&quot;  --dry-run -o yaml &gt; cronjob.yaml </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat cronjob1.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1beta1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> CronJob
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">jobTemplate</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">template</span><span class="token punctuation">:</span>
        <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
        <span class="token key atrule">spec</span><span class="token punctuation">:</span>
          <span class="token key atrule">containers</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
            <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
            <span class="token key atrule">args</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;bin/sh&quot;</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;-c&quot;</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i; done&quot;</span>
          <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> OnFailure
  <span class="token key atrule">schedule</span><span class="token punctuation">:</span> <span class="token string">'*/1 * * * *'</span>
  
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f cronjob1.yaml </span>
cronjob.batch/cronjob<span class="token punctuation">-</span>demo1 created
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li><p>è¿™â¾¥çš„ Kind æ˜¯ CronJob äº†ï¼Œè¦æ³¨æ„çš„æ˜¯ .spec.schedule å­—æ®µæ˜¯å¿…é¡»å¡«å†™çš„ï¼Œâ½¤æ¥æŒ‡å®šä»»åŠ¡è¿â¾ çš„å‘¨æœŸï¼Œæ ¼å¼å°±å’Œ <code>crontab</code> â¼€æ ·ï¼Œå¦å¤–â¼€ä¸ªå­—æ®µæ˜¯ <code>.spec.jobTemplate</code> , â½¤æ¥æŒ‡å®šéœ€è¦è¿â¾çš„ä»»åŠ¡ï¼Œæ ¼ å¼å½“ç„¶å’Œ Job æ˜¯â¼€è‡´çš„</p></li> <li><p>æ®µ <code>.spec.successfulJobsHistoryLimit</code> å’Œ <code>.spec.failedJobsHistoryLimit</code> ï¼Œè¡¨ç¤ºå†å²é™åˆ¶ï¼Œæ˜¯å¯é€‰çš„ å­—æ®µã€‚å®ƒä»¬æŒ‡å®šäº†å¯ä»¥ä¿ç•™å¤šå°‘å®Œæˆå’Œå¤±è´¥çš„ Job ï¼Œé»˜è®¤æ²¡æœ‰é™åˆ¶ï¼Œæ‰€æœ‰æˆåŠŸå’Œå¤±è´¥çš„ Job éƒ½ä¼šè¢«ä¿ ç•™ã€‚ç„¶â½½ï¼Œå½“è¿â¾â¼€ä¸ª Cron Job æ—¶ï¼Œ Job å¯ä»¥å¾ˆå¿«å°±å †ç§¯å¾ˆå¤šï¼Œæ‰€ä»¥â¼€èˆ¬æ¨èè®¾ç½®è¿™ä¸¤ä¸ªå­—æ®µçš„ å€¼ã€‚å¦‚æœè®¾ç½®é™åˆ¶çš„å€¼ä¸º 0ï¼Œé‚£ä¹ˆç›¸å…³ç±»å‹çš„ Job å®Œæˆåå°†ä¸ä¼šè¢«ä¿ç•™ã€‚</p></li> <li><p>æŸ¥çœ‹å½“å‰çš„cronjob</p></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get cronjobs.batch </span>
NAME            SCHEDULE      SUSPEND   ACTIVE   LAST SCHEDULE   AGE
cronjob-demo1   */1 * * * *   False     <span class="token number">1</span>        11s             11m

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get jobs </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636527840   <span class="token number">1</span>/1           17s        3m
cronjob-demo1-1636527900   <span class="token number">1</span>/1           17s        2m
cronjob-demo1-1636527960   <span class="token number">1</span>/1           17s        60s
job-demo                   <span class="token number">1</span>/1           17s        49m
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>ä¹Ÿå¯ä»¥â½¤ kubectl runæ¥åˆ›å»ºâ¼€ä¸ªCronJobï¼š</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl run hello --schedule=&quot;*/1 * * * *&quot; --restart=OnFailure --image=busybox -- /bin/sh -c &quot;date; echo Hello from the Kubernetes cluster&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>è¿™å°†ä¼šç»ˆâ½Œæ­£åœ¨åˆ›å»ºçš„ Jobã€‚ç„¶â½½ï¼Œè¿â¾ä¸­çš„ Job å°†ä¸ä¼šè¢«ç»ˆâ½Œï¼Œä¸ä¼šåˆ é™¤ Job æˆ– å®ƒä»¬çš„ Podã€‚ä¸ºäº† æ¸…ç†é‚£äº› Job å’Œ Podï¼Œéœ€è¦åˆ—å‡ºè¯¥ Cron Job åˆ›å»ºçš„å…¨éƒ¨ Jobï¼Œç„¶ååˆ é™¤å®ƒä»¬ï¼š</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get job </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636528440   <span class="token number">1</span>/1           16s        3m
cronjob-demo1-1636528500   <span class="token number">1</span>/1           17s        2m
cronjob-demo1-1636528560   <span class="token number">1</span>/1           18s        60s
job-demo                   <span class="token number">1</span>/1           17s        59m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get jobs </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636528500   <span class="token number">1</span>/1           17s        2m45s
cronjob-demo1-1636528560   <span class="token number">1</span>/1           18s        105s
cronjob-demo1-1636528620   <span class="token number">1</span>/1           17s        45s
job-demo                   <span class="token number">1</span>/1           17s        60m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete cronjob --all</span>
cronjob.batch <span class="token string">&quot;cronjob-demo1&quot;</span> deleted
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/isicman/Vue/edit/master/docs/ã€ŠKubernetesã€‹å­¦ä¹ ç¬”è®°/01.å­¦ä¹ ç¬”è®°/06.Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/Vue/tags/?tag=Kubernetes" title="æ ‡ç­¾">#Kubernetes</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/Vue/pages/3ce2fd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Kubernetesç›‘æ§ä¸æ—¥å¿—ç®¡ç†</div></a> <a href="/Vue/pages/b5d485/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Kubernetesè°ƒåº¦</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/Vue/pages/3ce2fd/" class="prev">Kubernetesç›‘æ§ä¸æ—¥å¿—ç®¡ç†</a></span> <span class="next"><a href="/Vue/pages/b5d485/">Kubernetesè°ƒåº¦</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/Vue/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/Vue/pages/ace346/"><div>
            SpringBooté…ç½®æ–‡ä»¶
            <!----></div></a> <span class="date">07-27</span></dt></dl><dl><dd>02</dd> <dt><a href="/Vue/pages/69a126/"><div>
            æ•´åˆJunitå’ŒMybatis
            <!----></div></a> <span class="date">07-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/Vue/pages/3e651a/"><div>
            SpringBootå¿«é€Ÿå…¥é—¨
            <!----></div></a> <span class="date">07-27</span></dt></dl> <dl><dd></dd> <dt><a href="/Vue/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2022
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div></div></div></div>
    <script src="/Vue/assets/js/app.2f1a3b6e.js" defer></script><script src="/Vue/assets/js/2.3b495877.js" defer></script><script src="/Vue/assets/js/3.0279f92a.js" defer></script><script src="/Vue/assets/js/146.86e27014.js" defer></script><script src="/Vue/assets/js/4.cb69b0f7.js" defer></script>
  </body>
</html>
