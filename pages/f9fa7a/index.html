<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux三剑客实例详解</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/Vue/img/avatar.png">
    <meta name="description" content="暂且为空">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/Vue/assets/css/0.styles.0779c551.css" as="style"><link rel="preload" href="/Vue/assets/js/app.2f1a3b6e.js" as="script"><link rel="preload" href="/Vue/assets/js/2.3b495877.js" as="script"><link rel="preload" href="/Vue/assets/js/3.0279f92a.js" as="script"><link rel="preload" href="/Vue/assets/js/179.c3273c2d.js" as="script"><link rel="preload" href="/Vue/assets/js/4.cb69b0f7.js" as="script"><link rel="prefetch" href="/Vue/assets/js/10.c275bb5d.js"><link rel="prefetch" href="/Vue/assets/js/100.3bb1b0e4.js"><link rel="prefetch" href="/Vue/assets/js/101.a01d59f4.js"><link rel="prefetch" href="/Vue/assets/js/102.f419e012.js"><link rel="prefetch" href="/Vue/assets/js/103.bd5f9634.js"><link rel="prefetch" href="/Vue/assets/js/104.ed16bff2.js"><link rel="prefetch" href="/Vue/assets/js/105.8d8a884a.js"><link rel="prefetch" href="/Vue/assets/js/106.aa743e85.js"><link rel="prefetch" href="/Vue/assets/js/107.cf714f94.js"><link rel="prefetch" href="/Vue/assets/js/108.e6ec757c.js"><link rel="prefetch" href="/Vue/assets/js/109.24cd0706.js"><link rel="prefetch" href="/Vue/assets/js/11.af7952aa.js"><link rel="prefetch" href="/Vue/assets/js/110.b601f694.js"><link rel="prefetch" href="/Vue/assets/js/111.bddaa63e.js"><link rel="prefetch" href="/Vue/assets/js/112.9737407e.js"><link rel="prefetch" href="/Vue/assets/js/113.182a72b9.js"><link rel="prefetch" href="/Vue/assets/js/114.88e3528a.js"><link rel="prefetch" href="/Vue/assets/js/115.e6fb1e07.js"><link rel="prefetch" href="/Vue/assets/js/116.05edf9a6.js"><link rel="prefetch" href="/Vue/assets/js/117.3488639c.js"><link rel="prefetch" href="/Vue/assets/js/118.cb030e7c.js"><link rel="prefetch" href="/Vue/assets/js/119.36ed2122.js"><link rel="prefetch" href="/Vue/assets/js/12.a3654490.js"><link rel="prefetch" href="/Vue/assets/js/120.78f37852.js"><link rel="prefetch" href="/Vue/assets/js/121.33f9f917.js"><link rel="prefetch" href="/Vue/assets/js/122.db28c031.js"><link rel="prefetch" href="/Vue/assets/js/123.fae41aaa.js"><link rel="prefetch" href="/Vue/assets/js/124.6014ee0f.js"><link rel="prefetch" href="/Vue/assets/js/125.048d7ee9.js"><link rel="prefetch" href="/Vue/assets/js/126.79671cb1.js"><link rel="prefetch" href="/Vue/assets/js/127.b607fed5.js"><link rel="prefetch" href="/Vue/assets/js/128.6a5a1980.js"><link rel="prefetch" href="/Vue/assets/js/129.6bc2af6c.js"><link rel="prefetch" href="/Vue/assets/js/13.91a93260.js"><link rel="prefetch" href="/Vue/assets/js/130.31dc0318.js"><link rel="prefetch" href="/Vue/assets/js/131.1f4ef5a2.js"><link rel="prefetch" href="/Vue/assets/js/132.aad55f7b.js"><link rel="prefetch" href="/Vue/assets/js/133.850511a4.js"><link rel="prefetch" href="/Vue/assets/js/134.0f6b070c.js"><link rel="prefetch" href="/Vue/assets/js/135.ee7fea35.js"><link rel="prefetch" href="/Vue/assets/js/136.a46039e3.js"><link rel="prefetch" href="/Vue/assets/js/137.1c7ebf24.js"><link rel="prefetch" href="/Vue/assets/js/138.6a80ffa9.js"><link rel="prefetch" href="/Vue/assets/js/139.f958f7b4.js"><link rel="prefetch" href="/Vue/assets/js/14.58c9ae82.js"><link rel="prefetch" href="/Vue/assets/js/140.d1e73936.js"><link rel="prefetch" href="/Vue/assets/js/141.a9897e5f.js"><link rel="prefetch" href="/Vue/assets/js/142.2b20335e.js"><link rel="prefetch" href="/Vue/assets/js/143.4e6e434c.js"><link rel="prefetch" href="/Vue/assets/js/144.5910990e.js"><link rel="prefetch" href="/Vue/assets/js/145.5c556359.js"><link rel="prefetch" href="/Vue/assets/js/146.86e27014.js"><link rel="prefetch" href="/Vue/assets/js/147.6c4a48cf.js"><link rel="prefetch" href="/Vue/assets/js/148.86e97474.js"><link rel="prefetch" href="/Vue/assets/js/149.c2f69712.js"><link rel="prefetch" href="/Vue/assets/js/15.2ff73105.js"><link rel="prefetch" href="/Vue/assets/js/150.33cf046e.js"><link rel="prefetch" href="/Vue/assets/js/151.5e66e299.js"><link rel="prefetch" href="/Vue/assets/js/152.e56f28bb.js"><link rel="prefetch" href="/Vue/assets/js/153.ad838120.js"><link rel="prefetch" href="/Vue/assets/js/154.9cabe557.js"><link rel="prefetch" href="/Vue/assets/js/155.7fc9c59f.js"><link rel="prefetch" href="/Vue/assets/js/156.99beb2dc.js"><link rel="prefetch" href="/Vue/assets/js/157.2f6f138c.js"><link rel="prefetch" href="/Vue/assets/js/158.c2ebfe13.js"><link rel="prefetch" href="/Vue/assets/js/159.ecad0f76.js"><link rel="prefetch" href="/Vue/assets/js/16.afec3afd.js"><link rel="prefetch" href="/Vue/assets/js/160.a0c44de2.js"><link rel="prefetch" href="/Vue/assets/js/161.a02953aa.js"><link rel="prefetch" href="/Vue/assets/js/162.da6c21cd.js"><link rel="prefetch" href="/Vue/assets/js/163.ccd82bba.js"><link rel="prefetch" href="/Vue/assets/js/164.a5b2d27c.js"><link rel="prefetch" href="/Vue/assets/js/165.6306c9da.js"><link rel="prefetch" href="/Vue/assets/js/166.d30a40d2.js"><link rel="prefetch" href="/Vue/assets/js/167.576fbdd9.js"><link rel="prefetch" href="/Vue/assets/js/168.5132f3f2.js"><link rel="prefetch" href="/Vue/assets/js/169.4f7b6bda.js"><link rel="prefetch" href="/Vue/assets/js/17.cb0083c7.js"><link rel="prefetch" href="/Vue/assets/js/170.73f50e6b.js"><link rel="prefetch" href="/Vue/assets/js/171.0691ff72.js"><link rel="prefetch" href="/Vue/assets/js/172.5b3bffba.js"><link rel="prefetch" href="/Vue/assets/js/173.a821c842.js"><link rel="prefetch" href="/Vue/assets/js/174.c7954299.js"><link rel="prefetch" href="/Vue/assets/js/175.431864a2.js"><link rel="prefetch" href="/Vue/assets/js/176.d22b5dfb.js"><link rel="prefetch" href="/Vue/assets/js/177.b278b962.js"><link rel="prefetch" href="/Vue/assets/js/178.07cf1514.js"><link rel="prefetch" href="/Vue/assets/js/18.a09885e4.js"><link rel="prefetch" href="/Vue/assets/js/180.77ca26cf.js"><link rel="prefetch" href="/Vue/assets/js/181.788e42a1.js"><link rel="prefetch" href="/Vue/assets/js/182.8e7519e7.js"><link rel="prefetch" href="/Vue/assets/js/183.e54e78ae.js"><link rel="prefetch" href="/Vue/assets/js/184.22debe4b.js"><link rel="prefetch" href="/Vue/assets/js/185.e76ccf85.js"><link rel="prefetch" href="/Vue/assets/js/186.df4cb6e8.js"><link rel="prefetch" href="/Vue/assets/js/187.41fb453e.js"><link rel="prefetch" href="/Vue/assets/js/188.5bca0a92.js"><link rel="prefetch" href="/Vue/assets/js/189.3133bb55.js"><link rel="prefetch" href="/Vue/assets/js/19.13e3db6d.js"><link rel="prefetch" href="/Vue/assets/js/190.0b203720.js"><link rel="prefetch" href="/Vue/assets/js/191.ae34cdeb.js"><link rel="prefetch" href="/Vue/assets/js/192.c6b8de66.js"><link rel="prefetch" href="/Vue/assets/js/193.5350de54.js"><link rel="prefetch" href="/Vue/assets/js/194.9dc316f3.js"><link rel="prefetch" href="/Vue/assets/js/195.371cebb0.js"><link rel="prefetch" href="/Vue/assets/js/196.1164784c.js"><link rel="prefetch" href="/Vue/assets/js/197.824319f1.js"><link rel="prefetch" href="/Vue/assets/js/198.60a7beb3.js"><link rel="prefetch" href="/Vue/assets/js/199.5bcefde2.js"><link rel="prefetch" href="/Vue/assets/js/20.73bf2d20.js"><link rel="prefetch" href="/Vue/assets/js/200.b47e15ba.js"><link rel="prefetch" href="/Vue/assets/js/201.956ec86b.js"><link rel="prefetch" href="/Vue/assets/js/202.8a272715.js"><link rel="prefetch" href="/Vue/assets/js/203.0f429f03.js"><link rel="prefetch" href="/Vue/assets/js/204.278ee080.js"><link rel="prefetch" href="/Vue/assets/js/205.83c0fe12.js"><link rel="prefetch" href="/Vue/assets/js/206.ffdc349c.js"><link rel="prefetch" href="/Vue/assets/js/207.f165bca5.js"><link rel="prefetch" href="/Vue/assets/js/208.6991b2ef.js"><link rel="prefetch" href="/Vue/assets/js/209.c0418849.js"><link rel="prefetch" href="/Vue/assets/js/21.0a96b638.js"><link rel="prefetch" href="/Vue/assets/js/210.4257550c.js"><link rel="prefetch" href="/Vue/assets/js/211.097d1f31.js"><link rel="prefetch" href="/Vue/assets/js/212.ea96e672.js"><link rel="prefetch" href="/Vue/assets/js/213.2b921d6b.js"><link rel="prefetch" href="/Vue/assets/js/214.226476f0.js"><link rel="prefetch" href="/Vue/assets/js/215.3a320e63.js"><link rel="prefetch" href="/Vue/assets/js/216.1388e227.js"><link rel="prefetch" href="/Vue/assets/js/217.050bf527.js"><link rel="prefetch" href="/Vue/assets/js/218.95ee0100.js"><link rel="prefetch" href="/Vue/assets/js/219.acef3d57.js"><link rel="prefetch" href="/Vue/assets/js/22.97c5162c.js"><link rel="prefetch" href="/Vue/assets/js/220.1b2dda0a.js"><link rel="prefetch" href="/Vue/assets/js/221.4505e1c5.js"><link rel="prefetch" href="/Vue/assets/js/222.340ecf8b.js"><link rel="prefetch" href="/Vue/assets/js/223.2acba7c0.js"><link rel="prefetch" href="/Vue/assets/js/224.563b0345.js"><link rel="prefetch" href="/Vue/assets/js/225.f573a8b0.js"><link rel="prefetch" href="/Vue/assets/js/226.bd1a73fe.js"><link rel="prefetch" href="/Vue/assets/js/227.23a589e3.js"><link rel="prefetch" href="/Vue/assets/js/228.6f344c78.js"><link rel="prefetch" href="/Vue/assets/js/229.0c1a78af.js"><link rel="prefetch" href="/Vue/assets/js/23.e42d5b5a.js"><link rel="prefetch" href="/Vue/assets/js/230.e412a305.js"><link rel="prefetch" href="/Vue/assets/js/231.108982c3.js"><link rel="prefetch" href="/Vue/assets/js/232.07986abe.js"><link rel="prefetch" href="/Vue/assets/js/233.61b390cc.js"><link rel="prefetch" href="/Vue/assets/js/234.e1e030d7.js"><link rel="prefetch" href="/Vue/assets/js/235.be0057c0.js"><link rel="prefetch" href="/Vue/assets/js/236.e2722a7c.js"><link rel="prefetch" href="/Vue/assets/js/237.18291d84.js"><link rel="prefetch" href="/Vue/assets/js/238.ec2188b5.js"><link rel="prefetch" href="/Vue/assets/js/239.1629749f.js"><link rel="prefetch" href="/Vue/assets/js/24.7a7fd1e0.js"><link rel="prefetch" href="/Vue/assets/js/240.f1cf9e57.js"><link rel="prefetch" href="/Vue/assets/js/241.55e170d7.js"><link rel="prefetch" href="/Vue/assets/js/242.b7b6b401.js"><link rel="prefetch" href="/Vue/assets/js/243.bb7906d0.js"><link rel="prefetch" href="/Vue/assets/js/244.5ed9a466.js"><link rel="prefetch" href="/Vue/assets/js/245.464ebcaa.js"><link rel="prefetch" href="/Vue/assets/js/246.b49672d3.js"><link rel="prefetch" href="/Vue/assets/js/247.9a55ab30.js"><link rel="prefetch" href="/Vue/assets/js/248.815ea9fd.js"><link rel="prefetch" href="/Vue/assets/js/249.e8dfafa3.js"><link rel="prefetch" href="/Vue/assets/js/25.f17c8641.js"><link rel="prefetch" href="/Vue/assets/js/250.9762a60e.js"><link rel="prefetch" href="/Vue/assets/js/251.92a204a2.js"><link rel="prefetch" href="/Vue/assets/js/252.ec8bcce5.js"><link rel="prefetch" href="/Vue/assets/js/253.180604ac.js"><link rel="prefetch" href="/Vue/assets/js/254.73c69216.js"><link rel="prefetch" href="/Vue/assets/js/255.ee3e1d58.js"><link rel="prefetch" href="/Vue/assets/js/256.8f2376e7.js"><link rel="prefetch" href="/Vue/assets/js/257.6b40ed57.js"><link rel="prefetch" href="/Vue/assets/js/258.cbda5405.js"><link rel="prefetch" href="/Vue/assets/js/259.4afaab82.js"><link rel="prefetch" href="/Vue/assets/js/26.d01eec21.js"><link rel="prefetch" href="/Vue/assets/js/260.223291dd.js"><link rel="prefetch" href="/Vue/assets/js/261.66b7cee0.js"><link rel="prefetch" href="/Vue/assets/js/262.7646537d.js"><link rel="prefetch" href="/Vue/assets/js/263.2102a21b.js"><link rel="prefetch" href="/Vue/assets/js/264.01f69d37.js"><link rel="prefetch" href="/Vue/assets/js/265.3ac8cba8.js"><link rel="prefetch" href="/Vue/assets/js/266.a6a4a04d.js"><link rel="prefetch" href="/Vue/assets/js/267.be57cedf.js"><link rel="prefetch" href="/Vue/assets/js/268.27ea675e.js"><link rel="prefetch" href="/Vue/assets/js/269.8fa76d0c.js"><link rel="prefetch" href="/Vue/assets/js/27.82945f33.js"><link rel="prefetch" href="/Vue/assets/js/270.2c92fb60.js"><link rel="prefetch" href="/Vue/assets/js/271.905fd143.js"><link rel="prefetch" href="/Vue/assets/js/272.eebdf848.js"><link rel="prefetch" href="/Vue/assets/js/273.f02e16f4.js"><link rel="prefetch" href="/Vue/assets/js/274.1bb4b532.js"><link rel="prefetch" href="/Vue/assets/js/275.dd5ea9d3.js"><link rel="prefetch" href="/Vue/assets/js/276.74d6f8ab.js"><link rel="prefetch" href="/Vue/assets/js/277.b5b213b1.js"><link rel="prefetch" href="/Vue/assets/js/278.5e706d6b.js"><link rel="prefetch" href="/Vue/assets/js/279.1489f169.js"><link rel="prefetch" href="/Vue/assets/js/28.4c76df2a.js"><link rel="prefetch" href="/Vue/assets/js/280.19a374ee.js"><link rel="prefetch" href="/Vue/assets/js/281.d65b3987.js"><link rel="prefetch" href="/Vue/assets/js/282.5a6e3624.js"><link rel="prefetch" href="/Vue/assets/js/283.e7c54b99.js"><link rel="prefetch" href="/Vue/assets/js/284.5d480289.js"><link rel="prefetch" href="/Vue/assets/js/285.44c27c32.js"><link rel="prefetch" href="/Vue/assets/js/286.1b8d0289.js"><link rel="prefetch" href="/Vue/assets/js/287.96b027f9.js"><link rel="prefetch" href="/Vue/assets/js/288.130579e7.js"><link rel="prefetch" href="/Vue/assets/js/289.f4187c09.js"><link rel="prefetch" href="/Vue/assets/js/29.6e068a06.js"><link rel="prefetch" href="/Vue/assets/js/290.4c49c46b.js"><link rel="prefetch" href="/Vue/assets/js/291.193647db.js"><link rel="prefetch" href="/Vue/assets/js/292.7268e373.js"><link rel="prefetch" href="/Vue/assets/js/293.bcfefa9e.js"><link rel="prefetch" href="/Vue/assets/js/294.54f6a432.js"><link rel="prefetch" href="/Vue/assets/js/295.5020e3e7.js"><link rel="prefetch" href="/Vue/assets/js/296.d7f32e58.js"><link rel="prefetch" href="/Vue/assets/js/297.5dbbaabe.js"><link rel="prefetch" href="/Vue/assets/js/298.e6bf1a42.js"><link rel="prefetch" href="/Vue/assets/js/299.a18d8ba7.js"><link rel="prefetch" href="/Vue/assets/js/30.b168baee.js"><link rel="prefetch" href="/Vue/assets/js/300.ba217ef5.js"><link rel="prefetch" href="/Vue/assets/js/301.f96a76f5.js"><link rel="prefetch" href="/Vue/assets/js/302.37e0b19e.js"><link rel="prefetch" href="/Vue/assets/js/303.031b4c8e.js"><link rel="prefetch" href="/Vue/assets/js/304.d96cbd8b.js"><link rel="prefetch" href="/Vue/assets/js/305.0dcf6344.js"><link rel="prefetch" href="/Vue/assets/js/306.4f2540d0.js"><link rel="prefetch" href="/Vue/assets/js/31.dad269c9.js"><link rel="prefetch" href="/Vue/assets/js/32.63b50b54.js"><link rel="prefetch" href="/Vue/assets/js/33.04949d86.js"><link rel="prefetch" href="/Vue/assets/js/34.56a89946.js"><link rel="prefetch" href="/Vue/assets/js/35.3390f24b.js"><link rel="prefetch" href="/Vue/assets/js/36.14595b6f.js"><link rel="prefetch" href="/Vue/assets/js/37.8fcd4835.js"><link rel="prefetch" href="/Vue/assets/js/38.1825c8e2.js"><link rel="prefetch" href="/Vue/assets/js/39.b4ada2b6.js"><link rel="prefetch" href="/Vue/assets/js/40.c296d94a.js"><link rel="prefetch" href="/Vue/assets/js/41.283d95eb.js"><link rel="prefetch" href="/Vue/assets/js/42.0c1e2947.js"><link rel="prefetch" href="/Vue/assets/js/43.c6d0bcee.js"><link rel="prefetch" href="/Vue/assets/js/44.3287d646.js"><link rel="prefetch" href="/Vue/assets/js/45.1953ece5.js"><link rel="prefetch" href="/Vue/assets/js/46.a3b47dce.js"><link rel="prefetch" href="/Vue/assets/js/47.cf352360.js"><link rel="prefetch" href="/Vue/assets/js/48.d0f63d8e.js"><link rel="prefetch" href="/Vue/assets/js/49.4badb8d1.js"><link rel="prefetch" href="/Vue/assets/js/5.cacfa1e9.js"><link rel="prefetch" href="/Vue/assets/js/50.746e8eac.js"><link rel="prefetch" href="/Vue/assets/js/51.d56d5dbd.js"><link rel="prefetch" href="/Vue/assets/js/52.904cb343.js"><link rel="prefetch" href="/Vue/assets/js/53.e38427ab.js"><link rel="prefetch" href="/Vue/assets/js/54.b6de4473.js"><link rel="prefetch" href="/Vue/assets/js/55.f44277d0.js"><link rel="prefetch" href="/Vue/assets/js/56.9e836496.js"><link rel="prefetch" href="/Vue/assets/js/57.a7060cfa.js"><link rel="prefetch" href="/Vue/assets/js/58.5456c39a.js"><link rel="prefetch" href="/Vue/assets/js/59.3a2b2cea.js"><link rel="prefetch" href="/Vue/assets/js/6.f3d12b31.js"><link rel="prefetch" href="/Vue/assets/js/60.eb928d20.js"><link rel="prefetch" href="/Vue/assets/js/61.c1088d2f.js"><link rel="prefetch" href="/Vue/assets/js/62.218b1f1d.js"><link rel="prefetch" href="/Vue/assets/js/63.56adb0a3.js"><link rel="prefetch" href="/Vue/assets/js/64.842a8d1d.js"><link rel="prefetch" href="/Vue/assets/js/65.98d7a270.js"><link rel="prefetch" href="/Vue/assets/js/66.790ad0f2.js"><link rel="prefetch" href="/Vue/assets/js/67.f6effd5a.js"><link rel="prefetch" href="/Vue/assets/js/68.ca8c791c.js"><link rel="prefetch" href="/Vue/assets/js/69.da7fff1e.js"><link rel="prefetch" href="/Vue/assets/js/7.3e38d37d.js"><link rel="prefetch" href="/Vue/assets/js/70.26a7c3b0.js"><link rel="prefetch" href="/Vue/assets/js/71.1dd70f74.js"><link rel="prefetch" href="/Vue/assets/js/72.39679f64.js"><link rel="prefetch" href="/Vue/assets/js/73.40083b3a.js"><link rel="prefetch" href="/Vue/assets/js/74.b1ae5f8c.js"><link rel="prefetch" href="/Vue/assets/js/75.b45e9fa4.js"><link rel="prefetch" href="/Vue/assets/js/76.481e860c.js"><link rel="prefetch" href="/Vue/assets/js/77.526130d4.js"><link rel="prefetch" href="/Vue/assets/js/78.37c9e1a0.js"><link rel="prefetch" href="/Vue/assets/js/79.7d94e648.js"><link rel="prefetch" href="/Vue/assets/js/8.d3983478.js"><link rel="prefetch" href="/Vue/assets/js/80.785428df.js"><link rel="prefetch" href="/Vue/assets/js/81.107f320e.js"><link rel="prefetch" href="/Vue/assets/js/82.7520706d.js"><link rel="prefetch" href="/Vue/assets/js/83.e41657b3.js"><link rel="prefetch" href="/Vue/assets/js/84.140eb152.js"><link rel="prefetch" href="/Vue/assets/js/85.e8ca4166.js"><link rel="prefetch" href="/Vue/assets/js/86.cb2900cf.js"><link rel="prefetch" href="/Vue/assets/js/87.ff517a5f.js"><link rel="prefetch" href="/Vue/assets/js/88.adce3afb.js"><link rel="prefetch" href="/Vue/assets/js/89.bd97fe2f.js"><link rel="prefetch" href="/Vue/assets/js/9.06b0b5b8.js"><link rel="prefetch" href="/Vue/assets/js/90.19e9e85c.js"><link rel="prefetch" href="/Vue/assets/js/91.4331efbd.js"><link rel="prefetch" href="/Vue/assets/js/92.5001ecee.js"><link rel="prefetch" href="/Vue/assets/js/93.15ec5fef.js"><link rel="prefetch" href="/Vue/assets/js/94.f8c699ca.js"><link rel="prefetch" href="/Vue/assets/js/95.ff89b1f4.js"><link rel="prefetch" href="/Vue/assets/js/96.9b0780fa.js"><link rel="prefetch" href="/Vue/assets/js/97.e2092ef8.js"><link rel="prefetch" href="/Vue/assets/js/98.9e9ca302.js"><link rel="prefetch" href="/Vue/assets/js/99.badd2c8a.js">
    <link rel="stylesheet" href="/Vue/assets/css/0.styles.0779c551.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Vue/" class="home-link router-link-active"><img src="/Vue/img/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Vue/" class="nav-link">🐱首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🐳容器" class="dropdown-title"><a href="/Vue/note/Kubernetes/" class="link-title">🐳容器</a> <span class="title" style="display:none;">🐳容器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>容器文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/pages/b23923/" class="nav-link">Containerd</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/note/Docker/" class="nav-link">📒Docker容器</a></li><li class="dropdown-subitem"><a href="/Vue/note/Containerd/" class="nav-link">📒Containerd容器</a></li><li class="dropdown-subitem"><a href="/Vue/note/Kubernetes/" class="nav-link">📒Kubernetes</a></li><li class="dropdown-subitem"><a href="/Vue/note/git/" class="nav-link">📒Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📒云原生" class="dropdown-title"><a href="/Vue/devops/" class="link-title">📒云原生</a> <span class="title" style="display:none;">📒云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/CICD/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Operator/" class="nav-link">Operator</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌍技术" class="dropdown-title"><a href="/Vue/note/Traing/" class="link-title">🌍技术</a> <span class="title" style="display:none;">🌍技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/Traing/" class="nav-link">技能大赛</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎖️考证" class="dropdown-title"><a href="/Vue/note/kaozhen/" class="link-title">🎖️考证</a> <span class="title" style="display:none;">🎖️考证</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">1+X云计算高级</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">CKA</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Kubernetes/" class="nav-link">CKS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎉更多" class="dropdown-title"><a href="/Vue/more/" class="link-title">🎉更多</a> <span class="title" style="display:none;">🎉更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li></ul></div></div><div class="nav-item"><a href="/Vue/about/" class="nav-link">🔏关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🗿收藏" class="dropdown-title"><a href="/Vue/pages/beb6c0bd8a66cea6/" class="link-title">🗿收藏</a> <span class="title" style="display:none;">🗿收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/Vue/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/Vue/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/Vue/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/isicman/Vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/Vue/" class="nav-link">🐱首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🐳容器" class="dropdown-title"><a href="/Vue/note/Kubernetes/" class="link-title">🐳容器</a> <span class="title" style="display:none;">🐳容器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>容器文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/pages/b23923/" class="nav-link">Containerd</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/note/Docker/" class="nav-link">📒Docker容器</a></li><li class="dropdown-subitem"><a href="/Vue/note/Containerd/" class="nav-link">📒Containerd容器</a></li><li class="dropdown-subitem"><a href="/Vue/note/Kubernetes/" class="nav-link">📒Kubernetes</a></li><li class="dropdown-subitem"><a href="/Vue/note/git/" class="nav-link">📒Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📒云原生" class="dropdown-title"><a href="/Vue/devops/" class="link-title">📒云原生</a> <span class="title" style="display:none;">📒云原生</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/CICD/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Operator/" class="nav-link">Operator</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌍技术" class="dropdown-title"><a href="/Vue/note/Traing/" class="link-title">🌍技术</a> <span class="title" style="display:none;">🌍技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/Traing/" class="nav-link">技能大赛</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎖️考证" class="dropdown-title"><a href="/Vue/note/kaozhen/" class="link-title">🎖️考证</a> <span class="title" style="display:none;">🎖️考证</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">1+X云计算高级</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/kaozhen/" class="nav-link">CKA</a></li><li class="dropdown-item"><!----> <a href="/Vue/note/Kubernetes/" class="nav-link">CKS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎉更多" class="dropdown-title"><a href="/Vue/more/" class="link-title">🎉更多</a> <span class="title" style="display:none;">🎉更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/Vue/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li></ul></div></div><div class="nav-item"><a href="/Vue/about/" class="nav-link">🔏关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🗿收藏" class="dropdown-title"><a href="/Vue/pages/beb6c0bd8a66cea6/" class="link-title">🗿收藏</a> <span class="title" style="display:none;">🗿收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/Vue/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/Vue/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/Vue/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/isicman/Vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/Vue/pages/f9fa7a/" aria-current="page" class="active sidebar-link">Linux三剑客实例详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#三剑客的前言" class="sidebar-link">三剑客的前言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#概述" class="sidebar-link">概述</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#正则表达式" class="sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#元字符" class="sidebar-link">元字符</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#字符集合" class="sidebar-link">字符集合</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#匹配次数-贪婪模式" class="sidebar-link">匹配次数（贪婪模式）</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#位置锚定" class="sidebar-link">位置锚定</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#linux实际使用" class="sidebar-link">Linux实际使用</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#分组与后向引用" class="sidebar-link">分组与后向引用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#拓展正则表达式" class="sidebar-link">拓展正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#字符匹配" class="sidebar-link">字符匹配：</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#次数匹配-不用再转义" class="sidebar-link">次数匹配（不用再转义）：</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#位置锚定-2" class="sidebar-link">位置锚定：</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#分组-不用再转义" class="sidebar-link">分组（不用再转义）：</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#或运算" class="sidebar-link">或运算</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#grep命令" class="sidebar-link">grep命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#grep相关命令" class="sidebar-link">grep相关命令</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#命令描述" class="sidebar-link">命令描述</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#使用方法" class="sidebar-link">使用方法</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#示例数据文件" class="sidebar-link">示例数据文件</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#grep最简单的例子" class="sidebar-link">grep最简单的例子</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#grep使用正则表达式" class="sidebar-link">grep使用正则表达式</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#基本匹配" class="sidebar-link">基本匹配：</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#元字符-2" class="sidebar-link">元字符</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#将例子使用如下文件" class="sidebar-link">将例子使用如下文件：</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#点运算符" class="sidebar-link">点运算符 .</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#字符集" class="sidebar-link">字符集 []</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#否定字符集" class="sidebar-link">否定字符集</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#重复次数" class="sidebar-link">重复次数</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号" class="sidebar-link">* 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号-2" class="sidebar-link">+ 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号-3" class="sidebar-link">? 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号-4" class="sidebar-link">{} 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#特征标群" class="sidebar-link">(...) 特征标群</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#或运算符" class="sidebar-link">| 或运算符</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#转码特殊字符" class="sidebar-link">转码特殊字符</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#锚点" class="sidebar-link">锚点</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号-5" class="sidebar-link">^ 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#号-6" class="sidebar-link">$ 号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#简写字符集" class="sidebar-link">简写字符集</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#sed命令" class="sidebar-link">sed命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#简介-2" class="sidebar-link">简介</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#sed的命令参数详解" class="sidebar-link">Sed的命令参数详解</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#sed的命令格式" class="sidebar-link">Sed的命令格式</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#sed核心应用" class="sidebar-link">Sed核心应用</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#sed-查找" class="sidebar-link">Sed-查找</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#示例的文件使用如下" class="sidebar-link">示例的文件使用如下</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#指定行号" class="sidebar-link">指定行号</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#默认输出" class="sidebar-link">默认输出</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#指定行号范围" class="sidebar-link">指定行号范围</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#过滤" class="sidebar-link">过滤</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#sed-删除" class="sidebar-link">Sed-删除</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#最常规的删除" class="sidebar-link">最常规的删除</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#sed-增加" class="sidebar-link">Sed-增加</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#最常规的增加" class="sidebar-link">最常规的增加</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#sed-替换" class="sidebar-link">Sed-替换</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#最常规的替换" class="sidebar-link">最常规的替换</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#sed小总结" class="sidebar-link">Sed小总结：</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#使用sed修改配置文件示例" class="sidebar-link">使用Sed修改配置文件示例</a></li><li class="sidebar-sub-header level4"><a href="/Vue/pages/f9fa7a/#替换文件内容" class="sidebar-link">替换文件内容</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/Vue/pages/f9fa7a/#awk命令" class="sidebar-link">AWK命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk是什么" class="sidebar-link">Awk是什么</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#语法问题" class="sidebar-link">语法问题</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#特点和应用场景" class="sidebar-link">特点和应用场景</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#执行过程" class="sidebar-link">执行过程</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk的行与列" class="sidebar-link">Awk的行与列</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk中取行" class="sidebar-link">Awk中取行</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk中取列" class="sidebar-link">Awk中取列</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#小结" class="sidebar-link">小结</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk模式匹配" class="sidebar-link">Awk模式匹配</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk正则匹配" class="sidebar-link">Awk正则匹配</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk表示范围" class="sidebar-link">Awk表示范围</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk特殊模式begin-和end" class="sidebar-link">Awk特殊模式BEGIN{}和END{}</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk数组" class="sidebar-link">Awk数组</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#for循环" class="sidebar-link">for循环</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#if判断" class="sidebar-link">if判断</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#awk的内置变量" class="sidebar-link">Awk的内置变量</a></li><li class="sidebar-sub-header level3"><a href="/Vue/pages/f9fa7a/#总结" class="sidebar-link">总结</a></li></ul></li></ul></li><li><a href="/Vue/pages/bbcf03/" class="sidebar-link">Firewalld命令详解</a></li><li><a href="/Vue/pages/b55fa0/" class="sidebar-link">Iptables</a></li><li><a href="/Vue/pages/70d5cb/" class="sidebar-link">RAID 简述</a></li><li><a href="/Vue/pages/a0d1d2/" class="sidebar-link">RAID 磁盘阵列</a></li><li><a href="/Vue/pages/42368b/" class="sidebar-link">DNS 服务器简介</a></li><li><a href="/Vue/pages/6758e8/" class="sidebar-link">DNS 服务与管理</a></li><li><a href="/Vue/pages/592e5f/" class="sidebar-link">DHCP 服务器 简介</a></li><li><a href="/Vue/pages/11c320/" class="sidebar-link">DHCP 服务与管理</a></li><li><a href="/Vue/pages/53e10c/" class="sidebar-link">Centos7安装NPM</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-5add8e0a><div class="articleInfo" data-v-5add8e0a><ul class="breadcrumbs" data-v-5add8e0a><li data-v-5add8e0a><a href="/Vue/" title="首页" class="iconfont icon-home router-link-active" data-v-5add8e0a></a></li> <li data-v-5add8e0a><a href="/Vue/note/Linux/#《Linux系统》学习笔记" data-v-5add8e0a>《Linux系统》学习笔记</a></li></ul> <div class="info" data-v-5add8e0a><div title="作者" class="author iconfont icon-touxiang" data-v-5add8e0a><a href="https://github.com/2756864799zhang" target="_blank" title="作者" class="beLink" data-v-5add8e0a>Vuens</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-5add8e0a><a href="javascript:;" data-v-5add8e0a>2022-01-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux三剑客实例详解<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="linux三剑客实例详解「grep、sed-、awk」"><a href="#linux三剑客实例详解「grep、sed-、awk」" class="header-anchor">#</a> Linux三剑客实例详解「grep、sed 、awk」</h1> <h2 id="三剑客的前言"><a href="#三剑客的前言" class="header-anchor">#</a> 三剑客的前言</h2> <h3 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h3> <blockquote><p><strong><code>Linux 操作文本的三大利器分别是grep、sed 、awk，简称三剑客。</code></strong></p> <p><strong><code>大师兄 awk：最擅长取列；二师兄 sed：最擅长取行；三师兄 grep：最擅长过滤。</code></strong></p></blockquote> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>三者的功能都是处理文本，但侧重点各不相同，其中属 <code>awk</code> 功能最强大，但也最复杂。<code>grep</code> 更适合单纯的查找或匹配文本，<code>sed</code> 更适合编辑匹配到的文本，<code>awk</code> 更适合格式化文本，对文本进行较复杂格式处理。</p> <p><strong>简单概括：</strong></p> <ul><li><code>grep：数据查找定位</code></li> <li><code>awk：数据切片</code></li> <li><code>sed：数据修改</code></li></ul> <h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <p>正则表达式：REGular EXPression, REGEXP。我们通过特定的字符串匹配模板，来获取到所需的内容。熟练掌握好正则表达式是使用<code>Linux三剑客</code>的前提啊。</p> <h3 id="元字符"><a href="#元字符" class="header-anchor">#</a> 元字符</h3> <p><code>.</code>  : 匹配任意单个字符；
<code>[]</code> : 匹配指定范围内的任意单个字符；
<code>[^]</code>：匹配指定范围外的任意单个字符；</p> <h3 id="字符集合"><a href="#字符集合" class="header-anchor">#</a> 字符集合</h3> <p><code>[[:digit:]]</code>：匹配单个数字；
<code>[[:lower:]]</code>：匹配单个小写字母；
<code>[[:upper:]]</code>：匹配单个大写字母；
<code>[[:punct:]]</code>：匹配单个标点字符；
<code>[[:space:]]</code>：匹配单个空白字符；
<code>[[:alpha:]]</code>：匹配单个字母；
<code>[[:alnum:]]</code>：匹配单个字母或数字；</p> <h3 id="匹配次数-贪婪模式"><a href="#匹配次数-贪婪模式" class="header-anchor">#</a> 匹配次数（贪婪模式）</h3> <p><code>*</code>：匹配其前面的字符任意次
<code>?</code>：匹配其前面的字符0次或者1次
<code>+</code>：匹配其前面的字符至少1次
<code>.*</code>：任意长度的任意字符</p> <h3 id="位置锚定"><a href="#位置锚定" class="header-anchor">#</a> 位置锚定</h3> <p><code>^</code>: 锚定行首，此字符后面的任意内容必须出现在行首
<code>$</code>: 锚定行尾，此字符前面的任意内容必须出现在行尾
<code>^$</code>: 空白行</p> <h3 id="linux实际使用"><a href="#linux实际使用" class="header-anchor">#</a> Linux实际使用</h3> <p>由于linux系统shell解释器的特殊处理，某些元字符在linux下具有展开式等特殊含义，在实际的使用过程中我们需要添加<code>\</code>进行转义。
<code>\?</code>：匹配其前面的字符1次或0次；
<code>\+</code>：匹配至少一次；
<code>\{m,n\}</code>：匹配其前面的字符至少m次，至多n次；
<code>\{1,\}</code>：匹配前面的字符至少1次；
<code>\{0,3\}</code>：匹配前面的字符0次至3次均可；</p> <blockquote><p>备注：至少0次，必须要显示的写出来；</p></blockquote> <p><code>\&lt;或\b</code>：锚定词首，其后面的任意字符必须作为单词首部出现
<code>\&gt;或\b</code>：锚定词尾，其前面的任意字符必须作为单词的尾部出现</p> <h3 id="分组与后向引用"><a href="#分组与后向引用" class="header-anchor">#</a> 分组与后向引用</h3> <p><code>\(\)</code> <code>\(ab\)*</code> <code>\1</code>：引用第1个左括号以及与之对应的括号所包括的所有内容；
<code>\2</code>：引用第2个左括号以及与之对应的括号所包括的所有内容，以此类推；</p> <h2 id="拓展正则表达式"><a href="#拓展正则表达式" class="header-anchor">#</a> 拓展正则表达式</h2> <p>可以看到标准正则表达的使用过程中，许多符号都需要转义，这在工作中带来了一定的不便，因此扩展的正则表达式便出现了。 <code>&quot;用egrep&quot;</code></p> <h3 id="字符匹配"><a href="#字符匹配" class="header-anchor">#</a> 字符匹配：</h3> <p><code>.</code>：匹配单个字符；
<code>[abc]</code>：包含abc任意一个字符
<code>[^abc]</code>：不包含abc任意一个字符</p> <h3 id="次数匹配-不用再转义"><a href="#次数匹配-不用再转义" class="header-anchor">#</a> 次数匹配（不用再转义）：</h3> <p><code>*</code>：匹配前一个字符任意次；
<code>?</code>：匹配其前面的字符1次或0次；
<code>+</code>：匹配其前面的字符至少1次；
<code>{m,n}</code>：匹配其前面的字符至少m次，至多n次；</p> <h3 id="位置锚定-2"><a href="#位置锚定-2" class="header-anchor">#</a> 位置锚定：</h3> <p>对比使用方式：<code>^</code> 和 <code>$</code>
这里要注意的是对于词首定位和词尾定位，分别是<code>\&lt;</code> 和 <code>\&gt;</code>，依然需要加上反斜杠；</p> <h3 id="分组-不用再转义"><a href="#分组-不用再转义" class="header-anchor">#</a> 分组（不用再转义）：</h3> <p><code>()</code>：分组
<code>\1</code>, <code>\2</code>, <code>\3</code>：分别对应第n个括号所匹配的内容；</p> <h3 id="或运算"><a href="#或运算" class="header-anchor">#</a> 或运算</h3> <p><code>|</code>： 可以同时取并集；</p> <blockquote><p>注意：C|cat表示的是C或cat（表示的是整个部分）</p></blockquote> <p>可以看到，使用扩展的正则表达式可以省略很多的转义符号，这尤其在写sed语句时极大的提高了代码的可读性。建议优先使用扩展的正则表达式。</p> <h2 id="grep命令"><a href="#grep命令" class="header-anchor">#</a> grep命令</h2> <h3 id="grep相关命令"><a href="#grep相关命令" class="header-anchor">#</a> grep相关命令</h3> <p>grep命令家族由grep, egrep, fgrep 三个子命令组成，适用于不同的场景。具体如下：</p> <h4 id="命令描述"><a href="#命令描述" class="header-anchor">#</a> 命令描述</h4> <p>grep 原生的grep命令，使用“标准正则表达式”作为匹配标准。
egrep 扩展的grep命令，相当于<code>$(grep -E)</code>，使用“扩展正则表达式”作为匹配标准。
fgrep 简化版的grep命令，不支持正则表达式，但搜索速度快，系统资源使用率低。</p> <h4 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h4> <p><strong>语法</strong> <code>grep [options] PATTERN [FILE...]</code></p> <p><strong>options部分</strong></p> <p><code>-n</code> ：显示行号</p> <p><code>-w</code> ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker</p> <p><code>-c</code> ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。</p> <p><code>-A</code>  n：显示匹配到的字符串所在的行及其后n行，after</p> <p><code>-B</code>  n：显示匹配到的字符串所在的行及其前n行，before</p> <p><code>-C</code>  n：显示匹配到的字符串所在的行及其前后各n行，context<code>-i</code>：忽略大小写
<code>--color</code>：高亮匹配上的字符串
<code>-v</code>: 显示没有被模式匹配到的行
<code>-o</code>：只显示被模式匹配到的字符串
<code>-E</code>：使用扩展的正则表达式，<code>egrep=grep -E</code></p> <p><strong>PATTERN部分</strong>
以字符串的方式给定匹配模板，可以使用普通字符串以及正则表达式(标准&amp;扩展)。</p> <p><strong>FILE部分</strong>
需要查找内容的文件。</p> <h4 id="示例数据文件"><a href="#示例数据文件" class="header-anchor">#</a> <strong>示例数据文件</strong></h4> <p><strong>请将以下数据剪切粘贴到一个名为 “sampler.log” 的文件中:</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">1</span>. boot
<span class="token number">2</span>. book
<span class="token number">3</span>. booze
<span class="token number">4</span>. machine
<span class="token number">5</span>. boots
<span class="token number">6</span>. bungie
<span class="token number">7</span>. bark
<span class="token number">8</span>. aardvark
<span class="token number">9</span>. broken<span class="token variable">$tuff</span>
<span class="token number">10</span>. robots
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><h4 id="grep最简单的例子"><a href="#grep最简单的例子" class="header-anchor">#</a> grep最简单的例子</h4></blockquote> <ol><li><strong>在本例中，grep 将遍历文件 “sampler.log” 的每一行，并打印出其中的每一行 包含单词“boo”:</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> <span class="token string">&quot;boo&quot;</span> sampler.log

 boot
 book
 booze
 boots
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li><strong>但是如果你操作的是大型文件，就会出现这种情况：如果这些行标识了文件中的<code>哪一行</code>，它们是什么，可能对你更有用，如果需要在编辑器中打开文件，那么可以更容易地跟踪特定字符串做一些改变。 这时候可以<code>通过添加-n参数来实现</code>:</strong></li></ol> <p>​	<strong>这产生了一个更有用的结果，解释了哪些行与搜索字符串匹配:</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -n <span class="token string">&quot;boo&quot;</span> sampler.log

 <span class="token number">1</span>:boot
 <span class="token number">2</span>:book
 <span class="token number">3</span>:booze
 <span class="token number">5</span>:boots
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li><strong>另一个有趣的<code>参数是 -v</code>，它会<code>打印出相反的结果</code>。换句话说，grep 将打印<code>所有与搜索字符串不匹配的行</code>，而不是打印与之匹配的行。</strong></li></ol> <p>​	<strong>在下列情况下，grep 将打印不包含字符串 “boo” 的每一行，并显示行号，如上一个例子所示</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -vn <span class="token string">&quot;boo&quot;</span> sampler.log
 <span class="token number">4</span>:machine
 <span class="token number">6</span>:bungie
 <span class="token number">7</span>:bark
 <span class="token number">8</span>:aardvark
 <span class="token number">9</span>:broken<span class="token variable">$tuff</span>
 <span class="token number">10</span>:robots
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="4"><li><strong><code>c 选项</code>告诉grep<code>抑制匹配行的打印</code>，<code>只显示匹配行的数量</code>，匹配查询的行。 例如,下面将打印数字4，因为有4个在 <code>sampler.log</code> 中出现 “boo”。</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -c <span class="token string">&quot;boo&quot;</span> sampler.log

<span class="token number">4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="5"><li><strong><code>l 选项</code>只打印查询中具有与<code>搜索匹配行的文件的文件名字符串</code>。 如果你想在多个文件中搜索相同的字符串，这将非常有用。像这样:</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -l <span class="token string">&quot;boo&quot;</span> *

sampler.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="6"><li><strong>对于搜索非代码文件，一个更<code>有用的选项是-i</code>，<code>忽略大小写</code>。这个选项将处理在匹配搜索字符串时，大小写相等。 在下面的例子中，即使搜索字符串是大写的，包含“boo”的行也会被打印出来。</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -i <span class="token string">&quot;BOO&quot;</span> sampler.log

boot
book
booze
boots
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="7"><li><strong><code>x 选项</code>只精确匹配。换句话说，以下命令搜索没有结果，<code>因为没有一行只包含&quot;boo&quot;</code></strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -x <span class="token string">&quot;boo&quot;</span> sampler.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="8"><li><strong>最后，<code>-A 允许你指定额外的上下文件行</code>，这样就得到了搜索字符串额外行，例如</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">grep</span> -A2 <span class="token string">&quot;mach&quot;</span> sampler.log

machine
boots
bungie
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="grep使用正则表达式"><a href="#grep使用正则表达式" class="header-anchor">#</a> grep使用正则表达式</h3> <h4 id="基本匹配"><a href="#基本匹配" class="header-anchor">#</a> 基本匹配：</h4> <p><strong>正则表达式其实就是在执行搜索时的格式，它由一些字母和数字组合而成。 例如：一个正则表达式 <code>the</code>，它表示一个规则：由字母<code>t</code>开始，接着是<code>h</code>，再接着是<code>e</code>。</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">&quot;the&quot;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> The fat <span class="token function">cat</span> sat on the mat.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="元字符-2"><a href="#元字符-2" class="header-anchor">#</a> 元字符</h4> <p><strong>正则表达式主要依赖于元字符。 元字符不代表他们本身的字面意思，他们都有特殊的含义。一些元字符写在方括号中的时候有一些特殊的意思。以下是一些元字符的介绍：</strong></p> <table><thead><tr><th>元字符</th> <th>描述</th> <th></th></tr></thead> <tbody><tr><td>.</td> <td>句号匹配任意单个字符除了换行符。</td> <td></td></tr> <tr><td>[ ]</td> <td>字符种类。匹配方括号内的任意字符。</td> <td></td></tr> <tr><td>[^ ]</td> <td>否定的字符种类。匹配除了方括号里的任意字符</td> <td></td></tr> <tr><td>*</td> <td>匹配&gt;=0个重复的在*号之前的字符。</td> <td></td></tr> <tr><td>+</td> <td>匹配&gt;=1个重复的+号前的字符。</td> <td></td></tr> <tr><td>?</td> <td>标记?之前的字符为可选.</td> <td></td></tr> <tr><td>{n,m}</td> <td>匹配num个大括号之前的字符或字符集 (n &lt;= num &lt;= m).</td> <td></td></tr> <tr><td>(xyz)</td> <td>字符集，匹配与 xyz 完全相等的字符串.</td> <td></td></tr> <tr><td>|</td> <td>或运算符，匹配符号前或后的字符.</td> <td></td></tr> <tr><td>\</td> <td>转义字符,用于匹配一些保留的字符 <code>[ ] ( ) { } . * + ? ^ $ \ |</code></td> <td></td></tr> <tr><td>^</td> <td>从开始行开始匹配.</td> <td></td></tr> <tr><td>$</td> <td>从末端开始匹配.</td> <td></td></tr> <tr><td>.*</td> <td>所有内容</td> <td>搭配.*</td></tr> <tr><td>^$</td> <td>空行</td> <td>搭配^$</td></tr></tbody></table> <blockquote><h4 id="将例子使用如下文件"><a href="#将例子使用如下文件" class="header-anchor">#</a> 将例子使用如下文件：</h4> <p><strong>[root@shell-centos-1 ~]# cat a.txt</strong> <strong><code>The car parked in the garage.</code></strong></p> <p><strong>[root@shell-centos-1 ~]# cat b.txt</strong> <strong><code>A garage is a good place to park a car.</code></strong></p> <p><strong>[root@shell-centos-1 ~]# cat c.txt</strong> <strong><code>The fat cat sat on the concatenation.</code></strong></p> <p><strong>[root@shell-centos-1 ~]# cat d.txt</strong> <strong><code>The fat cat sat on the mat.</code></strong></p> <p><strong>[root@shell-centos-1 ~]# cat  e.txt</strong> <strong><code>The number was 9.9997 but we rounded it off to 10.0.</code></strong></p></blockquote> <h4 id="点运算符"><a href="#点运算符" class="header-anchor">#</a> 点运算符 <code>.</code></h4> <p><code>.</code>是元字符中最简单的例子。 <code>.</code>匹配任意单个字符，但不匹配换行符。 例如，表达式<code>.ar</code>匹配一个任意字符后面跟着是<code>a</code>和<code>r</code>的字符串。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep .ar a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The <code>car par</code>ked in the <code>gar</code>age.</p></blockquote> <h4 id="字符集"><a href="#字符集" class="header-anchor">#</a> 字符集 []</h4> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep [Th] a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>Th</code>e car parked in t<code>h</code>e garage.</p></blockquote> <p>方括号的句号就表示句号。 表达式 <code>ar[.]</code> 匹配 <code>ar.</code>字符串</p> <blockquote><p>[root@shell-centos-1 ~]# echo  A garage is a good place to park a car. &gt; b.txt  #使用该测试文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep  ar[.] b.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>A garage is a good place to park a c<code>ar.</code></p></blockquote> <h4 id="否定字符集"><a href="#否定字符集" class="header-anchor">#</a> 否定字符集</h4> <p>一般来说 <code>^</code> 表示一个字符串的开头，但它用在一个方括号的开头的时候，它表示这个字符集是否定的。 例如，表达式<code>[^c]ar</code> 匹配一个后面跟着<code>ar</code>的除了<code>c</code>的任意字符。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep [^c]ar a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The car <code>par</code>ked in the <code>gar</code>age.</p></blockquote> <h4 id="重复次数"><a href="#重复次数" class="header-anchor">#</a> 重复次数</h4> <p>后面跟着元字符 <code>+</code>，<code>*</code> or <code>?</code> 的，用来指定匹配子模式的次数。 这些元字符在不同的情况下有着不同的意思。</p> <h4 id="号"><a href="#号" class="header-anchor">#</a> <code>*</code> 号</h4> <p><code>*</code>号匹配 在<code>*</code>之前的字符出现<code>大于等于0</code>次。 例如，表达式 <code>a*</code> 匹配0或更多个以a开头的字符。表达式<code>[a-z]*</code> 匹配一个行中所有以小写字母开头的字符串。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;[a-z]*&quot; a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>T<code>he car parked in the garage</code>.</p></blockquote> <p><code>*</code>字符和<code>.</code>字符搭配可以匹配所有的字符<code>.*</code>。 <code>*</code>和表示匹配空格的符号<code>\s</code>连起来用，如表达式<code>\s*cat\s*</code>匹配0或更多个空格开头和0或更多个空格结尾的cat字符串。</p> <blockquote><p>[root@shell-centos-1 ~]# echo The fat cat sat on the concatenation. &gt; c.txt  #这里使用该测试文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;\s*cat\s*&quot; c.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The fat <code>cat</code> sat on the con<code>cat</code>enation.</p></blockquote> <h4 id="号-2"><a href="#号-2" class="header-anchor">#</a> <code>+</code> 号</h4> <p><code>+</code>号匹配<code>+</code>号之前的字符出现 &gt;=1 次。 例如表达式<code>c.+t</code> 匹配以首字母<code>c</code>开头以<code>t</code>结尾，中间跟着至少一个字符的字符串。</p> <blockquote><p>[root@shell-centos-1 ~]#  echo The fat cat sat on the mat. &gt; d.txt     #这里使用该测试文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;c.+t&quot; d.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The fat <code>cat sat on the mat</code>.</p></blockquote> <h4 id="号-3"><a href="#号-3" class="header-anchor">#</a> <code>?</code> 号</h4> <p>在正则表达式中元字符 <code>?</code> 标记在符号前面的字符为可选，即出现 0 或 1 次。 例如，表达式 <code>[T]?he</code> 匹配字符串 <code>he</code> 和 <code>The</code>。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;[T]\?he&quot; a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>The</code> car parked in <code>the</code> garage.</p></blockquote> <h4 id="号-4"><a href="#号-4" class="header-anchor">#</a> <code>{}</code> 号</h4> <p>在正则表达式中 <code>{}</code> 是一个量词，常用来限定一个或一组字符可以重复出现的次数。 例如， 表达式 <code>[0-9]{2,3}</code> 匹配最少 2 位最多 3 位 0~9 的数字。</p> <blockquote><p>[root@shell-centos-1 ~]# echo The number was 9.9997 but we rounded it off to 10.0. &gt; e.txt  #使用该测试文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;[0-9]{2,3}&quot; e.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The number was 9.<code>999</code>7 but we rounded it off to <code>10</code>.0.</p></blockquote> <p>我们可以省略第二个参数。 例如，<code>[0-9]{2,}</code> 匹配至少两位 0~9 的数字。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;[0-9]{2,}&quot; e.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The number was 9.<code>9997</code> but we rounded it off to <code>10</code>.0.</p></blockquote> <p>如果逗号也省略掉则表示重复固定的次数。 例如，<code>[0-9]{3}</code> 匹配3位数字</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;[0-9]{3}&quot; e.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The number was 9.<code>999</code>7 but we rounded it off to 10.0.</p></blockquote> <h4 id="特征标群"><a href="#特征标群" class="header-anchor">#</a> <code>(...)</code> 特征标群</h4> <p>特征标群是一组写在 <code>(...)</code> 中的子模式。<code>(...)</code> 中包含的内容将会被看成一个整体，和数学中小括号（ ）的作用相同。例如, 表达式 <code>(ab)*</code> 匹配连续出现 0 或更多个 <code>ab</code>。如果没有使用 <code>(...)</code> ，那么表达式 <code>ab*</code> 将匹配连续出现 0 或更多个 <code>b</code> 。再比如之前说的 <code>{}</code> 是用来表示前面一个字符出现指定次数。但如果在 <code>{}</code> 前加上特征标群 <code>(...)</code> 则表示整个标群内的字符重复 N 次。</p> <p>我们还可以在 <code>()</code> 中用或字符 <code>|</code> 表示或。例如，<code>(c|g|p)ar</code> 匹配 <code>car</code> 或 <code>gar</code> 或 <code>par</code>.</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;(c|g|p)ar&quot; a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The <code>car par</code>ked in the <code>gar</code>age.</p></blockquote> <h4 id="或运算符"><a href="#或运算符" class="header-anchor">#</a> <code>|</code> 或运算符</h4> <p>或运算符就表示或，用作判断条件。</p> <p>例如 <code>(T|t)he|car</code> 匹配 <code>(T|t)he</code> 或 <code>car</code>。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;(T|t)he|car&quot; a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>The car</code> parked in <code>the</code> garage.</p></blockquote> <h4 id="转码特殊字符"><a href="#转码特殊字符" class="header-anchor">#</a> 转码特殊字符</h4> <p>反斜线 <code>\</code> 在表达式中用于转码紧跟其后的字符。用于指定 <code>{ } [ ] / \ + * . $ ^ | ?</code> 这些特殊字符。如果想要匹配这些特殊字符则要在其前面加上反斜线 <code>\</code>。</p> <p>例如 <code>.</code> 是用来匹配除换行符外的所有字符的。如果想要匹配句子中的 <code>.</code> 则要写成 <code>\.</code> 以下这个例子 <code>\.?</code>是选择性匹配<code>.</code></p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;(f|c|m)at\.?&quot; d.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The <code>fat cat</code> sat on the <code>mat</code>.</p></blockquote> <h4 id="锚点"><a href="#锚点" class="header-anchor">#</a> 锚点</h4> <p>在正则表达式中，想要匹配指定开头或结尾的字符串就要使用到锚点。<code>^</code> 指定开头，<code>$</code> 指定结尾。</p> <h4 id="号-5"><a href="#号-5" class="header-anchor">#</a> <code>^</code> 号</h4> <p><code>^</code> 用来检查匹配的字符串是否在所匹配字符串的开头。</p> <p>例如，在 <code>abc</code> 中使用表达式 <code>^a</code> 会得到结果 <code>a</code>。但如果使用 <code>^b</code> 将匹配不到任何结果。因为在字符串 <code>abc</code> 中并不是以 <code>b</code> 开头。</p> <p>例如，<code>^(T|t)he</code> 匹配以 <code>The</code> 或 <code>the</code> 开头的字符串。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;^(T|t)he&quot; a.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The car parked in the garage.</p></blockquote> <h4 id="号-6"><a href="#号-6" class="header-anchor">#</a> <code>$</code> 号</h4> <p>同理于 <code>^</code> 号，<code>$</code> 号用来匹配字符是否是最后一个。</p> <p>例如，<code>(at\.)$</code> 匹配以 <code>at.</code> 结尾的字符串。</p> <blockquote><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;(at\.)&quot; d.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The fat cat sat on the m<code>at</code>.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-1 ~<span class="token punctuation">]</span><span class="token comment"># egrep &quot;(at\.)$&quot; d.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The fat cat sat on the m<code>at</code>.</p></blockquote> <h4 id="简写字符集"><a href="#简写字符集" class="header-anchor">#</a> 简写字符集</h4> <p>则表达式提供一些常用的字符集简写。如下:</p> <table><thead><tr><th>简写</th> <th>描述</th></tr></thead> <tbody><tr><td>.</td> <td>除换行符外的所有字符</td></tr> <tr><td>\w</td> <td>匹配所有字母数字，等同于 <code>[a-zA-Z0-9_]</code></td></tr> <tr><td>\W</td> <td>匹配所有非字母数字，即符号，等同于： <code>[^\w]</code></td></tr> <tr><td>\d</td> <td>匹配数字： <code>[0-9]</code></td></tr> <tr><td>\D</td> <td>匹配非数字： <code>[^\d]</code></td></tr> <tr><td>\s</td> <td>匹配所有空格字符，等同于： <code>[\t\n\f\r\p{Z}]</code></td></tr> <tr><td>\S</td> <td>匹配所有非空格字符： <code>[^\s]</code></td></tr> <tr><td>\f</td> <td>匹配一个换页符</td></tr> <tr><td>\n</td> <td>匹配一个换行符</td></tr> <tr><td>\r</td> <td>匹配一个回车符</td></tr> <tr><td>\t</td> <td>匹配一个制表符</td></tr> <tr><td>\v</td> <td>匹配一个垂直制表符</td></tr> <tr><td>\p</td> <td>匹配 CR/LF（等同于 <code>\r\n</code>），用来匹配 DOS 行终止符</td></tr></tbody></table> <h2 id="sed命令"><a href="#sed命令" class="header-anchor">#</a> sed命令</h2> <h3 id="简介-2"><a href="#简介-2" class="header-anchor">#</a> <strong>简介</strong></h3> <p><strong>sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，<code>称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容</code>，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。<code>Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。</code></strong></p> <h3 id="sed的命令参数详解"><a href="#sed的命令参数详解" class="header-anchor">#</a> Sed的命令参数详解</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sed [-nefr] [动作]</span>

选项与参数：
-n ：使用安静<span class="token punctuation">(</span>silent<span class="token punctuation">)</span>模式。在一般 <span class="token function">sed</span> 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行<span class="token punctuation">(</span>或者动作<span class="token punctuation">)</span>才会被列出来。
-e ：直接在命令列模式上进行 <span class="token function">sed</span> 的动作编辑；
-f ：直接将 <span class="token function">sed</span> 的动作写在一个文件内， -f filename 则可以运行 filename 内的 <span class="token function">sed</span> 动作；
-r ：sed 的动作支持的是延伸型正规表示法的语法。<span class="token punctuation">(</span>默认是基础正规表示法语法<span class="token punctuation">)</span>
-i ：直接修改读取的文件内容，而不是输出到终端。

动作说明： <span class="token punctuation">[</span>n1<span class="token punctuation">[</span>,n2<span class="token punctuation">]</span><span class="token punctuation">]</span>function
n1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作是需要在 <span class="token number">10</span> 到 <span class="token number">20</span> 行之间进行的，则『 <span class="token number">10,20</span><span class="token punctuation">[</span>动作行为<span class="token punctuation">]</span> 』

function：
a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的下一行<span class="token punctuation">)</span>～
c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！
d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；
i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的上一行<span class="token punctuation">)</span>；
p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 <span class="token function">sed</span> -n 一起运行～
s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 <span class="token number">1</span>,20s/old/new/g 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="sed的命令格式"><a href="#sed的命令格式" class="header-anchor">#</a> Sed的命令格式</h3> <table><thead><tr><th>命令</th> <th>选项</th> <th>（s）sed命令功能（g）修饰符</th> <th>参数（文件）</th></tr></thead> <tbody><tr><td>sed</td> <td>-r</td> <td>'s#oldboy#oldgirl#g'</td> <td>oldboy.txt</td></tr></tbody></table> <blockquote><p><code>备注：前一步中执行的结果，并没有写回到a.txt中，如果想写回，则需要这样（添加-i参数）</code></p></blockquote> <h3 id="sed核心应用"><a href="#sed核心应用" class="header-anchor">#</a> Sed核心应用</h3> <h4 id="sed-查找"><a href="#sed-查找" class="header-anchor">#</a> Sed-查找</h4> <table><thead><tr><th>查找格式</th> <th></th> <th></th></tr></thead> <tbody><tr><td>'1p'</td> <td>指定行号进行查找</td> <td></td></tr> <tr><td>'1,5p'</td> <td>指定行号范围进行查找</td> <td></td></tr> <tr><td>'/lidao/p'</td> <td>类似于grep过滤，//里面可以写正则</td> <td></td></tr> <tr><td>'/10:00/,/11:00/p'</td> <td>表示范围的过滤</td> <td></td></tr></tbody></table> <h4 id="示例的文件使用如下"><a href="#示例的文件使用如下" class="header-anchor">#</a> 示例的文件使用如下</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="指定行号"><a href="#指定行号" class="header-anchor">#</a> 指定行号</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n  '3p' oldboy.txt</span>
<span class="token number">103</span>,李导996,C00
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="默认输出"><a href="#默认输出" class="header-anchor">#</a> 默认输出</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed  '' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="指定行号范围"><a href="#指定行号范围" class="header-anchor">#</a> 指定行号范围</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#查看1-3行的范围</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n '1,3p' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00

<span class="token comment">#查看3-6行的范围</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n '3,6p' oldboy.txt</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO

<span class="token comment">#查看4-最后一行的范围 这里使用$p</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed  -n '4,$p' oldboy.txt</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="过滤"><a href="#过滤" class="header-anchor">#</a> 过滤</h4> <p><strong>过滤的方式又别分为正则表达式过滤和范围过滤两种</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>正则过滤的方式
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n '/oldboy/p' oldboy.txt   #就过滤oldboy</span>
<span class="token number">101</span>,oldboy,CEO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n '/996/p' oldboy.txt   #过滤996</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed  -n '/[45]/p' oldboy.txt  #过滤使用正则4 5</span>
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO


<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -nr '/[0-9]{3}/p' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

范围过滤的方式
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -n '/102/,/105/p' oldboy.txt</span>
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><blockquote><p><strong>表示范围过滤的时候，如果一直没有给到末尾的范围，就会一直显示到末尾。</strong></p></blockquote> <h4 id="sed-删除"><a href="#sed-删除" class="header-anchor">#</a> Sed-删除</h4> <table><thead><tr><th>删除格式</th> <th></th> <th></th></tr></thead> <tbody><tr><td>'2p'</td> <td>指定行号进行查找</td> <td></td></tr> <tr><td>'1,5d'</td> <td>指定行号范围进行查找</td> <td></td></tr> <tr><td>'/lidao/d'</td> <td>类似于grep过滤，//里面可以写正则</td> <td></td></tr> <tr><td>'/10:00/,/11:00/d'</td> <td>表示范围的过滤</td> <td></td></tr> <tr><td>1，/oldboy/d</td> <td>混合（了解）</td> <td></td></tr></tbody></table> <h4 id="最常规的删除"><a href="#最常规的删除" class="header-anchor">#</a> 最常规的删除</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '3d' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '2d' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '2,3d' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '/lidao/d' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>删除文件中的空行和包含#号的行数</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># egrep -v '^$|#' /etc/ssh/sshd_config</span>

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -r '/^$|#/d' /etc/ssh/sshd_config</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -nr '/^$|#/!p' /etc/ssh/sshd_config</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="sed-增加"><a href="#sed-增加" class="header-anchor">#</a> Sed-增加</h4> <table><thead><tr><th>增加格式</th> <th>含义</th></tr></thead> <tbody><tr><td>c</td> <td>replace替代这行的内容</td></tr> <tr><td>a</td> <td>append追加，向指定的行或者每一行追加内容（行的后面）</td></tr> <tr><td>i</td> <td>insert插入，向指定的行或者每一行插入内容</td></tr></tbody></table> <h4 id="最常规的增加"><a href="#最常规的增加" class="header-anchor">#</a> 最常规的增加</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat oldboy.txt   #这是最初始的文件内容</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '3a 996,lidao996.UFO' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">996</span>,lidao996.UFO			<span class="token comment">#在地三行的后面添加内容</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '3i 996,lidao996.UFO' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">996</span>,lidao996.UFO			<span class="token comment">#在第三行的前面添加内容</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed '3c 996,lidao996.UFO' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">996</span>,lidao996.UFO			<span class="token comment">#替换第三行然后更改为需要替换的内容</span>
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>向文件中追加多行内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>比如向sshd_config里面追加多行内容
UseDNS no
GSSAPIAUTCATION no
PermitRootLogin no

方法1： 
<span class="token function">cat</span>  <span class="token operator">&gt;&gt;</span> config <span class="token operator">&lt;&lt;</span> EOF

方法2： 
<span class="token function">sed</span> <span class="token string">'$a UseDNS no\nGSSAPIAUTCATION no\nPermitRootLogin no'</span> config

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="sed-替换"><a href="#sed-替换" class="header-anchor">#</a> Sed-替换</h4> <p>s--&gt; sub substitute替换</p> <p>g--&gt; global 全局替换，sed替换每行所有匹配的内容，sed默认只是替换每行第一个匹配的内容</p> <table><thead><tr><th style="text-align:center;">替换格式</th></tr></thead> <tbody><tr><td style="text-align:center;">s###g</td></tr> <tr><td style="text-align:center;">s///g</td></tr> <tr><td style="text-align:center;">s@@@g</td></tr></tbody></table> <h4 id="最常规的替换"><a href="#最常规的替换" class="header-anchor">#</a> 最常规的替换</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed  's#[0-9]##g' oldboy.txt</span>
,oldboy,CEO
,zhangyao,CTO
,李导,C
,李导,C
,yy,CFO
,feixue,CIO
,lidao,COCO

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed 's#[0-9]##' oldboy.txt</span>
01,oldboy,CEO
02,zhangyao,CTO
03,李导996,C00
03,李导996,C00
04,yy,CFO
05,feixue,CIO
<span class="token number">10</span>,lidao,COCO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><h4 id="sed小总结"><a href="#sed小总结" class="header-anchor">#</a> Sed小总结：</h4></blockquote> <p><strong>删除：d命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> <span class="token string">'2d'</span> example			-----删除example文件的第二行。
$ <span class="token function">sed</span> <span class="token string">'2,$d'</span> example		-----删除example文件的第二行到末尾所有行。
$ <span class="token function">sed</span> <span class="token string">'$d'</span> example			-----删除example文件的最后一行。
$ <span class="token function">sed</span> <span class="token string">'/test/'</span>d example		-----删除example文件所有包含test的行。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>替换：s命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> <span class="token string">'s/test/mytest/g'</span> example				-----在整行范围内把test替换为mytest。如果没有g标记，则只有每行第一个匹配的test被替换成mytest。
$ <span class="token function">sed</span> -n <span class="token string">'s/^test/mytest/p'</span> example			-----<span class="token punctuation">(</span>-n<span class="token punctuation">)</span>选项和p标志一起使用表示只打印那些发生替换的行。也就是说，如果某一行开头的test被替换成mytest，就打印它。
$ <span class="token function">sed</span> <span class="token string">'s/^192.168.0.1/&amp;localhost/'</span> example	-----<span class="token operator">&amp;</span>符号表示替换换字符串中被找到的部份。所有以192.168.0.1开头的行都会被替换成它自已加 localhost，变成192.168.0.1localhost。
$ <span class="token function">sed</span> -n <span class="token string">'s/\(love\)able/\1rs/p'</span> example	-----love被标记为1，所有loveable会被替换成lovers，而且替换的行会被打印出来。
$ <span class="token function">sed</span> <span class="token string">'s#10#100#g'</span> example					-----不论什么字符，紧跟着s命令的都被认为是新的分隔符，所以，“<span class="token comment">#”在这里是分隔符，代替了默认的“/”分隔符。表示把所有10替换成100。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>选定行的范围：逗号</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> -n <span class="token string">'/test/,/check/p'</span> example			-----所有在模板test和check所确定的范围内的行都被打印。
$ <span class="token function">sed</span> -n <span class="token string">'5,/^test/p'</span> example				-----打印从第五行开始到第一个包含以test开始的行之间的所有行。
$ <span class="token function">sed</span> <span class="token string">'/test/,/check/s/$/sed test/'</span> example	-----对于模板test和west之间的行，每行的末尾用字符串sed test替换。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>多点编辑：e命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> -e <span class="token string">'1,5d'</span> -e <span class="token string">'s/test/check/'</span> example-----<span class="token punctuation">(</span>-e<span class="token punctuation">)</span>选项允许在同一行里执行多条命令。如例子所示，第一条命令删除1至5行，第二条命令用check替换test。命令的执 行顺序对结果有影响。如果两个命令都是替换命令，那么第一个替换命令将影响第二个替换命令的结果。
$ <span class="token function">sed</span> --expression<span class="token operator">=</span><span class="token string">'s/test/check/'</span> --expression<span class="token operator">=</span><span class="token string">'/love/d'</span> example-----一个比-e更好的命令是--expression。它能给sed表达式赋值。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>从文件读入：r命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> <span class="token string">'/test/r file'</span> example-----file里的内容被读进来，显示在与test匹配的行后面，如果匹配多行，则file的内容将显示在所有匹配行的下面。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>写入文件：w命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> -n <span class="token string">'/test/w file'</span> example-----在example中所有包含test的行都被写入file里。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>追加命令：a命令</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> <span class="token string">'/^test/a\---&gt;this is a example'</span> example<span class="token operator">&lt;</span>-----<span class="token string">'this is a example'</span>被追加到以test开头的行后面，sed要求命令a后面有一个反斜杠。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>插入：i命令</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sed</span> <span class="token string">'/test/i\new line-------------------------'</span> example如果test被匹配，则把反斜杠后面的文本插入到匹配行的前面。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="使用sed修改配置文件示例"><a href="#使用sed修改配置文件示例" class="header-anchor">#</a> 使用Sed修改配置文件示例</h4> <p><strong>使用如下测试文件</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
centos
nginx
mysql
httpd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="替换文件内容"><a href="#替换文件内容" class="header-anchor">#</a> 替换文件内容</h4> <ol><li>替换文件内容，<code>替换centos为redhat</code>，然后再<code>redhat的后面添加centos和在centos前面添加ubnutu</code>。</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i 's/centos/redhat/g' sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
redhat
nginx
mysql
httpd
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i '/redhat/a\centos' sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
redhat
centos
nginx
mysql
httpd
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i '/centos/i\ubnutu' sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
redhat
ubnutu
centos
nginx
mysql
httpd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="2"><li>增加文件的内容，<code>在末尾添加三行abc</code></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i '$a\abc\nabc\nabc' sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
redhat
ubnutu
centos
nginx
mysql
httpd
abc
abc
abc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="3"><li>将内容以<code>abc开头的修改成myjob</code></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@shell-centos-3 ~]# sed -i 's/^abc/myjob/g' sh
[root@shell-centos-3 ~]# cat sh
redhat
ubnutu
centos
nginx
mysql
httpd
myjob
myjob
myjob
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="4"><li>用grep<code>输出文件内容的行数</code>，然后在<code>第7行的下面添加refine=&quot;0.1.0.12&quot;，dailysign=&quot;0.1.0.4&quot;，stonehenge=&quot;0.1.0.2&quot;</code>，首行需要加两个空格。</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># grep -n '.' sh</span>
<span class="token number">1</span>:redhat
<span class="token number">2</span>:ubnutu
<span class="token number">3</span>:centos
<span class="token number">4</span>:nginx
<span class="token number">5</span>:mysql
<span class="token number">6</span>:httpd
<span class="token number">7</span>:myjob
<span class="token number">8</span>:myjob
<span class="token number">9</span>:myjob

<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i &quot;7a  \  refine=\&quot;0.1.0.12\&quot;\n  dailysign=\&quot;0.1.0.4\&quot; \n  stonehenge=\&quot;0.1.0.2\&quot;&quot; sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat  sh</span>
redhat
ubnutu
centos
nginx
mysql
httpd
myjob
  <span class="token assign-left variable">refine</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.12&quot;</span>
  <span class="token assign-left variable">dailysign</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.4&quot;</span>
  <span class="token assign-left variable">stonehenge</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.2&quot;</span>
myjob
myjob
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="5"><li>删除所有的<code>myjob</code></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># sed -i '/myjob/d' sh</span>
<span class="token punctuation">[</span>root@shell-centos-3 ~<span class="token punctuation">]</span><span class="token comment"># cat sh</span>
redhat
ubnutu
centos
nginx
mysql
httpd
  <span class="token assign-left variable">refine</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.12&quot;</span>
  <span class="token assign-left variable">dailysign</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.4&quot;</span>
  <span class="token assign-left variable">stonehenge</span><span class="token operator">=</span><span class="token string">&quot;0.1.0.2&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="awk命令"><a href="#awk命令" class="header-anchor">#</a> AWK命令</h2> <h3 id="awk是什么"><a href="#awk是什么" class="header-anchor">#</a> Awk是什么</h3> <p>Awk、sed与grep，俗称Linux下的三剑客，它们之间有很多相似点，但是同样也各有各的特色，相似的地方是它们都可以匹配文本，其中sed和awk还可以用于文本编辑，而grep则不具备这个功用。sed是一种非交互式且面向字符流的编辑器（a &quot;non-interactive&quot; stream-oriented editor），而<code>awk则是一门模式匹配的编程语言</code>，因为它的主要功能是<code>用于匹配文本并处理</code>，同时它有一些编程语言才有的语法，例如函数、分支循环语句、变量等等，当然比起我们常见的编程语言，Awk相对比较简单。</p> <p>使用Awk，我们可以做以下事情：</p> <ul><li><code>将文本文件视为由字段和记录组成的文本数据库；</code></li> <li><code>在操作文本数据库的过程中能够使用变量；</code></li> <li><code>能够使用数学运算和字符串操作</code></li> <li><code>能够使用常见的编程结构，例如条件分支与循环；</code></li> <li><code>能够格式化输出；</code></li> <li><code>能够自定义函数；</code></li> <li><code>能够在awk脚本中执行UNIX命令；</code></li> <li><code>能够处理UNIX命令的输出结果；</code></li></ul> <h3 id="语法问题"><a href="#语法问题" class="header-anchor">#</a> 语法问题</h3> <p>Awk是一门编程语言，所以将awk的脚本视为一段代码。而awk的脚本同样可以写到一个文件中，并通过-f参数指定，这一点和sed是一样的。program一般多个pattern和action序列组成，<code>当读入的记录匹配pattern时</code>，<code>才会执行相应的action命令</code>。这里有一点要注意，在第一种形式中，除去命令行选项外，<code>program参数一定要位于第一个位置</code>。</p> <p><code>Awk的输入被解析成多个记录（Record）</code>，默认情况下，记录的分隔符是\n，因此可以认为一行就是一个记录，记录的分隔符可以通过内置变量<code>RS</code>更改。当记录匹配某个pattern时，才会执行后续的action命令。</p> <p>而每个记录由进一步地被分隔成多个字段（Field），默认情况下字段的分隔符是空白符，例如空格、制表符等等，也可以通过<code>-F ERE</code>选项或者内置变量<code>FS</code>更改。在awk中，可以通过$1，$2...来访问对应位置的字段，同时$0存放整个记录，这一点有点类似shell下的命令行位置参数。关于这些内容，我们会在下面详细介绍，这里你只要知道有这些东西就好。</p> <p>标准的awk命令行参数主要由以下三个：</p> <ul><li><code>-F ERE</code>：定义字段分隔符，该选项的值可以是扩展的正则表达式（ERE）；</li> <li><code>-f progfile</code>：指定awk脚本，可以同时指定多个脚本，它们会按照在命令行中出现的顺序连接在一起；</li> <li><code>-v assignment</code>：定义awk变量，形式同awk中的变量赋值，即name=value，赋值发生在awk处理文本之前；</li></ul> <h3 id="特点和应用场景"><a href="#特点和应用场景" class="header-anchor">#</a> 特点和应用场景</h3> <ul><li><strong>类似于一门语言，C语言</strong></li> <li><strong>过滤，统计，计算</strong></li> <li><strong>过滤，统计日志</strong></li> <li><strong>BEGIN开始和END结尾</strong></li></ul> <h3 id="执行过程"><a href="#执行过程" class="header-anchor">#</a> 执行过程</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk -F,'BEGIN{print &quot;name&quot;}{print $2}END{print &quot;end of file&quot;}' test.txt</span>

<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># cat oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk -F, 'BEGIN{print &quot;name&quot;}{print $2}END{print &quot;end of file&quot;}' oldboy.txt</span>
name
oldboy
zhangyao
李导996
李导996
yy
feixue
lidao
end of <span class="token function">file</span>

<span class="token string">'这里使用BEGIN和END分别在开始和末尾打印，然后在取第三行的第二列的文本内容'</span>
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># cat oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
<span class="token number">110</span>,lidao,COCO
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk -F, 'BEGIN{print &quot;name&quot;}NR==3{print $2}END{print &quot;end of file&quot;}' oldboy.txt</span>
name
李导996
end of <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>举几个简单的例子。通过-F参数设置冒号:为分隔符，并打印各个字段：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>kodango@devops ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;1:2:3&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print $1 &quot; and &quot; $2 &quot; and &quot; $3}'</span>
<span class="token number">1</span> and <span class="token number">2</span> and <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在awk的脚本中访问通过-v选项设置的变量：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>kodango@devops ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> -v <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span> <span class="token string">'BEGIN {print a}'</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>通过-v选项设置的变量在<code>BEGIN</code>的位置就可以访问了。<code>BEGIN</code>是一个特殊的pattern，它在awk处理输入之前就会执行，可以认为是一个初始化语句，与此对应的还有<code>END</code>。</p> <p>假设有两个文件：a和b，它们的内容分别如下所示：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># cat a</span>
<span class="token function">file</span> a
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># cat b</span>
<span class="token function">file</span> b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>为了说明赋值操作发生的时机，我们在BEGIN，正常处理，END三个地方都打印变量的值。</p> <p><code>第一种情况： 变量赋值位于所有文件名参数之前：</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN {print &quot;BEGIN: &quot; var} {print &quot;PROCESS: &quot; var} \</span>
END <span class="token punctuation">{</span>print <span class="token string">&quot;END: &quot;</span> var <span class="token punctuation">}</span>' <span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">1</span> a
BEGIN:
PROCESS: <span class="token number">1</span>
END: <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>结果：赋值操作发生在正常处理之前，<code>BEGIN</code>动作之后。</p> <p><code>第二种情况：变量赋值位于所有文件名之后：</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>kodango@devops awk_temp<span class="token punctuation">]</span>$ <span class="token function">awk</span> <span class="token string">'BEGIN {print &quot;BEGIN: &quot; var} {print &quot;PROCESS: &quot; var} \
END {print &quot;END: &quot; var }'</span> a <span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">1</span>  
BEGIN: 
PROCESS: 
END: <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>结果：赋值操作发生在正常处理之后，<code>END</code>动作之前。</p> <p><code>第三种情况：变量赋值位于文件名之间：</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>kodango@devops awk_temp<span class="token punctuation">]</span>$ <span class="token function">awk</span> <span class="token string">'BEGIN {print &quot;BEGIN: &quot; var} {print &quot;PROCESS: &quot; var} \
END {print &quot;END: &quot; var }'</span> a <span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">1</span> b
BEGIN: 
PROCESS: 
PROCESS: <span class="token number">1</span>
END: <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="awk的行与列"><a href="#awk的行与列" class="header-anchor">#</a> Awk的行与列</h3> <table><thead><tr><th>名词</th> <th>awk中的叫法</th> <th>一些说明</th></tr></thead> <tbody><tr><td>行</td> <td>记录record</td> <td>每一行是默认回车分割的.</td></tr> <tr><td>列</td> <td>字段，域field</td> <td>每一列默认是通过空格分割的.</td></tr> <tr><td>awk中行和列结束标语都是可以修改</td> <td></td> <td></td></tr></tbody></table> <h3 id="awk中取行"><a href="#awk中取行" class="header-anchor">#</a> Awk中取行</h3> <table><thead><tr><th>常用的AWK条件</th> <th></th></tr></thead> <tbody><tr><td>NR==1</td> <td>取出某一行</td></tr> <tr><td>NR&gt;=1&amp;&amp;NR&lt;=5</td> <td>取出1到5行范围</td></tr> <tr><td>符号</td> <td>&gt; &lt; &gt;= &lt;= !=</td></tr> <tr><td>/oldboy/</td> <td></td></tr> <tr><td>/101/,/105/</td> <td></td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk 'NR==1' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO

<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk 'NR&gt;=1 &amp;&amp; NR&lt;=5' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO

<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk '/oldboy/' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO

<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk '/101/,/105/' oldboy.txt</span>
<span class="token number">101</span>,oldboy,CEO
<span class="token number">102</span>,zhangyao,CTO
<span class="token number">103</span>,李导996,C00
<span class="token number">103</span>,李导996,C00
<span class="token number">104</span>,yy,CFO
<span class="token number">105</span>,feixue,CIO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="awk中取列"><a href="#awk中取列" class="header-anchor">#</a> Awk中取列</h3> <ul><li><p><code>-F</code> 指定分隔符 指定每一列结果结束标记（默认是空格，连续的空格，tab健）</p></li> <li><p><code>$数字</code>： 表示取出某一列，在awk中$加上内容 就一个意思，表示取出某一列</p></li> <li><p><code>$0</code> 整行的内容</p></li> <li><p><code>$NF</code> 最后一列</p></li> <li><p>{print xxx}</p></li></ul> <p><strong>默认取出第五列和第九列</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls -l | awk '{print$5,$9}' | column -t</span>
<span class="token number">1664</span>  CentOS-Base.repo
<span class="token number">1309</span>  CentOS-CR.repo
<span class="token number">649</span>   CentOS-Debuginfo.repo
<span class="token number">314</span>   CentOS-fasttrack.repo
<span class="token number">630</span>   CentOS-Media.repo
<span class="token number">1331</span>  CentOS-Sources.repo
<span class="token number">4768</span>  CentOS-Vault.repo

<span class="token string">'取出第一列和最后一列'</span>
<span class="token punctuation">[</span>root@centos yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls -l | awk '{print $1,$NF}' | column -t</span>
total        <span class="token number">32</span>
-rw-r--r--.  CentOS-Base.repo
-rw-r--r--.  CentOS-CR.repo
-rw-r--r--.  CentOS-Debuginfo.repo
-rw-r--r--.  CentOS-fasttrack.repo
-rw-r--r--.  CentOS-Media.repo
-rw-r--r--.  CentOS-Sources.repo
-rw-r--r--.  CentOS-Vault.repo

<span class="token string">'在中间添加点东西'</span>
<span class="token punctuation">[</span>root@centos yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls -l | awk '{print $1,&quot;aaaaaa &quot;$NF}' | column -t</span>
total        aaaaaa  <span class="token number">32</span>
-rw-r--r--.  aaaaaa  CentOS-Base.repo
-rw-r--r--.  aaaaaa  CentOS-CR.repo
-rw-r--r--.  aaaaaa  CentOS-Debuginfo.repo
-rw-r--r--.  aaaaaa  CentOS-fasttrack.repo
-rw-r--r--.  aaaaaa  CentOS-Media.repo
-rw-r--r--.  aaaaaa  CentOS-Sources.repo
-rw-r--r--.  aaaaaa  CentOS-Vault.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><img src="C:\Users\zyh\AppData\Roaming\Typora\typora-user-images\image-20211201105701345.png" alt="image-20211201105701345" style="zoom:67%;"> <p><strong>使用awk互相调换第一列和最后一列的位置</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '{print $NF,$2,$3,$4,$5,$6,$1}' passwd</span>
/bin/bash x <span class="token number">0</span> <span class="token number">0</span> root /root root
/sbin/nologin x <span class="token number">1</span> <span class="token number">1</span> bin /bin bin
/sbin/nologin x <span class="token number">2</span> <span class="token number">2</span> daemon /sbin daemon
/sbin/nologin x <span class="token number">3</span> <span class="token number">4</span> adm /var/adm adm
/sbin/nologin x <span class="token number">4</span> <span class="token number">7</span> lp /var/spool/lpd lp
/bin/sync x <span class="token number">5</span> <span class="token number">0</span> <span class="token function">sync</span> /sbin <span class="token function">sync</span>
/sbin/shutdown x <span class="token number">6</span> <span class="token number">0</span> <span class="token function">shutdown</span> /sbin <span class="token function">shutdown</span>  <span class="token string">'这样的内容是没有冒号的，文件内容中的：号变成了空格，所以需要替换为：'</span>

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: -vOFS=: '{print $NF,$2,$3,$4,$5,$6,$1}' passwd</span>
/bin/bash:x:0:0:root:/root:root
/sbin/nologin:x:1:1:bin:/bin:bin
/sbin/nologin:x:2:2:daemon:/sbin:daemon
/sbin/nologin:x:3:4:adm:/var/adm:adm
/sbin/nologin:x:4:7:lp:/var/spool/lpd:lp
/bin/sync:x:5:0:sync:/sbin:sync
/sbin/shutdown:x:6:0:shutdown:/sbin:shutdown
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <ul><li><strong>行与列 名称</strong></li> <li><strong>awk取行与取列，指哪打哪</strong></li> <li><strong><code>取出网卡的ip地址</code></strong></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># ip a s</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span>
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eth0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether fa:16:3e:c4:a5:85 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.25</span>.253.7/24 brd <span class="token number">172.25</span>.253.255 scope global dynamic eth0
       valid_lft 52721sec preferred_lft 52721sec
    inet6 fe80::f816:3eff:fec4:a585/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
       
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># ip a  | grep inet | awk 'NR==3' | awk -F&quot;[ /]+&quot; '{print $3}'^C</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># ip a  | grep inet | awk -F&quot;[ /]+&quot; 'NR==3{print $3}'</span>
<span class="token number">172.25</span>.253.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="awk模式匹配"><a href="#awk模式匹配" class="header-anchor">#</a> Awk模式匹配</h3> <p>awk -F&quot;[/]+&quot; 'NR==3{print $3}'</p> <table><thead><tr><th>awk</th> <th>-F&quot;[/]+&quot;</th> <th>'NR==3{print $3}'</th></tr></thead> <tbody><tr><td>命令</td> <td>选项</td> <td>'条件{动作}'</td></tr> <tr><td></td> <td></td> <td>'找谁{干啥}'</td></tr> <tr><td></td> <td></td> <td>'模式{动作}'</td></tr> <tr><td></td> <td></td> <td>'pattern{action}'</td></tr></tbody></table> <ul><li>比较符号： &gt; &lt; &gt;= &lt;= != ==</li> <li>正则： 支持grep的正则</li> <li>表示范围的：//，//</li> <li>特殊条件：BEGIN和END</li></ul> <h3 id="awk正则匹配"><a href="#awk正则匹配" class="header-anchor">#</a> Awk正则匹配</h3> <ul><li><strong>//支持扩展正常</strong></li> <li><strong>awk可以精确到某一列中包含/不包含..内容 ~</strong></li> <li><strong>~包含</strong></li> <li><strong>!~不包含</strong></li></ul> <table><thead><tr><th>正则</th> <th>awk正则</th></tr></thead> <tbody><tr><td>^ 表示以...开头的行</td> <td>某一列的开头 $3~/^oldboy/</td></tr> <tr><td>$ 表示以...结尾的行</td> <td>某一列的结尾 $4~/lidao$/</td></tr> <tr><td>^$ 表示空行1</td> <td>某一列是空的</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">'找出第三列的以1开头的'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^1/' passwd</span>
bin:x:1:1:bin:/bin:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin
centos:x:1000:1000:Cloud User:/home/centos:/bin/bash


<span class="token string">'找出第三列以2开头的 然后打印第一列第三列和最后一列'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^2/{print $1 $3,$NF}' passwd</span>
daemon2 /sbin/nologin
rpcuser29 /sbin/nologin

<span class="token string">'找出第三列以1或者2开头的 然后打印第一列第三列和最后一列'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^[12]/{print $1 $3,$NF}' passwd</span>
bin1 /sbin/nologin
daemon2 /sbin/nologin
operator11 /sbin/nologin
games12 /sbin/nologin
ftp14 /sbin/nologin
systemd-network192 /sbin/nologin
rpcuser29 /sbin/nologin
centos1000 /bin/bash

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^1|2/{print $1 $3,$NF}' passwd</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^1|^2/{print $1 $3,$NF}' passwd</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F: '$3~/^(1|2)/{print $1 $3,$NF}' passwd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="awk表示范围"><a href="#awk表示范围" class="header-anchor">#</a> Awk表示范围</h3> <ul><li><strong>/哪里开始/，/哪里结束/ 常用</strong></li> <li><strong>NR==1，NR==5 从第一行开始到第5行结束 类似于sed -n '1,5p'</strong></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">'统计范围然后打印第1列和第3列'</span>
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># awk -F&quot;[ ,]+&quot;  '/102/,/105/{print $1,$3}' oldboy.txt</span>
<span class="token number">102</span> CTO
<span class="token number">103</span> C00
<span class="token number">103</span> C00
<span class="token number">104</span> CFO
<span class="token number">105</span> CIO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="awk特殊模式begin-和end"><a href="#awk特殊模式begin-和end" class="header-anchor">#</a> Awk特殊模式BEGIN{}和END{}</h3> <table><thead><tr><th>模式</th> <th>含义</th> <th>应用场景</th></tr></thead> <tbody><tr><td>BEGIN{}</td> <td>里面的内容会在awk<strong>读取文件之前</strong>执行</td> <td>1）进行简单统计，计算，不涉及读取文件（常见）<br>2）用来处理文件之前，添加个表头<br>3）用来定义awk变量（很少用，因为可以用-v）</td></tr> <tr><td>END{}</td> <td>里面的内容会在awk<strong>读取文件之后</strong>执行</td> <td>1）awk进行统计，一般过程：<strong>先进行计算，最后END里面输出结果</strong><br>2）awk使用数组，用来输出数组的结果（常见）</td></tr></tbody></table> <p><strong><code>END{}统计计算</code>：</strong></p> <p><strong>统计方法：</strong></p> <table><thead><tr><th>统计方法</th> <th>简写形式</th> <th>应用场景</th></tr></thead> <tbody><tr><td>i++</td> <td>i=i+1</td> <td>计数，统计次数</td></tr> <tr><td>sum=sum+？？？</td> <td>sum+=？？？</td> <td>求和累加</td></tr> <tr><td>array[]=array[]+1</td> <td>array[]++</td> <td>数组分类计数</td></tr> <tr><td>注意：i，sum都是变量</td> <td></td> <td></td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">'统计/etc/services里面有多少个空行'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk '/^$/' services</span>
·
·
·

<span class="token comment">#使用条件加动作打印结果</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk '/^$/{i++}END{print i}' services</span>
<span class="token number">17</span>

<span class="token string">'使用seq 100求和1+2+3..+100 awk实现'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># seq  100 | awk '{sum=sum+$1}END{print sum}'</span>
<span class="token number">5050</span>
如果想查看过程
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># seq  100 | awk '{sum=sum+$1;print sum}END{print sum}'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="awk数组"><a href="#awk数组" class="header-anchor">#</a> Awk数组</h3> <ul><li><code>统计日志</code>：类似于 统计每个ip出现的次数，统计每种状态码出现的次数，统计系统中每个用户被攻击的次数，统计攻击者的ip出现次数。</li> <li><code>累加求和</code>：统计每个ip消耗的流量。</li></ul> <table><thead><tr><th></th> <th>shell数组</th> <th>awk数组</th> <th></th></tr></thead> <tbody><tr><td>形式</td> <td>array[0]=oldboy array[1]=lidao</td> <td>array[0]=oldboy array[1]=lidao</td> <td></td></tr> <tr><td>使用</td> <td>echo ${array[0]}  ${array[1]}</td> <td>print array[0] array[1]</td> <td></td></tr> <tr><td>批量输出数组内容</td> <td>for i in ${array[*]}<br>do<br>  echo $i<br>done<br></td> <td>for(i in array)<br> print array[i]<br></td> <td>awk数组专用循环，变量获取到的是数组的下标.<br>如果想要数组内容a[i]</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">'awk字母会被识别为变量，如果只是想要使用字符串需要使用双引号引起来'</span>

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{a[0]=oldboy;a[1]=lidao; print a[0],a[1]}'    #这里会打印空行</span>

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{a[0]=&quot;oldboy&quot;;a[1]=&quot;lidao&quot;; print a[0],a[1]}'</span>
oldboy lidao
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{a[0]=12360;a[1]=12360; print a[0],a[1]}'</span>
<span class="token number">12360</span> <span class="token number">12360</span>


<span class="token string">'awk数组专用循环，变量获取到的是数组的下标'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{a[0]=12360;a[1]=12360; for(i in a )print i}'</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token string">'加上array[]'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{a[0]=12360;a[1]=12360; for(i in a )print a[i]}'</span>
<span class="token number">12360</span>
<span class="token number">12360</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><code>处理以下文件内容，将域名取出来并根据域名进行计数排序处理</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># cat url.txt</span>
http://www.etiantian.org/index.html
http://www.etiantian.org/1.html
http://post.etiantian.org/index.html
http://mp3.etiantian.org/index.html
http://www.etiantian.org/3.html
http://post.etiantian.org/2.html

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F&quot;[/.]+&quot; '{print $2}' url.txt</span>
www
www
post
mp3
www
post

<span class="token string">'array[]++ 你要统计三年 []里面就是什么（某一列）'</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk -F&quot;[/.]+&quot; '{array[$2]++}END{for(i in array)print i,array[i]}' url.txt</span>
www <span class="token number">3</span>
mp3 <span class="token number">1</span>
post <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="for循环"><a href="#for循环" class="header-anchor">#</a> for循环</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token number">123</span>
<span class="token keyword">do</span> 
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th>shell编程c语言for循环</th> <th>awk for循环</th> <th></th></tr></thead> <tbody><tr><td>for((i=1;1&lt;=10;i++))<br> do<br>   echo $i<br> done</td> <td>for(i=1;i&lt;=10;i++)<br> print i</td> <td>awk循环用来循环每个字段</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">'1+100'</span>

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{for(i=1;i&lt;=100;i++)sum+=i;print sum}'</span>
<span class="token number">5050</span>

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># awk 'BEGIN{</span>
for<span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i++<span class="token punctuation">)</span>
	<span class="token assign-left variable">sum</span><span class="token operator">+=</span>i<span class="token punctuation">;</span>
print <span class="token function">sum</span>
<span class="token punctuation">}</span><span class="token string">'
5050

'</span>显示详细过程<span class="token string">'
[root@centos etc]# awk '</span>BEGIN<span class="token punctuation">{</span>
for<span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i++<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>sum<span class="token operator">+=</span>i<span class="token punctuation">;</span>
print sum<span class="token punctuation">}</span>
<span class="token punctuation">}</span>'
<span class="token number">5050</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="if判断"><a href="#if判断" class="header-anchor">#</a> if判断</h3> <table><thead><tr><th>shell if判断</th> <th>awk if</th> <th></th></tr></thead> <tbody><tr><td>if[&quot;oldboy&quot; -eq 18];then<br> echo take to dbj<br>fi</td> <td>if(条件)<br> print&quot;dbj&quot;</td> <td>常用</td></tr> <tr><td>if[&quot;oldboy&quot; -eq 18];then<br> echo take to &quot;dbj&quot;<br>else<br> echo &quot;rest&quot;<br>fi</td> <td>if(条件)<br> print&quot;dbj&quot;<br>else<br> print&quot;rest&quot;</td> <td></td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <p><code>统计磁盘空间使用率，如果大于70%，则提示磁盘空间不足，并且显示磁盘分区，磁盘使用率，磁盘挂载点</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># df -h</span>
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        20G  967M   20G   <span class="token number">5</span>% /
devtmpfs        <span class="token number">1</span>.9G     <span class="token number">0</span>  <span class="token number">1</span>.9G   <span class="token number">0</span>% /dev
tmpfs           <span class="token number">1</span>.9G     <span class="token number">0</span>  <span class="token number">1</span>.9G   <span class="token number">0</span>% /dev/shm
tmpfs           <span class="token number">1</span>.9G   17M  <span class="token number">1</span>.9G   <span class="token number">1</span>% /run
tmpfs           <span class="token number">1</span>.9G     <span class="token number">0</span>  <span class="token number">1</span>.9G   <span class="token number">0</span>% /sys/fs/cgroup
tmpfs           379M     <span class="token number">0</span>  379M   <span class="token number">0</span>% /run/user/0

<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># df -h  | awk -F&quot;[ %]+&quot; '{if($5&gt;=70)print &quot;disk not enough&quot;}'</span>
disk not enough
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># df -h  | awk -F&quot;[ %]+&quot; '{if($5&gt;=70)print &quot;disk not enough&quot;,$0}'   #这里会发现只打印了头上那行</span>
disk not enough Filesystem      Size  Used Avail Use% Mounted on


<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># df -h  | awk -F&quot;[ %]+&quot; 'NR&gt;1{if($5&gt;=70)print &quot;disk not enough&quot;,$1,$5}'   #这里会发现没有&gt;=70%</span>
<span class="token punctuation">[</span>root@centos etc<span class="token punctuation">]</span><span class="token comment"># df -h  | awk -F&quot;[ %]+&quot; 'NR&gt;1{if($5&gt;=1)print &quot;disk not enough&quot;,$1,$5}'	#直接缩小到1%</span>
disk not enough /dev/vda1 <span class="token number">5</span>
disk not enough tmpfs <span class="token number">1</span>

<span class="token string">'需要注意的是： awk使用多个条件的时候 第1个条件可以放在 &quot;条件{动作} 第2个条件 一般使用if&quot;'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>统计这段语句中，单词中字符小于6的单词，显示出来。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># echo  I am oldboy teacher welcome to oldboy traning class. | awk -F&quot;[ .]+&quot; '{for(i=1;i&lt;=NF;i++)print $i}'</span>
I
am
oldboy
teacher
welcome
to
oldboy
traning

<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># echo  I am oldboy teacher welcome to oldboy traning class. | awk -F&quot;[ .]+&quot; '{</span>
for<span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>NF<span class="token punctuation">;</span>i++<span class="token punctuation">)</span>
	if<span class="token punctuation">(</span>length<span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">)</span>
		print <span class="token variable">$i</span>
<span class="token punctuation">}</span><span class="token string">'
I
am
to
class


[root@centos ~]# echo oldboy | awk '</span><span class="token punctuation">{</span>print length<span class="token punctuation">(</span><span class="token variable">$1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token string">'
6
[root@centos ~]# echo oldboy tom | awk '</span><span class="token punctuation">{</span>print length<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token string">'
1
[root@centos ~]# echo oldboy tom | awk '</span><span class="token punctuation">{</span>print length<span class="token punctuation">(</span><span class="token variable">$1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token string">'
6
[root@centos ~]# echo oldboy tom | awk '</span><span class="token punctuation">{</span>print length<span class="token punctuation">(</span><span class="token variable">$2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>'
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="awk的内置变量"><a href="#awk的内置变量" class="header-anchor">#</a> Awk的内置变量</h3> <table><thead><tr><th>内置变量</th> <th></th> <th></th></tr></thead> <tbody><tr><td>NR</td> <td>Number of Record 记录号，行</td> <td></td></tr> <tr><td>NF</td> <td>Number of  Field 每行有多个字段（列）$NF表示最后一列</td> <td></td></tr> <tr><td>FS</td> <td>-F： === -v FS=： Field Separator 字段分隔符，每个字段结束标记</td> <td></td></tr> <tr><td>OFS</td> <td>Output Field Separator 输出字段分隔符（awk显示每一列之间通过什么分割，默认空格）</td> <td></td></tr></tbody></table> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <ul><li><strong>gawk gnu awk</strong></li> <li><strong>awk选项 -F -v</strong></li> <li><strong>awk的执行流程</strong></li> <li><strong>awk的取行取列： 指哪打哪</strong></li> <li><strong>awk模式： 正则，范围，特殊模式，比较</strong></li> <li><strong>awk数组： 统计分析日志</strong></li> <li><strong>awk for if</strong></li> <li><strong>man awk /info awk</strong></li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/isicman/Vue/edit/master/docs/《Linux系统》学习笔记/01.Linux三剑客.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/Vue/tags/?tag=Linux" title="标签">#Linux</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/Vue/pages/bbcf03/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Firewalld命令详解</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Vue/pages/bbcf03/">Firewalld命令详解</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/Vue/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/Vue/pages/ace346/"><div>
            SpringBoot配置文件
            <!----></div></a> <span class="date">07-27</span></dt></dl><dl><dd>02</dd> <dt><a href="/Vue/pages/69a126/"><div>
            整合Junit和Mybatis
            <!----></div></a> <span class="date">07-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/Vue/pages/3e651a/"><div>
            SpringBoot快速入门
            <!----></div></a> <span class="date">07-27</span></dt></dl> <dl><dd></dd> <dt><a href="/Vue/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div></div></div></div>
    <script src="/Vue/assets/js/app.2f1a3b6e.js" defer></script><script src="/Vue/assets/js/2.3b495877.js" defer></script><script src="/Vue/assets/js/3.0279f92a.js" defer></script><script src="/Vue/assets/js/179.c3273c2d.js" defer></script><script src="/Vue/assets/js/4.cb69b0f7.js" defer></script>
  </body>
</html>
